{"version":3,"sources":["components/armoury/armourySlice.ts","general/hooks.ts","components/characteristics/characteristicsSlice.ts","components/talents/talentSlice.ts","components/character/EItemCategory.ts","components/character/resources.ts","components/character/ETabNames.ts","components/inventory/inventorySlice.ts","components/armoury/weaponCard.tsx","components/character/Rolls.tsx","components/armoury/spellCard.tsx","components/character/characterSlice.ts","components/talents/talentEntry.tsx","components/armoury/armoury.tsx","components/character/experienceSlice.ts","components/characteristics/characteristicsCounter.tsx","components/armoury/armourCard.tsx","components/inventory/inventory.tsx","components/skills/skillSlice.ts","components/character/experienceView.tsx","components/talents/talentView.tsx","components/character/fileUploadDrop.tsx","components/skills/skillEntry.tsx","components/skills/skillView.tsx","components/search/searchView.tsx","components/character/character.tsx","App.tsx","reportWebVitals.ts","general/store.ts","fonts/CloisterBlack.ttf","index.tsx"],"names":["EWeaponCategory","ESpellType","EDamageType","useAppDispatch","useDispatch","useAppSelector","useSelector","expMapCharacteristics","characteristicsInitialState","name","value","short","bonus","devotion","characteristicsSlice","createSlice","initialState","reducers","increment","state","action","payload","incrementFive","decrement","incrementBonus","decrementBonus","importCharacteristics","characteristics","stat","actions","EGods","armourySlice","armour","head","body","armR","armL","legR","legL","gear","weapons","character","currentWounds","maxWounds","currentInfamy","setGear","removeGear","setWeapon","count","removeWeapon","setWounds","setMaxWounds","importArmoury","EItemCategory","godStringMap","KHORNE","NURGLE","SLAANESH","TZEENTCH","UNALIGNED","SPECIAL","expMapTalents","devotionMap","talentsInitialState","tier","prerequisites","description","talentSlice","addTalent","talent","allTalents","removeTalent","importTalents","talents","ETabNames","allSkills","level","type","allWeapons","category","WEAPON","weaponCategory","PISTOL","damage","range","rof","clip","rld","IMPACT","pen","weight","CHAIN","RENDING","LASER","SPELL","ENERGY","exp","focusPower","sustained","subtype","ATTACK","CONCENTRATION","allArmour","ARMOUR","allItems","MISC","itemsInitialState","inventorySlice","addItem","oldCount","addItemByName","itemname","item","NONE","changeWeaponName","oldName","editWeapon","editArmour","removeItem","editDescription","editCategory","importInventory","inventory","WeaponCard","weapon","editMode","useState","newName","setNewName","weaponEquipped","armoury","testModifier","setTestModifier","show","setShow","text","setText","variant","setVariant","dispatch","getJSXForWeaponCategory","cat","SWORD","getJSXForWeaponType","weaponType","SCHOCK","getWeaponTypeDropdown","Dropdown","Toggle","id","Menu","Object","values","map","index","e","Item","onClick","getWeightField","col","Col","md","FormControl","size","placeholder","aria-label","onChange","event","parseInt","target","getDamageField","Badge","style","cursor","pill","Math","max","getRangeField","getMagazineField","getRemoveFromArmoury","getNameField","OverlayTrigger","overlay","Tooltip","Row","isMeeleWeapon","InputGroup","Append","Button","color","getRollDice","characteristic","dropItems","Header","i","push","DropdownButton","title","rollResult","discordServer","username","modifier","amount","limit","roll","rollType","ERollType","AIM","result","rollSum","sendMessage","getEmbedsForRollType","rollAimAndSendToDiscord","discord","active","characterName","setTimeout","getHitLocation","rollDamageAndSendToDiscord","JSON","stringify","rolls","_","Card","Body","padding","Alert","onClose","SpellCard","spell","characterSlice","prod","debug","layout","left","SEARCH","main","CHARACTERISTICS","right","EXPERIENCE","importCharacter","setCharacterName","setDiscordServer","setDiscordServerDebug","setDiscordActive","setDevotion","setLayout","console","log","changeLayout","field","indexOf","splice","sort","TalentEntryFunction","setActiveTalent","placement","getTierDescription","specialization","Armoury","stats","infamyStat","toughnessStat","agilityStat","armouryState","experience","agilityBonus","setAgilityBonus","agility","floor","maxHealth","maxInfamy","maxFatigue","infamy","setInfamy","fatigue","setFatigue","showTarget","setShowTarget","maxWoundsEditable","setMaxWoundsEditable","health","calcWoundLabel","heavilyWounded","resetDevotion","h","entries","calcDevotion","filter","a","b","newDevotion","grantUnnaturalStat","t","join","ts","namet","tt","increaseSpecialization","grantAdditionalBenefits","spec","counts","flatMap","v","forEach","span","Img","src","ImgOverlay","className","undefined","INIT","rollInitAndSendToDiscord","offset","FormGroup","as","FormLabel","column","sm","onMouseLeave","autoFocus","ProgressBar","animated","now","label","min","backgroundColor","rollValue","reverse","s","toString","length","split","reverseNumber","rollTestAndSendToDiscord","skill","rollTest","message","d","DAMAGE","colorCodeRed","colorCodeGreen","fields","inline","TEST","r","sum","STAT","embeds","content","fetch","method","headers","random","experienceSlice","expSum","importExperience","addEntry","removeEntry","CharacteristicsCounter","React","hideBtns","toggleBtns","Container","alignItems","rollStatAndSendToDiscord","characterDevotion","characteristicsDevotion","lv","reduce","includes","learnCharacteristics","ArmourCard","InventoryFunction","readonly","toggleReadonly","newItem","setNewItem","activeFilter","setFilter","items","itemOptions","getJSXForItemCategory","Tab","defaultActiveKey","ListGroup","ButtonToolbar","ButtonGroup","itemsSorted","keys","localeCompare","key","sortInventory","href","createListItems","Prepend","width","options","onInputChange","selection","Content","getItemButton","disabled","getTypeCard","Pane","eventKey","readOnly","rows","createTabPanes","expMapSkills","skillSlice","setLevel","parent","setBonus","importSkills","skills","addSkill","ExperienceView","newEntry","setNewEntry","calcExpSum","array","slice","Table","striped","borderless","hover","getStyleForDevotion","colSpan","Number","TalentView","sidebar","remainingExp","activeTalent","talentOptions","fluid","createSimpleTalent","hasPrerequisite","prerequisit","createTalentObject","calcNeededExp","paddingRight","flip","labelKey","paginationText","selected","renderMenuItemChildren","option","props","paddingLeft","aria-describedby","getEditFields","talentDevotion","setNewTalent","baseStyle","flex","display","borderWidth","borderRadius","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","FileUploadDrop","importState","setImportState","onDrop","useCallback","acceptedFiles","file","reader","FileReader","onabort","onerror","onload","binaryStr","readAsText","useDropzone","accept","getRootProps","isDragActive","isDragAccept","isDragReject","useMemo","SkillEntryFunction","skillName","showType","showSkilled","callbackRoll","newLore","setNewLore","error","getDiceCol","toUpperCase","getNameCol","getSkilledRow","endsWith","getElement","changeLevel","skillDevotion","Checkbox","checked","getEditRow","dismissible","SkillView","cols","showTypeDef","showSkilledDef","showSettings","skillCols","setSkillCols","toggleShowType","toggleShowSkilled","Jumbotron","height","colCount","skillObjects","skillNames","mapElements","createSkillMatrix","SearchView","emptyTalent","activeSearch","setActiveSearch","searchOptions","replaceAll","plaintext","CharacterFunction","mainCols","setMainCols","editCharacterName","setEditCharacterName","editDiscord","setEditDiscord","editDiscordDebug","setEditDiscordDebug","customAmount","setCustomAmount","customLimit","setCustomLimit","Date","lastSafe","setLastSafe","completeState","importStateFromJson","parse","getCharacteristicsPane","fontFamily","fontSize","createCharacteristicsObjects","Form","rollAndSendToDiscord","getSettingsPane","getNameForTabKey","SETTINGS","char","localStorage","setItem","encodeURIComponent","download","itemName","calcNewItems","Check","border","margin","isNaN","xs","SKILLS","TALENTS","ARMOURY","INVENTORY","getTabForKey","getSkillsPane","getTalentsPane","getTabs","panes","elementCol","useEffect","storedChar","getItem","interval","setInterval","clearInterval","objects","matrix","j","part","Array","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","Fragment","rel","integrity","crossOrigin","document","getElementById"],"mappings":"6OAGYA,EAqBAC,EAsBAC,E,6JC1CCC,EAAiB,kBAAMC,eACvBC,EAAkDC,I,QCWlDC,EAAwB,CACjC,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAM,OAGRC,EAA8B,CACvC,GAAM,CAAEC,KAAM,eAAgBC,MAAO,GAAIC,MAAO,KAAMC,MAAO,EAAGC,SAAU,aAC1E,GAAM,CAAEJ,KAAM,kBAAmBC,MAAO,GAAIC,MAAO,KAAMC,MAAO,EAAGC,SAAU,aAC7E,EAAK,CAAEJ,KAAM,WAAYC,MAAO,GAAIC,MAAO,IAAKC,MAAO,EAAGC,SAAU,UACpE,EAAK,CAAEJ,KAAM,YAAaC,MAAO,GAAIC,MAAO,IAAKC,MAAO,EAAGC,SAAU,UACrE,GAAM,CAAEJ,KAAM,UAAWC,MAAO,GAAIC,MAAO,KAAMC,MAAO,EAAGC,SAAU,aACrE,IAAO,CAAEJ,KAAM,eAAgBC,MAAO,GAAIC,MAAO,MAAOC,MAAO,EAAGC,SAAU,aAC5E,IAAO,CAAEJ,KAAM,aAAcC,MAAO,GAAIC,MAAO,MAAOC,MAAO,EAAGC,SAAU,aAC1E,GAAM,CAAEJ,KAAM,YAAaC,MAAO,GAAIC,MAAO,KAAMC,MAAO,EAAGC,SAAU,YACvE,IAAO,CAAEJ,KAAM,aAAcC,MAAO,GAAIC,MAAO,MAAOC,MAAO,EAAGC,SAAU,YAC1E,IAAO,CAAEJ,KAAM,SAAUC,MAAO,GAAIC,MAAO,MAAOC,MAAO,EAAGC,SAAU,aACtE,IAAO,CAAEJ,KAAM,aAAcC,MAAO,EAAGC,MAAO,MAAOC,MAAO,EAAGC,SAAU,cAIhEC,EAAuBC,YAAY,CAC5CN,KAAM,kBACNO,aAAcR,EACdS,SAAU,CACNC,UAAW,SAACC,EAAOC,GACfD,EAAMC,EAAOC,SAASX,OAAS,GAEnCY,cAAe,SAACH,EAAOC,GACnBD,EAAMC,EAAOC,SAASX,OAAS,GAEnCa,UAAW,SAACJ,EAAOC,GACfD,EAAMC,EAAOC,SAASX,OAAS,GAEnCc,eAAgB,SAACL,EAAOC,GACpBD,EAAMC,EAAOC,SAAST,OAAS,GAEnCa,eAAgB,SAACN,EAAOC,GACpBD,EAAMC,EAAOC,SAAST,MAAQ,EAAIO,EAAMC,EAAOC,SAAST,OAAS,EAAIO,EAAMC,EAAOC,SAAST,MAAQ,GAEvGc,sBAAuB,SAACP,EAAOC,GAC3B,IAAMO,EAAkBP,EAAOC,QAC/B,IAAK,IAAMO,KAAQD,EACfR,EAAMS,GAAQD,EAAgBC,O,EAOgEd,EAAqBe,QAApHX,E,EAAAA,UAAWI,E,EAAAA,cAAeC,E,EAAAA,UAAWC,E,EAAAA,eAAgBC,E,EAAAA,eAAgBC,E,EAAAA,sBACrEZ,EAAf,S,SFhEYd,O,mBAAAA,I,SAAAA,I,iBAAAA,I,kBAAAA,M,cAqBAC,K,gBAAAA,E,+BAAAA,M,cAsBAC,O,mBAAAA,I,qBAAAA,I,mBAAAA,I,iBAAAA,I,mBAAAA,I,gBAAAA,M,KAiCL,I,cGnEK4B,EHqFCC,EAAehB,YAAY,CACpCN,KAAM,UACNO,aApB8B,CAC9BgB,OAAQ,CACJC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,GAEVC,KAAM,GACNC,QAAS,GACTC,UAAW,CACPC,cAAe,EACfC,UAAW,EACXC,cAAe,IAOnB3B,SAAU,CACN4B,QAAS,SAAC1B,EAAOC,GAAqC,IAAD,EACIA,EAAOC,QAApDY,EADyC,EACzCA,KAAMC,EADmC,EACnCA,KAAME,EAD6B,EAC7BA,KAAMD,EADuB,EACvBA,KAAMG,EADiB,EACjBA,KAAMD,EADW,EACXA,KAAM5B,EADK,EACLA,KAE5CU,EAAMa,OAAOC,KAAOA,GAAcd,EAAMa,OAAOC,KAC/Cd,EAAMa,OAAOE,KAAOA,GAAcf,EAAMa,OAAOE,KAC/Cf,EAAMa,OAAOI,KAAOA,GAAcjB,EAAMa,OAAOI,KAC/CjB,EAAMa,OAAOG,KAAOA,GAAchB,EAAMa,OAAOG,KAC/ChB,EAAMa,OAAOM,KAAOA,GAAcnB,EAAMa,OAAOM,KAC/CnB,EAAMa,OAAOK,KAAOA,GAAclB,EAAMa,OAAOK,KAEjDlB,EAAMoB,KAAK9B,GAAQW,EAAOC,SAE5ByB,WAAY,SAAC3B,EAAOC,GAAqC,IAAD,EACCA,EAAOC,QAApDY,EAD4C,EAC5CA,KAAMC,EADsC,EACtCA,KAAME,EADgC,EAChCA,KAAMD,EAD0B,EAC1BA,KAAMG,EADoB,EACpBA,KAAMD,EADc,EACdA,KAAM5B,EADQ,EACRA,KAE5CU,EAAMa,OAAOC,KAAOA,EAAO,EAAId,EAAMa,OAAOC,KAC5Cd,EAAMa,OAAOE,KAAOA,EAAO,EAAIf,EAAMa,OAAOE,KAC5Cf,EAAMa,OAAOI,KAAOA,EAAO,EAAIjB,EAAMa,OAAOI,KAC5CjB,EAAMa,OAAOG,KAAOA,EAAO,EAAIhB,EAAMa,OAAOG,KAC5ChB,EAAMa,OAAOM,KAAOA,EAAO,EAAInB,EAAMa,OAAOM,KAC5CnB,EAAMa,OAAOK,KAAOA,EAAO,EAAIlB,EAAMa,OAAOK,YAErClB,EAAMoB,KAAK9B,IAEtBsC,UAAW,SAAC5B,EAAOC,GACfD,EAAMqB,QAAQpB,EAAOC,QAAQZ,MAA7B,2BAAyCW,EAAOC,SAAhD,IAAyD2B,MAAO,KAEpEC,aAAc,SAAC9B,EAAOC,UACXD,EAAMqB,QAAQpB,EAAOC,QAAQZ,OAExCyC,UAAW,SAAC/B,EAAOC,GACfD,EAAMsB,UAAUC,cAAgBtB,EAAOC,SAE3C8B,aAAc,SAAChC,EAAOC,GAClBD,EAAMsB,UAAUE,UAAYvB,EAAOC,SAEvC+B,cAAe,SAACjC,EAAOC,GAA0C,IAAD,EACdA,EAAOC,QAA7CW,EADoD,EACpDA,OAAQO,EAD4C,EAC5CA,KAAMC,EADsC,EACtCA,QAASC,EAD6B,EAC7BA,UAC/BtB,EAAMa,OAASA,EACfb,EAAMoB,KAAOA,EACbpB,EAAMqB,QAAUA,EAChBrB,EAAMsB,UAAYA,M,EAM0EV,EAAaF,QAAtGgB,E,EAAAA,QAASC,E,EAAAA,WAAYC,E,EAAAA,UAAWE,E,EAAAA,aAAcC,E,EAAAA,UAAWC,E,EAAAA,aAAcC,E,EAAAA,c,GACvErB,EAAf,Q,sIGzIYD,K,gBAAAA,E,gBAAAA,E,oBAAAA,E,oBAAAA,E,sBAAAA,E,mBAAAA,M,KAmBL,IC/BKuB,GD+BCC,GAAgB,CACzB,OAAUxB,EAAMyB,OAChB,OAAUzB,EAAM0B,OAChB,SAAY1B,EAAM2B,SAClB,SAAY3B,EAAM4B,SAClB,UAAa5B,EAAM6B,UACnB,QAAW7B,EAAM8B,SAQRC,GAAgB,CACzB,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,MAGFC,IAAW,mBACnBhC,EAAM6B,WADa,mBAEf7B,EAAM6B,UAAY,GAFH,cAGf7B,EAAM8B,QAAU,GAHD,cAIf9B,EAAMyB,OAAS,GAJA,cAKfzB,EAAM0B,OAAS,GALA,cAMf1B,EAAM4B,SAAW,GANF,cAOf5B,EAAM2B,SAAW,GAPF,kBASnB3B,EAAMyB,QATa,mBAUfzB,EAAM6B,UAAY,GAVH,cAWf7B,EAAM8B,QAAU,GAXD,cAYf9B,EAAMyB,OAAS,GAZA,cAafzB,EAAM0B,OAAS,GAbA,cAcf1B,EAAM4B,SAAW,GAdF,cAef5B,EAAM2B,SAAW,GAfF,kBAiBnB3B,EAAM0B,QAjBa,mBAkBf1B,EAAM6B,UAAY,GAlBH,cAmBf7B,EAAM8B,QAAU,GAnBD,cAoBf9B,EAAMyB,OAAS,GApBA,cAqBfzB,EAAM0B,OAAS,GArBA,cAsBf1B,EAAM4B,SAAW,GAtBF,cAuBf5B,EAAM2B,SAAW,GAvBF,kBAyBnB3B,EAAM4B,UAzBa,mBA0Bf5B,EAAM6B,UAAY,GA1BH,cA2Bf7B,EAAM8B,QAAU,GA3BD,cA4Bf9B,EAAMyB,OAAS,GA5BA,cA6BfzB,EAAM0B,OAAS,GA7BA,cA8Bf1B,EAAM4B,SAAW,GA9BF,cA+Bf5B,EAAM2B,SAAW,GA/BF,kBAiCnB3B,EAAM2B,UAjCa,mBAkCf3B,EAAM6B,UAAY,GAlCH,cAmCf7B,EAAM8B,QAAU,GAnCD,cAoCf9B,EAAMyB,OAAS,GApCA,cAqCfzB,EAAM0B,OAAS,GArCA,cAsCf1B,EAAM4B,SAAW,GAtCF,cAuCf5B,EAAM2B,SAAW,GAvCF,kBAyCnB3B,EAAM8B,SAzCa,mBA0Cf9B,EAAM6B,UAAY,GA1CH,cA2Cf7B,EAAM8B,QAAU,GA3CD,cA4Cf9B,EAAMyB,OAAS,GA5CA,cA6CfzB,EAAM0B,OAAS,GA7CA,cA8Cf1B,EAAM4B,SAAW,GA9CF,cA+Cf5B,EAAM2B,SAAW,GA/CF,OAuDXM,GAAsB,CAC/B,eAAgB,CAAEtD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWM,cAAe,IAAKC,YAAa,oUAGpGC,GAAcpD,YAAY,CACnCN,KAAM,SACNO,aAAc+C,GACd9C,SAAU,CACNmD,UAAW,SAACjD,EAAOC,GACf,IAAMiD,EAASjD,EAAOC,QACF,KAAhBgD,EAAO5D,OACPU,EAAMkD,EAAO5D,MAAQ4D,EAEhBC,GAAWD,EAAO5D,QACnB6D,GAAWD,EAAO5D,MAAQ4D,KAKtCE,aAAc,SAACpD,EAAOC,GAAY,IAAD,SAClBD,EAAK,UAACC,EAAOC,eAAR,aAAC,EAAgBZ,OAErC+D,cAAe,SAACrD,EAAOC,GACnB,IAAMqD,EAAUrD,EAAOC,QACvB,IAAK,IAAMZ,KAAQgE,EACftD,EAAMV,GAAQgE,EAAQhE,O,GAOoB0D,GAAYtC,QAAvDuC,G,GAAAA,UAAWG,G,GAAAA,aAAcC,G,GAAAA,cACzBL,GAAf,S,SC3IYd,K,SAAAA,E,gBAAAA,E,gBAAAA,E,eAAAA,E,aAAAA,Q,KCML,I,GCNKqB,GDMCC,GAAyB,CAClC,WAAc,CAAElE,KAAM,aAAcmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM2B,UACpF,UAAa,CAAEhD,KAAM,YAAamE,MAAO,EAAGC,KAAM,IAAKjE,MAAO,EAAGC,SAAUiB,EAAMyB,QACjF,UAAa,CAAE9C,KAAM,YAAamE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACnF,MAAS,CAAElD,KAAM,QAASmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM2B,UAC3E,QAAW,CAAEhD,KAAM,UAAWmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAMyB,QAC/E,SAAY,CAAE9C,KAAM,WAAYmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACjF,cAAe,CAAElD,KAAM,cAAemE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACvF,QAAW,CAAElD,KAAM,UAAWmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM2B,UAC/E,MAAS,CAAEhD,KAAM,QAASmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM2B,UAC1E,iBAAkB,CAAEhD,KAAM,iBAAkBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM4B,UAC7F,QAAW,CAAEjD,KAAM,UAAWmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WAC/E,YAAe,CAAElD,KAAM,cAAemE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACvF,WAAc,CAAElD,KAAM,aAAcmE,MAAO,EAAGC,KAAM,IAAKjE,MAAO,EAAGC,SAAUiB,EAAM0B,QACnF,YAAe,CAAE/C,KAAM,cAAemE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACvF,MAAS,CAAElD,KAAM,QAASmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM4B,UAC3E,QAAW,CAAEjD,KAAM,UAAWmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM0B,QAC/E,uBAAwB,CAAE/C,KAAM,uBAAwBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACzG,uBAAwB,CAAElD,KAAM,uBAAwBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACzG,oBAAqB,CAAElD,KAAM,oBAAqBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACnG,qBAAsB,CAAElD,KAAM,qBAAsBmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACpG,oBAAqB,CAAElD,KAAM,oBAAqBmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,WAClG,qBAAsB,CAAElD,KAAM,qBAAsBmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACpG,MAAS,CAAElD,KAAM,QAASmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAMyB,QAC1E,aAAgB,CAAE9C,KAAM,eAAgBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM4B,UACzF,kBAAmB,CAAEjD,KAAM,kBAAmBmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WAC/F,SAAY,CAAElD,KAAM,WAAYmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM4B,UACjF,SAAY,CAAEjD,KAAM,WAAYmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM4B,UACjF,kBAAmB,CAAEjD,KAAM,kBAAmBmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,WAC9F,QAAW,CAAElD,KAAM,UAAWmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,WAC9E,WAAY,CAAElD,KAAM,WAAYmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM6B,WACjF,SAAY,CAAElD,KAAM,WAAYmE,MAAO,EAAGC,KAAM,MAAOjE,MAAO,EAAGC,SAAUiB,EAAM0B,QACjF,MAAS,CAAE/C,KAAM,QAASmE,MAAO,EAAGC,KAAM,KAAMjE,MAAO,EAAGC,SAAUiB,EAAM6B,YAGjEW,GAAa,CACtB,mBAAoB,CAAE7D,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM2B,SAAUS,YAAa,+TACzH,aAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,yRACjH,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,6uBAC/F,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,oCAAqCpD,SAAUiB,EAAM6B,UAAWO,YAAa,4UAC/I,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,0CAA2CpD,SAAUiB,EAAM6B,UAAWO,YAAa,qVACjJ,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,oBAAqBpD,SAAUiB,EAAM2B,SAAUS,YAAa,4QAClI,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,mCAAoCpD,SAAUiB,EAAM0B,OAAQU,YAAa,ifAC3I,uBAAwB,CAAEzD,KAAM,uBAAwBuD,KAAM,EAAGC,cAAe,mCAAoCpD,SAAUiB,EAAM4B,SAAUQ,YAAa,mIAC3J,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAMyB,OAAQW,YAAa,0LAC7G,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,iGAC1F,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,2BAA4BpD,SAAUiB,EAAM6B,UAAWO,YAAa,gcAC5H,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,oCAAqCpD,SAAUiB,EAAM6B,UAAWO,YAAa,8IAC7I,YAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,qCAAsCpD,SAAUiB,EAAMyB,OAAQW,YAAa,2QACzI,0BAA2B,CAAEzD,KAAM,0BAA2BuD,KAAM,EAAGC,cAAe,aAAcpD,SAAUiB,EAAM4B,SAAUQ,YAAa,uuBAC3I,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,uaACrH,uBAAwB,CAAEzD,KAAM,uBAAwBuD,KAAM,EAAGC,cAAe,gBAAiBpD,SAAUiB,EAAMyB,OAAQW,YAAa,+9CACtI,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,gCAAiCpD,SAAUiB,EAAM6B,UAAWO,YAAa,2MACzI,mBAAmB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,OAAQpD,SAAUiB,EAAM0B,OAAQU,YAAa,6UAClH,QAAW,CAAEzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,yTAC9E,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,aAAcpD,SAAUiB,EAAM6B,UAAWO,YAAa,qcAChI,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4NACzF,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,uQACzH,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,8GAChH,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM6B,UAAWO,YAAa,qGAClH,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,oBAAqBpD,SAAUiB,EAAM0B,OAAQU,YAAa,+qBACpI,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,8XACrH,aAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM4B,SAAUQ,YAAa,gGAC5G,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM2B,SAAUS,YAAa,8FACxH,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,sFAChH,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2hBAC/F,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM4B,SAAUQ,YAAa,+IAChH,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,sQACjH,UAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,gBAAiBpD,SAAUiB,EAAM2B,SAAUS,YAAa,4QAClH,WAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM0B,OAAQU,YAAa,sEACtG,OAAU,CAAEzD,KAAM,SAAUuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,ySACrG,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,6aAC9F,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,iVACvF,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,sBAAuBpD,SAAUiB,EAAM6B,UAAWO,YAAa,mGACzI,MAAS,CAAEzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,kTAC3E,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM2B,SAAUS,YAAa,wIACzH,yBAA0B,CAAEzD,KAAM,yBAA0BuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,sfAC7G,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM4B,SAAUQ,YAAa,yOACxH,uBAAwB,CAAEzD,KAAM,uBAAwBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM4B,SAAUQ,YAAa,+TAChI,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,kBAAmBpD,SAAUiB,EAAM0B,OAAQU,YAAa,kNAChH,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,uBAAwBpD,SAAUiB,EAAM6B,UAAWO,YAAa,yNACpI,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,0BAA2BpD,SAAUiB,EAAMyB,OAAQW,YAAa,2OAChI,UAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,iKAC3G,OAAU,CAAEzD,KAAM,SAAUuD,KAAM,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,48BAC1E,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,qQACpH,0BAA2B,CAAEzD,KAAM,0BAA2BuD,KAAM,EAAGC,cAAe,oBAAqBpD,SAAUiB,EAAM6B,UAAWO,YAAa,oLACnJ,WAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGC,cAAe,wCAAyCpD,SAAUiB,EAAM6B,UAAWO,YAAa,kQAC7I,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,gBAAiBpD,SAAUiB,EAAMyB,OAAQW,YAAa,iSACpH,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM2B,SAAUS,YAAa,8OAC9G,MAAS,CAAEzD,KAAM,QAASuD,KAAM,EAAGC,cAAe,OAAQpD,SAAUiB,EAAM0B,OAAQU,YAAa,8KAC/F,OAAU,CAAEzD,KAAM,SAAUuD,KAAM,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,4aAC1E,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,0aAClG,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,eAAgBpD,SAAUiB,EAAM6B,UAAWO,YAAa,wXACxH,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,uBAAwBpD,SAAUiB,EAAM6B,UAAWO,YAAa,mUAClI,wBAAyB,CAAEzD,KAAM,wBAAyBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,qJACnI,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,qBAAsBpD,SAAUiB,EAAM4B,SAAUQ,YAAa,4WACvI,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,mBAAoBpD,SAAUiB,EAAM2B,SAAUS,YAAa,0wBAC7H,wBAAyB,CAAEzD,KAAM,wBAAyBuD,KAAM,EAAGC,cAAe,0BAA2BpD,SAAUiB,EAAM2B,SAAUS,YAAa,yOACpJ,WAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,OAAQpD,SAAUiB,EAAM0B,OAAQU,YAAa,4FACrG,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM2B,SAAUS,YAAa,+OACvH,MAAS,CAAEzD,KAAM,QAASuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM0B,OAAQU,YAAa,iKAChG,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,0PAClH,UAAW,CAAEzD,KAAM,UAAWuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM2B,SAAUS,YAAa,+CACtG,yBAA0B,CAAEzD,KAAM,yBAA0BuD,KAAM,EAAGC,cAAe,qBAAsBpD,SAAUiB,EAAM6B,UAAWO,YAAa,0UAClJ,yBAA0B,CAAEzD,KAAM,yBAA0BuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM6B,UAAWO,YAAa,kLACtI,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,oQACnH,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,eAAgBpD,SAAUiB,EAAMyB,OAAQW,YAAa,0FAC7H,qBAAsB,CAAEzD,KAAM,qBAAsBuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,gIACpG,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,0CAA2CpD,SAAUiB,EAAM6B,UAAWO,YAAa,uLACrJ,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,gBAAiBpD,SAAUiB,EAAM6B,UAAWO,YAAa,onBAC3H,uBAAwB,CAAEzD,KAAM,uBAAwBuD,KAAM,EAAGC,cAAe,kCAAmCpD,SAAUiB,EAAM6B,UAAWO,YAAa,+TAC3J,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,wJACzG,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,cAAepD,SAAUiB,EAAM0B,OAAQU,YAAa,uXAC9H,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,oCAAqCpD,SAAUiB,EAAM6B,UAAWO,YAAa,2aACnJ,QAAW,CAAEzD,KAAM,UAAWuD,KAAM,EAAGC,cAAe,2BAA4BpD,SAAUiB,EAAM6B,UAAWO,YAAa,0ZAC1H,oBAAqB,CAAEzD,KAAM,oBAAqBuD,KAAM,EAAGC,cAAe,sBAAuBpD,SAAUiB,EAAM6B,UAAWO,YAAa,qHACzI,WAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,8GACpF,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM0B,OAAQU,YAAa,+GAC5G,MAAS,CAAEzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,qpBAC1E,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,oBAAqBpD,SAAUiB,EAAM6B,UAAWO,YAAa,oKACnI,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,mQAC5F,YAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,cAAepD,SAAUiB,EAAM0B,OAAQU,YAAa,8RAC9G,WAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2IACrF,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,6OAChF,KAAQ,CAAEzD,KAAM,OAAQuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM6B,UAAWO,YAAa,0YAClG,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,cAAepD,SAAUiB,EAAMyB,OAAQW,YAAa,4ZACtH,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGC,cAAe,iBAAkBpD,SAAUiB,EAAM4B,SAAUQ,YAAa,+WACjH,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,qBAAsBpD,SAAUiB,EAAM2B,SAAUS,YAAa,2MAC7H,sBAAuB,CAAEzD,KAAM,sBAAuBuD,KAAM,EAAGC,cAAe,eAAgBpD,SAAUiB,EAAM2B,SAAUS,YAAa,0NACrI,YAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,eAAgBpD,SAAUiB,EAAM0B,OAAQU,YAAa,gTACnH,aAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM6B,UAAWO,YAAa,2CAC9G,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM8B,QAASM,YAAa,4aAClH,aAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,yLACrF,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,MAAOpD,SAAUiB,EAAM2B,SAAUS,YAAa,4XACtH,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM2B,SAAUS,YAAa,+FACpH,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,8JACxF,OAAU,CAAEzD,KAAM,SAAUuD,KAAM,EAAGC,cAAe,wBAAyBpD,SAAUiB,EAAM6B,UAAWO,YAAa,+MACrH,WAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,sRAClF,UAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,aAAcpD,SAAUiB,EAAM6B,UAAWO,YAAa,05BAChH,aAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,sBAAuBpD,SAAUiB,EAAM6B,UAAWO,YAAa,+LAC/H,QAAW,CAAEzD,KAAM,UAAWuD,KAAM,EAAGC,cAAe,sDAAuDpD,SAAUiB,EAAM6B,UAAWO,YAAa,iSACrJ,qBAAsB,CAAEzD,KAAM,qBAAsBuD,KAAM,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,8HAClG,OAAU,CAAEzD,KAAM,SAAUuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,qRAC5E,aAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGC,cAAe,sBAAuBpD,SAAUiB,EAAM6B,UAAWO,YAAa,sXAC3H,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,sCAAuCpD,SAAUiB,EAAMyB,OAAQW,YAAa,qSAC9I,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,wLACpH,gBAAiB,CAAEzD,KAAM,gBAAiBuD,KAAM,EAAGC,cAAe,yCAA0CpD,SAAUiB,EAAM4B,SAAUQ,YAAa,wLACnJ,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM2B,SAAUS,YAAa,+IAC9G,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAMyB,OAAQW,YAAa,i5BAC9G,SAAY,CAAEzD,KAAM,WAAYuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2oBACjF,mBAAoB,CAAEzD,KAAM,mBAAoBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,mIACzH,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM6B,UAAWO,YAAa,wMACxH,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,OAAQpD,SAAUiB,EAAMyB,OAAQW,YAAa,2ZACjH,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,mUACjH,YAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,OAAQpD,SAAUiB,EAAM0B,OAAQU,YAAa,2JACvG,qBAAsB,CAAEzD,KAAM,qBAAsBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,yRACrG,iBAAkB,CAAEzD,KAAM,iBAAkBuD,KAAM,EAAGC,cAAe,gCAAiCpD,SAAUiB,EAAMyB,OAAQW,YAAa,wDAC1I,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,eAAgBpD,SAAUiB,EAAMyB,OAAQW,YAAa,2RAC3H,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,kBAAmBpD,SAAUiB,EAAM6B,UAAWO,YAAa,4bACjI,aAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,2jBACxF,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM0B,OAAQU,YAAa,qFACpH,UAAW,CAAEzD,KAAM,UAAWuD,KAAM,EAAGC,cAAe,gCAAiCpD,SAAUiB,EAAM0B,OAAQU,YAAa,qjBAC5H,eAAgB,CAAEzD,KAAM,eAAgBuD,KAAM,EAAGC,cAAe,mCAAoCpD,SAAUiB,EAAM4B,SAAUQ,YAAa,oOAC3I,YAAa,CAAEzD,KAAM,YAAauD,KAAM,EAAGC,cAAe,mCAAoCpD,SAAUiB,EAAM4B,SAAUQ,YAAa,+eACrI,aAAc,CAAEzD,KAAM,aAAcuD,KAAM,EAAGC,cAAe,mCAAoCpD,SAAUiB,EAAM4B,SAAUQ,YAAa,ocACvI,kBAAmB,CAAEzD,KAAM,kBAAmBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,yZAC/F,cAAe,CAAEzD,KAAM,cAAeuD,KAAM,EAAGC,cAAe,uBAAwBpD,SAAUiB,EAAM6B,UAAWO,YAAa,2TAC9H,qBAAsB,CAAEzD,KAAM,qBAAsBuD,KAAM,EAAGC,cAAe,QAASpD,SAAUiB,EAAM6B,UAAWO,YAAa,iHAC7H,yBAA0B,CAAEzD,KAAM,yBAA0BuD,KAAM,EAAGC,cAAe,SAAUpD,SAAUiB,EAAM4B,SAAUQ,YAAa,2bAGrI,WAAc,CAACzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,oTACpF,UAAa,CAACzD,KAAM,YAAauD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,kaAClF,kBAAmB,CAACzD,KAAM,kBAAmBI,SAAUiB,EAAM6B,UAAWK,KAAM,EAAGE,YAAa,iNAC9F,QAAW,CAACzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,qaAC9E,MAAS,CAACzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4hBAC1E,gBAAiB,CAACzD,KAAM,gBAAiBI,SAAUiB,EAAM6B,UAAWK,KAAM,EAAGE,YAAa,gHAC1F,SAAY,CAACzD,KAAM,WAAYuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2hBAChF,QAAW,CAACzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,iRAC9E,SAAY,CAACzD,KAAM,WAAYuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,uwBAChF,aAAc,CAACzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,oJACpF,KAAQ,CAACzD,KAAM,OAAQuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,urBACxE,MAAS,CAACzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,yVAC1E,cAAe,CAACzD,KAAM,cAAeI,SAAUiB,EAAM6B,UAAWK,KAAM,EAAGE,YAAa,gOACtF,yBAA0B,CAACzD,KAAM,yBAA0BuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,+OAC5G,QAAW,CAACzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,gTAC9E,YAAe,CAACzD,KAAM,cAAeuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,8hCACtF,QAAW,CAACzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4cAC9E,gBAAiB,CAACzD,KAAM,gBAAiBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,smBAC1F,gBAAiB,CAACzD,KAAM,gBAAiBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,6TAC1F,kBAAmB,CAACzD,KAAM,kBAAmBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2sBAC9F,MAAS,CAACzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,igBAC1E,OAAU,CAACzD,KAAM,SAAUuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,8TAC5E,WAAc,CAACzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,swBACpF,UAAa,CAACzD,KAAM,YAAauD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,ofAClF,aAAgB,CAACzD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,uOACxF,KAAQ,CAACzD,KAAM,OAAQuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,0dACxE,cAAe,CAACzD,KAAM,cAAeuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,2SACtF,aAAc,CAACzD,KAAM,aAAcuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,sgCACpF,SAAY,CAACzD,KAAM,WAAYuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4iBAChF,qBAAsB,CAACzD,KAAM,qBAAsBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4LACpG,OAAU,CAACzD,KAAM,SAAUuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,kIAC5E,MAAS,CAACzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,4tBAC1E,0BAA2B,CAACzD,KAAM,0BAA2BuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,sbAC9G,uBAAwB,CAACzD,KAAM,uBAAwBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,iUACxG,MAAS,CAACzD,KAAM,QAASuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,8kBAC1E,QAAW,CAACzD,KAAM,UAAWuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,yLAC9E,2BAA4B,CAACzD,KAAM,2BAA4BuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,qpBAChH,mBAAoB,CAACzD,KAAM,mBAAoBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,gSAChG,mBAAoB,CAACzD,KAAM,mBAAoBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,8mBAChG,eAAgB,CAACzD,KAAM,eAAgBuD,KAAM,EAAGnD,SAAUiB,EAAM6B,UAAWO,YAAa,wWAGxF,UAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,4rBACjF,kBAAmB,CAACzD,KAAM,kBAAmBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,61CAC7F,gBAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,80CACzF,cAAe,CAACzD,KAAM,cAAeuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,smBACrF,qBAAsB,CAACzD,KAAM,qBAAsBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,ulCACnG,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,0uBAC3F,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,+hBACvF,SAAY,CAACzD,KAAM,WAAYuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,4SAC/E,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,q8CACvF,WAAc,CAACzD,KAAM,aAAcuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,oiCACnF,cAAe,CAACzD,KAAM,cAAeuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,6wDACrF,QAAW,CAACzD,KAAM,UAAWuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,wgBAC7E,SAAY,CAACzD,KAAM,WAAYuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,26CAC/E,0BAA2B,CAACzD,KAAM,0BAA2BuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,szCAC7G,UAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,mWACjF,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,wmCACvF,aAAc,CAACzD,KAAM,aAAcuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,sgBACnF,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,6vBAC/F,gBAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,gZACzF,cAAe,CAACzD,KAAM,cAAeuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,sVACrF,SAAY,CAACzD,KAAM,WAAYuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,kUAC/E,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,iiCACjG,wBAAyB,CAACzD,KAAM,wBAAyBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,woCACzG,gBAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,gmCACzF,aAAc,CAACzD,KAAM,aAAcuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,wYACnF,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,yjBAC/F,YAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,gVACjF,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,qmBACjG,UAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,s/BACjF,kBAAmB,CAACzD,KAAM,kBAAmBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,iiCAC7F,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,+SAC/F,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,yhCACjG,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,+3CACjG,cAAe,CAACzD,KAAM,cAAeuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,6sCACrF,gBAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,w9BACzF,gBAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,mqBACzF,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,gaACvF,KAAQ,CAACzD,KAAM,OAAQuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,6yBACvE,SAAY,CAACzD,KAAM,WAAYuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,2hBAC/E,qBAAsB,CAACzD,KAAM,qBAAsBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,u+BACnG,aAAc,CAACzD,KAAM,aAAcuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,0zCACnF,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,qlBACvF,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,ifACjG,UAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,4aACjF,OAAU,CAACzD,KAAM,SAAUuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,wkBAC3E,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM8B,QAASM,YAAa,g+BAIjG,yBAA0B,CAACzD,KAAM,yBAA0BuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,kcAC5G,yBAA0B,CAACzD,KAAM,yBAA0BuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,4SAC5G,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,goBAChG,cAAiB,CAACzD,KAAM,gBAAiBuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,yyBAC1F,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,uvBAChG,8BAA+B,CAACzD,KAAM,8BAA+BuD,MAAO,EAAGnD,SAAUiB,EAAM2B,SAAUS,YAAa,owBAEtH,sBAAuB,CAACzD,KAAM,sBAAuBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,sZACpG,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,0kBACtG,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,qUACtG,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,goBAC1F,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,obAC1F,eAAgB,CAACzD,KAAM,eAAgBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,0rBACtF,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAM0B,OAAQU,YAAa,skBAEtG,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,uaAC9F,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,iiBACtG,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,4SACtG,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,shBAC1F,qBAAsB,CAACzD,KAAM,qBAAsBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,2eAClG,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,8bAC1F,iBAAkB,CAACzD,KAAM,iBAAkBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,0gBAC1F,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAMyB,OAAQW,YAAa,wSAEtG,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,qiBACxG,yBAA0B,CAACzD,KAAM,yBAA0BuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,uSAC5G,yBAA0B,CAACzD,KAAM,yBAA0BuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,gcAC5G,uBAAwB,CAACzD,KAAM,uBAAwBuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,0tBACxG,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,mcAChG,cAAe,CAACzD,KAAM,cAAeuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,uhBACtF,oBAAqB,CAACzD,KAAM,oBAAqBuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,yUAClG,mBAAoB,CAACzD,KAAM,mBAAoBuD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,itBAChG,UAAa,CAACzD,KAAM,YAAauD,MAAO,EAAGnD,SAAUiB,EAAM4B,SAAUQ,YAAa,wUAUzEY,GAA2B,CACpC,WAAc,CAAErE,KAAM,aAAcsE,SAAU1B,GAAc2B,OAAQhC,MAAO,EAAGiC,eAAgBjF,EAAgBkF,OAAQC,OAAQ,SAAUC,MAAO,GAAIC,IAAK,QAASC,KAAM,GAAIC,IAAK,OAAQV,KAAM3E,EAAYsF,OAAQC,IAAK,EAAGC,OAAQ,KAClO,YAAe,CAAEjF,KAAM,cAAesE,SAAU1B,GAAc2B,OAAQhC,MAAO,EAAGiC,eAAgBjF,EAAgB2F,MAAOR,OAAQ,SAAUC,MAAO,EAAGC,IAAK,GAAIC,KAAM,EAAGC,IAAK,GAAIV,KAAM3E,EAAY0F,QAASH,IAAK,EAAGC,OAAQ,KACzN,iBAAkB,CAAEjF,KAAM,iBAAkBsE,SAAU1B,GAAc2B,OAAQhC,MAAO,EAAGmC,OAAQ,SAAUG,KAAM,IAAKF,MAAO,IAAKK,IAAK,EAAGJ,IAAK,QAASE,IAAK,OAAQrB,YAAa,gDAAiDe,eAAgBjF,EAAgBkF,OAAQL,KAAM3E,EAAY2F,MAAOH,OAAQ,GAIzS,SAAa,CAAEjF,KAAM,WAAYsE,SAAU1B,GAAcyC,MAAO9C,MAAO,EAAGmC,OAAQ,oBAAqBM,IAAK,EAAGZ,KAAM3E,EAAY6F,OAAQC,IAAK,IAAK/B,cAAe,OAAQ7C,OAAQ,OAAQ6E,WAAY,sBAAuBb,MAAO,mBAAoBc,WAAW,EAAOC,QAAS,CAAClG,EAAWmG,OAAQnG,EAAWoG,eAAgBnC,YAAa,ukBAC/U,mBAAqB,CAAEzD,KAAM,mBAAoBsE,SAAU1B,GAAcyC,MAAO9C,MAAO,EAAGmC,OAAQ,SAAUM,IAAK,EAAGZ,KAAM3E,EAAY6F,OAAQC,IAAK,IAAK/B,cAAe,iBAAkB7C,OAAQ,OAAQ6E,WAAY,sBAAuBC,WAAW,EAAMC,QAAS,CAAClG,EAAWmG,OAAQnG,EAAWoG,eAAgBnC,YAAa,woBAMzToC,GAAuC,CAChD,iBAAkB,CACd7F,KAAM,iBACNuC,MAAO,EACP+B,SAAU1B,GAAckD,OACxBnE,KAAM,EACNE,KAAM,EACND,KAAM,EACNF,KAAM,EACND,KAAM,GAEV,gBAAiB,CACbzB,KAAM,gBACNuC,MAAO,EACP+B,SAAU1B,GAAckD,OACxBtE,KAAM,IAIDuE,GAAoB,yBAC7B,SAAY,CACR/F,KAAM,WACNuC,MAAO,EACP+B,SAAU1B,GAAcoD,KACxBvC,YAAa,2ZAEjB,aAAc,CACVzD,KAAM,aACNuC,MAAO,EACP+B,SAAU1B,GAAcoD,KACxBvC,YAAa,uDAEdY,IACAwB,IEnVMI,IAAiB,IAC1B,aAAc,CACVjG,KAAM,aACNuC,MAAO,EACP+B,SAAU1B,GAAcoD,KACxBvC,YAAa,sDAEjB,WAAc,CACVzD,KAAM,aACNsE,SAAU1B,GAAc2B,OACxBhC,MAAO,EACPiC,eAAgBjF,EAAgBkF,OAChCC,OAAQ,SACRC,MAAO,GACPC,IAAK,QACLC,KAAM,GACNC,IAAK,OACLV,KAAM3E,EAAYsF,OAClBC,IAAK,EACLC,OAAQ,MAnBc,6BAqBT,CACbjF,KAAM,cACNsE,SAAU1B,GAAc2B,OACxBhC,MAAO,EACPiC,eAAgBjF,EAAgB2F,MAChCR,OAAQ,SACRC,MAAO,EACPC,IAAK,GACLC,KAAM,EACNC,IAAK,GACLV,KAAM3E,EAAY0F,QAClBH,IAAK,EACLC,OAAQ,MAjCc,eAmCzB,cAAgB,CACbjF,KAAM,cACNuC,MAAO,EACP+B,SAAU1B,GAAckD,OACxBrE,KAAM,KAvCgB,IA4CjByE,GAAiB5F,YAAY,CACtCN,KAAM,QACNO,aAAc0F,GACdzF,SAAU,CACN2F,QAAS,SAACzF,EAAOC,GAAkC,IAAD,EACtCX,EAASW,EAAOC,QAAhBZ,KACFoG,EAAQ,UAAG1F,EAAMV,UAAT,aAAG,EAAauC,MAC9B7B,EAAMV,GAAN,2BAAmBW,EAAOC,SAA1B,IAAmC2B,MAAO6D,EAAWA,EAAW,EAAI,KAExEC,cAAe,SAAC3F,EAAOC,GACnB,IAAM2F,EAAW3F,EAAOC,QACxB,GAAIF,EAAM4F,GACN5F,EAAM4F,GAAU/D,YACb,CACH,IAAMgE,EAAOR,GAASO,GAEf5F,EAAM4F,GAAbC,GACwB,CAAEvG,KAAMsG,EAAU/D,MAAO,EAAG+B,SAAU1B,GAAc4D,QAGpFC,iBAAkB,SAAC/F,EAAOC,GACtBD,EAAMC,EAAOC,QAAQZ,MAAQW,EAAOC,eAC7BF,EAAMC,EAAOC,QAAQ8F,UAEhCC,WAAY,SAACjG,EAAOC,GAChBD,EAAMC,EAAOC,QAAQZ,MAAQW,EAAOC,SAExCgG,WAAY,SAAClG,EAAOC,GAChBD,EAAMC,EAAOC,QAAQZ,MAAQW,EAAOC,SAExCiG,WAAY,SAACnG,EAAOC,GAChB,IAAM4F,EAAO5F,EAAOC,QACD,IAAf2F,EAAKhE,aACE7B,EAAM6F,EAAKvG,MAElBU,EAAM6F,EAAKvG,MAAMuC,SAGzBuE,gBAAiB,SAACpG,EAAOC,GACrB,IAAM4F,EAAO5F,EAAOC,QACpBF,EAAM6F,EAAKvG,MAAMyD,YAAc8C,EAAK9C,aAExCsD,aAAc,SAACrG,EAAOC,GAClB,IAAM4F,EAAO5F,EAAOC,QACpBF,EAAM6F,EAAKvG,MAAMsE,SAAWiC,EAAKjC,UAErC0C,gBAAiB,SAACtG,EAAOC,GACrB,IAAMsG,EAAYtG,EAAOC,QAEzB,IAAI,IAAM2F,KAAQ7F,SACPA,EAAM6F,GAEjB,IAAK,IAAMvG,KAAQiH,EACfvG,EAAMV,GAAQiH,EAAUjH,O,GAiBpCkG,GAAe9E,QATf+E,G,GAAAA,QACAE,G,GAAAA,cACAI,G,GAAAA,iBACAE,G,GAAAA,WACAC,G,GAAAA,WACAC,G,GAAAA,WACAC,G,GAAAA,gBACAC,G,GAAAA,aACAC,G,GAAAA,gB,IAEWd,GAAf,Q,MC1FagB,GAAa,SAAC,GAA2E,IAAzEC,EAAwE,EAAxEA,OAAwE,IAAhEC,gBAAgE,WACnEC,mBAASF,EAAOnH,MADmD,mBAC1FsH,EAD0F,KACjFC,EADiF,KAG3FC,EAAiB5H,GAAe,SAAAc,GAAK,OAAIA,EAAM+G,QAAQ1F,QAAQoF,EAAOnH,SACtEgC,EAAYpC,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,aAC1Cd,EAAkBtB,GAAe,SAAAc,GAAK,OAAIA,EAAMQ,mBAL2C,EAMzDmG,mBAAS,IANgD,mBAM1FK,EAN0F,KAM5EC,EAN4E,OAQzEN,oBAAS,GARgE,mBAQ1FO,EAR0F,KAQpFC,EARoF,OASzER,mBAAS,IATgE,mBAS1FS,EAT0F,KASpFC,EAToF,OAUnEV,mBAAS,WAV0D,mBAU1FW,EAV0F,KAUjFC,EAViF,KAY3FC,EAAWxI,IAGjB,SAASyI,EAAwBC,GAC7B,OAAQA,GACJ,KAAK7I,EAAgB8I,MACjB,OAAO,eAAC,KAAD,IACX,KAAK9I,EAAgBkF,OACjB,OAAO,eAAC,KAAD,IACX,KAAKlF,EAAgB2F,MACjB,OAAO,eAAC,KAAD,IAEf,OAAO,eAAC,KAAD,IAIX,SAASoD,EAAoBC,GACzB,OAAQA,GACJ,KAAK9I,EAAYsF,OACb,OAAO,eAAC,KAAD,IACX,KAAKtF,EAAY0F,QACb,OAAO,eAAC,KAAD,IACX,KAAK1F,EAAY+I,OACb,OAAO,eAAC,KAAD,IACX,KAAK/I,EAAY2F,MACb,OAAO,eAAC,KAAD,IAIf,OAAO,eAAC,KAAD,IAGX,SAASqD,IACL,OAAO,gBAACC,GAAA,EAAD,WACH,eAACA,GAAA,EAASC,OAAV,CAAiBX,QAAQ,UAAUY,GAAG,iBAAtC,SACKT,EAAwBhB,EAAO3C,kBAGpC,eAACkE,GAAA,EAASG,KAAV,UACKC,OAAOC,OAAOxJ,GAAiByJ,KAAI,SAAC/I,EAAOgJ,GAEpC,IAAMC,EAAI3J,EAAgB0J,GAC1B,OAAOC,EAAI,eAACR,GAAA,EAASS,KAAV,CAEPC,QAAS,WACLlB,EAASvB,GAAW,2BAAKQ,GAAN,IAAc3C,eAAgByE,OAH9C,SAIHC,GAJG,4BACmBA,IAGD,aAOjD,SAASG,IAAyB,IAAVC,EAAS,uDAAH,EAC1B,OAAOlC,EACH,gBAACmC,EAAA,EAAD,CAAKC,GAAIF,EAAT,cAAe,eAAC,KAAD,IAAf,IAA2B,eAACG,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOkH,EAAOlC,OACd0E,YAAa,IACbC,aAAW,SACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAClCQ,GADiC,IAEpClC,OAAQ8E,SAASD,EAAME,OAAO/J,cAN1E,OAQE,gBAACsJ,EAAA,EAAD,CAAKC,GAAIF,EAAT,cAAe,eAAC,KAAD,IAAf,IAA4BnC,EAAOlC,OAAnC,OAIV,SAASgF,IACL,OAAO7C,EACH,gBAACmC,EAAA,EAAD,CAAKC,GAAI,EAAT,mBAEI,eAACC,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOkH,EAAOzC,OACdiF,YAAa,SACbC,aAAW,0BACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAAKQ,GAAN,IAAczC,OAAQoF,EAAME,OAAO/J,aACxF,iCACI,eAACiK,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAASvB,GAAW,2BAC5BQ,GAD2B,IAE9BnC,IAAKmC,EAAOnC,IAAMmC,EAAOnC,IAAM,EAAI,OAH9C,eAKA,gBAACkF,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,cAA0C,eAAC,KAAD,IAA1C,IAA6Db,EAAOnC,IAAMmC,EAAOnC,IAAM,EAAvF,OACA,eAACkF,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,kBAAMlB,EAASvB,GAAW,2BAC5BQ,GAD2B,IAE9BnC,IAAKmC,EAAOnC,IAAMsF,KAAKC,IAAIpD,EAAOnC,IAAM,EAAG,GAAK,OAH3D,kBAOJ,gBAAC0D,GAAA,EAAD,WACI,eAACA,GAAA,EAASC,OAAV,CAAiBX,QAAQ,UAAUY,GAAG,iBAAtC,SACKN,EAAoBnB,EAAO/C,QAGhC,eAACsE,GAAA,EAASG,KAAV,UACKC,OAAOC,OAAOtJ,GAAauJ,KAAI,SAAC/I,EAAOgJ,GAEhC,IAAMC,EAAIzJ,EAAYwJ,GACtB,OAAOC,EAAI,eAACR,GAAA,EAASS,KAAV,CAEPC,QAAS,WACLlB,EAASvB,GAAW,2BAAKQ,GAAN,IAAc/C,KAAM6E,OAHpC,SAKTC,GALS,4BACmBA,IAIP,gBAOzC,gBAACK,EAAA,EAAD,CAAKC,GAAI,EAAT,UAAarC,EAAOzC,OAApB,IAA4B,gBAACwF,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,cAA0C,eAAC,KAAD,IAA1C,IAA6Db,EAAOnC,OAAhG,OAIV,SAASwF,IACL,OAAOpD,EACH,gBAACmC,EAAA,EAAD,eAAM,eAAC,KAAD,IAAN,SAA2B,eAACE,EAAA,EAAD,CAAaC,KAAM,KACNC,YAAa,KACb1J,MAAOkH,EAAOxC,MACdiF,aAAW,aACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAClCQ,GADiC,IAEpCxC,MAAOoF,SAASD,EAAME,OAAO/J,cANzE,eASI,eAACwJ,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOkH,EAAOvC,IACd+E,YAAa,QACbC,aAAW,eACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAAKQ,GAAN,IAAcvC,IAAKkF,EAAME,OAAO/J,gBAEvF,gBAACsJ,EAAA,EAAD,eAAM,eAAC,KAAD,IAAN,IAAuBpC,EAAOxC,MAA9B,OAAyCwC,EAAOvC,IAAhD,OAGV,SAAS6F,IACL,OAAOrD,EACH,gBAACmC,EAAA,EAAD,eAAM,eAAC,KAAD,IAAN,aAAuC,eAACE,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOkH,EAAOtC,KACd8E,YAAa,IACbC,aAAW,WACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAClCQ,GADiC,IAEpCtC,KAAMkF,SAASD,EAAME,OAAO/J,cAEhF,eAAC,KAAD,IARJ,WAQgC,eAACwJ,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOkH,EAAOrC,IACd6E,YAAa,cACbC,aAAW,WACXC,SAAU,SAACC,GAAD,OAAW5B,EAASvB,GAAW,2BAClCQ,GADiC,IAEpCrC,IAAKgF,EAAME,OAAO/J,gBAIjE,gBAACsJ,EAAA,EAAD,eAAM,eAAC,KAAD,IAAN,IAA+BpC,EAAOtC,KAAtC,IAA4C,eAAC,KAAD,IAA5C,IAAkEsC,EAAOrC,IAAzE,OAGV,SAAS4F,IACL,OAAOlD,EACH,eAAC+B,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAACU,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,WACLlB,EAAS1F,EAAa2E,IACtBe,EAAS/B,GAAQgB,KAH5B,iBAMK,+BAGjB,SAASwD,IACL,OAAO,eAACpB,EAAA,EAAD,UACH,eAACqB,GAAA,EAAD,CAEIC,QACI,eAACC,GAAA,EAAD,CACIlC,GAAE,kBAAazB,EAAOnH,MAD1B,SACmCmH,EAAO1D,YAAc0D,EAAO1D,YAAc,oBAJrF,SAMK2D,EAAW,gBAAC2D,EAAA,EAAD,WACFC,IAII,+BAHF,eAACzB,EAAA,EAAD,CAAKC,GAAI,EAAT,SACKf,MAIT,gBAACc,EAAA,EAAD,WACKyB,IAAkBvC,IAA0B,+BAC7C,gBAACwC,GAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAaC,KAAM,KACNzJ,MAAOqH,EACPqC,YAAa,cACbC,aAAW,cACXC,SAAU,SAACC,GAAD,OAAWvC,EAAWuC,EAAME,OAAO/J,UAC1D,eAACgL,GAAA,EAAWC,OAAZ,UACI,eAACC,EAAA,EAAD,CAAQzB,KAAM,KACNC,YAAa,OACbP,QAAS,SAACU,GACN5B,EAASzB,GAAiB,2BACnBU,GADkB,IAErBnH,KAAMsH,EACNZ,QAASS,EAAOnH,UANhC,SASI,eAAC,KAAD,CAAqBoK,OAAQ,UAAWgB,MAAO,uBAOnE,iCAAMjD,EAAwBhB,EAAO3C,gBAArC,IAAuD8D,EAAoBnB,EAAO/C,MAAlF,IAA0F+C,EAAOnH,SAtCzG,4BAC8BmH,EAAOnH,SA4C7C,SAASqL,IAKL,IAJA,IAAMC,EAAiBN,IAAkB9J,EAAe,GAASA,EAAe,GAC1EqK,EAAY,CAAC,eAAC7C,GAAA,EAAS8C,OAAV,+CAAoCrE,EAAOnH,QAF3C,WAKVyL,GACLF,EAAUG,KAAK,eAAChD,GAAA,EAASS,KAAV,CAAoDC,QAAS,kBAAMzB,EAAgB8D,IAAnF,SAAwFA,GAAxF,UAAuBtE,EAAOnH,KAA9B,qBAA+CyL,MADzDA,EAAI,GAAIA,GAAK,GAAIA,GAAK,GAAK,EAA3BA,GAIT,OAAO,gBAACV,EAAA,EAAD,WACH,eAACxB,EAAA,EAAD,UACI,eAACoC,GAAA,EAAD,CAAgBjC,KAAK,KAAKkC,MAAOlE,EAAcM,QAAS,YAAxD,SACKuD,MAGT,eAAChC,EAAA,EAAD,UACI,gBAAC4B,EAAA,EAAD,CAAQzB,KAAK,KAAK1B,QAAQ,QAClBoB,QAAS,kBAkBPyC,ECtNnB,SAAiCC,EAAuBC,EAAkB7K,GAA8G,IAA3E8K,EAA0E,uDAAvD,EAAGC,EAAoD,uDAAnC,EAAGC,EAAgC,uDAAhB,IACpKL,EAAqB,2BAAQM,GAAKF,EAAQC,IAArB,IAA6BE,SAAUC,GAAUC,IAAKpL,kBAAiB8K,aAKlG,OAJAH,EAAWU,OAASV,EAAWW,QAAUtL,EAAgBjB,MAAQ4L,EAAWG,SAE5ES,GAAYX,EAAD,qBAA8B5K,EAAgBlB,MAAQ0M,GAAqBb,GAAaE,GAE5FF,ED8LyCc,CAAwB3K,EAAU4K,QAAQ5K,EAAU4K,QAAQC,QAAS7K,EAAU8K,cAAexB,EAAgB5D,GAmB1JO,EAAW4D,EAAWU,OAAS,UAAY,UAC3C1E,GAAQ,GACRkF,YAAW,kBAAMlF,GAAQ,KAAQ,WACjCE,EAAQ,QAAD,OAAS8D,EAAW3K,gBAAgBjB,MAAQ4L,EAAWG,SAAvD,mBAA0EH,EAAWW,QAArF,mBAAuGX,EAAWU,OAAS,UAAY,SAAvI,sBACLS,GAAenB,EAAWW,WALhC,IAAsBX,GAnBV,UAGI,eAAC,KAAD,CAAa1B,MAAO,CAAEC,OAAQ,aAHlC,YAOJ,eAACb,EAAA,EAAD,UACI,gBAAC4B,EAAA,EAAD,CAAQzB,KAAK,KAAK1B,QAAQ,QAClBoB,QAAS,kBAkBJyC,EAlB0BoB,GAA2BjL,EAAU4K,QAAQ5K,EAAU4K,QAAQC,QAAS7K,EAAU8K,cAAe3F,GAmBhJU,GAAQ,GACRA,GAAQ,GACRI,EAAW,QACX8E,YAAW,kBAAMlF,GAAQ,KAAQ,WACjCE,EAAQ,WAAD,OAAY8D,EAAWW,QAAUX,EAAWnH,OAA5C,mBAA6DmH,EAAW7G,IAAxE,qBAAwFkI,KAAKC,UAAUtB,EAAWuB,SAL7H,IAAyBvB,GAnBb,UAGI,eAAC,KAAD,CAAWT,MAAO,UACPjB,MAAO,CAAEC,OAAQ,aAJhC,kBA2BZ,SAASY,IACL,OAAO7D,EAAO3C,eAAiBjF,EAAgB8N,EAsDnD,OAlDQrC,IAQG,gBAACsC,GAAA,EAAD,WACH,eAACA,GAAA,EAAK9B,OAAN,UACI,gBAACT,EAAA,EAAD,WACKJ,IACAV,IACAZ,IACAqB,SAGT,gBAAC4C,GAAA,EAAKC,KAAN,CAAWpD,MAAO,CAAEqD,QAAS,IAA7B,UACKnC,IACD,eAACoC,GAAA,EAAD,CAAOC,QAAS,kBAAM7F,GAAQ,IAAQD,KAAMA,EAAMI,QAASA,EAA3D,SACKF,SAZN,oBAAwBX,EAAOnH,OAoB/B,gBAACsN,GAAA,EAAD,WACH,eAACA,GAAA,EAAK9B,OAAN,UACI,gBAACT,EAAA,EAAD,WACKJ,IACAV,IACAZ,IACAqB,SAGT,gBAAC4C,GAAA,EAAKC,KAAN,CAAWpD,MAAO,CAAEqD,QAAS,GAA7B,UACI,gBAACzC,EAAA,EAAD,WACKP,IACAC,OAEJY,IACD,eAACoC,GAAA,EAAD,CAAOC,QAAS,kBAAM7F,GAAQ,IAAQD,KAAMA,EAAMI,QAASA,EAA3D,SACKF,SAhBN,oBAAwBX,EAAOnH,Q,uCE5VjC2N,GAAY,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAElB5L,EAAYpC,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,aAEhD,OAAO,gBAACsL,GAAA,EAAD,WACH,eAACA,GAAA,EAAK9B,OAAN,UACI,eAACZ,GAAA,EAAD,CAEIC,QACI,eAACC,GAAA,EAAD,CACIlC,GAAE,kBAAagF,EAAM5N,MADzB,SACkC4N,EAAMnK,YAAcmK,EAAMnK,YAAc,oBAJlF,SAMI,iCACI,eAAC,KAAD,IAAiBmK,EAAM5N,SAP/B,2BAC6B4N,EAAM5N,SAUvC,gBAACsN,GAAA,EAAKC,KAAN,WACI,gBAACxC,EAAA,EAAD,WACI,gBAACxB,EAAA,EAAD,WAAMqE,EAAMlJ,OAAZ,IAAoB,gBAACwF,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,cAA0C,eAAC,KAAD,IAA1C,IAA6D4F,EAAM5I,IAAnE,OAApB,OACA,gBAACuE,EAAA,EAAD,eAAM,eAAC,KAAD,IAAN,IAAuBqE,EAAMjJ,MAA7B,UAEJ,gBAACoG,EAAA,EAAD,WACI,gBAACxB,EAAA,EAAD,WAAK,eAAC,KAAD,IAAL,IAAsBqE,EAAMpI,cAC5B,gBAAC+D,EAAA,EAAD,yBAAiBqE,EAAMnI,UAAY,MAAQ,WAG/C,eAAC8D,EAAA,EAAD,UACI,gBAAC4B,EAAA,EAAD,CAAQzB,KAAK,KAAK1B,QAAQ,QAClBoB,QAAS,kBAAM6D,GAA2BjL,EAAU4K,QAAQ5K,EAAU4K,QAAQC,QAAS7K,EAAU8K,cAAec,IADxH,UAEI,eAAC,KAAD,CAAWxC,MAAO,UACPjB,MAAO,CAAEC,OAAQ,aAHhC,sB,oBJpCJnG,O,qCAAAA,I,mBAAAA,I,qBAAAA,I,qBAAAA,I,yBAAAA,I,uBAAAA,I,2BAAAA,I,oBAAAA,Q,KKqBL,IFhBFoI,GEgBQwB,GAAiBvN,YAAY,CACtCN,KAAM,YACNO,aAAc,CACVuM,cAAe,iBACfF,QAAS,CACLC,OAAQ,OACRiB,KAAM,GACNC,MAAO,IAGXC,OAAQ,CACJC,KAAM,CAAChK,GAAUiK,QACjBC,KAAM,CAAClK,GAAUmK,gBAAiB,EAAG,EAAG,EAAG,EAAG,GAC9CC,MAAO,CAACpK,GAAUqK,cAG1B9N,SAAU,CACN+N,gBAAiB,SAAC7N,EAAOC,GAAY,IAAD,EACqBA,EAAOC,QAApDkM,EADwB,EACxBA,cAAeF,EADS,EACTA,QAASoB,EADA,EACAA,OAAQ5N,EADR,EACQA,SACxCM,EAAMoM,cAAgBA,EACtBpM,EAAMkM,QAAUA,EAChBlM,EAAMsN,OAASA,EACftN,EAAMN,SAAWA,GAErBoO,iBAAkB,SAAC9N,EAAOC,GACtBD,EAAMoM,cAAgBnM,EAAOC,SAEjC6N,iBAAkB,SAAC/N,EAAOC,GACtBD,EAAMkM,QAAQkB,KAAOnN,EAAOC,SAEhC8N,sBAAuB,SAAChO,EAAOC,GAC3BD,EAAMkM,QAAQmB,MAAQpN,EAAOC,SAEjC+N,iBAAkB,SAACjO,EAAOC,GACtBD,EAAMkM,QAAQC,OAASlM,EAAOC,SAElCgO,YAAa,SAAClO,EAAOC,GACjBD,EAAMN,SAAWyC,GAAalC,EAAOC,UAEzCiO,UAAW,SAACnO,EAAOC,GACfmO,QAAQC,IAAIpO,EAAOC,SACnBF,EAAMsN,OAASrN,EAAOC,SAE1BoO,aAAc,SAACtO,EAAOC,GAA2D,IAAD,EACrDA,EAAOC,QAAvBqO,EADqE,EACrEA,MAAOhG,EAD8D,EAC9DA,MAEVvI,EAAMsN,OAAOC,KAAKiB,QAAQjG,IAAU,GAAKvI,EAAMsN,OAAOC,KAAKkB,OAAOzO,EAAMsN,OAAOC,KAAKiB,QAAQjG,GAAQ,GACpGvI,EAAMsN,OAAOG,KAAKe,QAAQjG,IAAU,GAAKvI,EAAMsN,OAAOG,KAAKgB,OAAOzO,EAAMsN,OAAOG,KAAKe,QAAQjG,GAAQ,GACpGvI,EAAMsN,OAAOK,MAAMa,QAAQjG,IAAU,GAAKvI,EAAMsN,OAAOK,MAAMc,OAAOzO,EAAMsN,OAAOK,MAAMa,QAAQjG,GAAQ,GAE3GvI,EAAMsN,OAAOiB,GAAOvD,KAAKzC,GACzBvI,EAAMsN,OAAOiB,GAAOG,W,GAMsHvB,GAAezM,QAAtJmN,G,GAAAA,gBAAiBC,G,GAAAA,iBAAkBG,G,GAAAA,iBAAkBF,G,GAAAA,iBAAkBC,G,GAAAA,sBAAuBE,G,GAAAA,YAAwBI,I,GAAXH,U,GAAWG,cCxExHK,IDyEExB,GAAf,QCzEmC,SAAC,GAGyF,IAAD,IAFpF7N,YAEoF,MAF7E,aAE6E,EADpFsP,EACoF,EADpFA,gBAK9B1L,EAHUhE,GAAe,SAAAc,GAAK,OAAIA,EAAMsD,WAGvBhE,GAWvB,OAAO,eAAC4K,GAAA,EAAD,CAEH2E,UAAW,SACX1E,QACI,eAACC,GAAA,EAAD,CAASlC,GAAE,kBAAahF,EAAO5D,MAA/B,SACK4D,EAAOH,cALb,SASH,sBAAK2F,QAAS,kBAAMkG,EAAgB1L,IAApC,SACI,eAACsG,EAAA,EAAD,oBAnBR,SAA4B3G,GACxB,OAAQA,GACJ,KAAM,EAAG,MAAO,SAChB,KAAM,EAAG,MAAO,OAChB,KAAK,EAAG,MAAO,QACf,QAAS,MAAM,IAAN,OAAWA,IAcTiM,CAAmB5L,EAAOL,MAArC,YAA8CK,EAAO5D,MAArD,OAA4D4D,EAAO6L,eAAP,YAA6B7L,EAAO6L,eAApC,KAAwD,SAVrH,iBACY7L,EAAO5D,SCMjB0P,GAAU,WAEnB,IAOMC,EAAQ/P,GAAe,SAAAc,GAAK,OAAIA,EAAMQ,mBACtC0O,EAAaD,EAAK,IAClBE,EAAgBF,EAAK,EACrBG,EAAcH,EAAK,GACnBI,EAAenQ,GAAe,SAAAc,GAAK,OAAIA,EAAM+G,WAC7CzF,EAAYpC,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,aAC1CgC,EAAUpE,GAAe,SAAAc,GAAK,OAAIA,EAAMsD,WACxCgM,EAAapQ,GAAe,SAAAc,GAAK,OAAIA,EAAMsP,cAC3C9H,EAAWxI,IAjBQ,EAmBe2H,mBAAS,GAnBxB,mBAmBlB4I,EAnBkB,KAmBJC,EAnBI,KAqBnBC,EAAU7F,KAAK8F,MAAMN,EAAY7P,MAAQ,GAAK6P,EAAY3P,MAAQ8P,GAClE1O,EAASwO,EAAaxO,OACtB8O,EAAYN,EAAa/N,UAAUE,UACnCoO,EAAoBhG,KAAK8F,MAAMR,EAAW3P,MAAQ,GAAK2P,EAAWzP,OAClEoQ,EAAqBjG,KAAK8F,MAAMP,EAAc5P,MAAQ,GAAK4P,EAAc1P,OAzBtD,EA2BGkH,mBAASiJ,GA3BZ,mBA2BlBE,EA3BkB,KA2BVC,EA3BU,OA4BKpJ,mBAAS,GA5Bd,mBA4BlBqJ,EA5BkB,KA4BTC,EA5BS,OA6BWtJ,oBAAS,GA7BpB,mBA6BlBuJ,EA7BkB,KA6BNC,EA7BM,OA8ByBxJ,oBAAS,GA9BlC,mBA8BlByJ,EA9BkB,KA8BCC,EA9BD,KAgCnBC,EAASjB,EAAa/N,UAAUC,cAEtC,SAASgP,IACL,IAAMC,EAAkBF,EAA4D,GAAlDnB,EAAc5P,MAAQ,GAAK4P,EAAc1P,OAAc,mBAAqB,GAC9G,MAAM,GAAN,OAAU+Q,GAAV,OAA2BF,EAASX,EAAT,gBAA8BW,EAASX,GAAvC,UAAwDW,EAAxD,YAAkEX,IAIjG,IADA,IAAM9E,GAAY,CAAC,eAAC7C,GAAA,EAAS8C,OAAV,oDAvCM,YAwChBC,GACLF,GAAUG,KAAK,eAAChD,GAAA,EAASS,KAAV,CAA0CC,QAAS,kBAAM8G,EAAgBzE,IAAzE,SAA8EA,GAA9E,wBAAqCA,MAD/CA,GAAI,GAAIA,IAAK,GAAIA,IAAK,EAAI,GAA1BA,IAIT,SAAS0F,KACL,IAAMC,EAAItI,OAAOuI,QAAQC,MACpBC,QAAO,SAAAtR,GAAK,MAAiB,cAAbA,EAAM,MACtBmP,MAAK,SAACoC,EAAGC,GAAJ,OAAUA,EAAE,GAAKD,EAAE,MAK7B,GAAIJ,EAAE,GAAG,GAAKA,EAAE,GAAG,IAAM,EAAG,CACxB,IAAMM,EAAcN,EAAE,GAAG,GACrBM,IAAgB1P,EAAU5B,WAE1B8H,EAASpE,GAAaE,EAAQ,WAAD,OAAYhC,EAAU5B,aACnD8H,EAAS0G,GAAY8C,KAErBN,EAAE,GAAG,IAAM,KACNpN,EAAQ,WAAD,OAAY0N,OAkBpC,SAAiCtR,GAC7B,OAAQA,GACJ,KAAKiB,EAAM0B,OACPmF,EAASvE,GAAUE,GAAW,6BAC9B8N,GAAmB9B,GACnB,MACJ,KAAKxO,EAAMyB,OACPoF,EAASvE,GAAUE,GAAW,mBAC9B,IAAM7D,EAAO,aACP4R,EAAI5N,EAAQhE,IAAS6D,GAAW7D,GACtCkI,EAASvE,GAAU,2BAAIiO,GAAL,IAAQnC,eAAgB,CAAC,iBAAmBmC,EAAEnC,gBAAgBoC,WAChFF,GAAmBhC,EAAK,EAAO,GAC/B,MACJ,KAAKtO,EAAM2B,SACP,IAAM8O,EAAKjO,GAAW,qBACtBqE,EAASvE,GAAU,2BAAImO,GAAL,IAASrC,eAAgB,UAC3CkC,GAAmBhC,EAAK,IAAS,GACjC,MACJ,KAAKtO,EAAM4B,SACP,IAAM8O,EAAQ,aACRC,EAAKhO,EAAQ+N,IAAUlO,GAAWkO,GACxC7J,EAASvE,GAAU,2BAAIqO,GAAL,IAASvC,eAAgBwC,GAAuBD,EAAGvC,oBACrEkC,GAAmBhC,EAAK,IACxB,MACJ,WAzCQuC,CAAwBR,GACxBxJ,EAASvE,GAAUE,GAAW,WAAD,OAAY6N,aAIjDxJ,EAAS0G,GAAY,cACrB1G,EAASpE,GAAaE,EAAQ,WAAD,OAAYhC,EAAU5B,aAwC3D,SAASuR,GAAmBxQ,GAA6C,IAArB8K,EAAoB,uDAAH,EAC3DjM,EAAI,oBAAgBmB,EAAKnB,MAC3B4D,EAASI,EAAQhE,GACjB4D,EAEAA,EAAM,2BAAOA,GAAP,IAAe6L,eAAgBwC,GAAuBrO,EAAO6L,mBAEnE7L,EAASC,GAAW,4BACpBD,EAAM,2BAAOA,GAAP,IAAe5D,OAAMyP,eAAgB,OAE/CvH,EAASvE,GAAUC,IACnB,IAAK,IAAI6H,EAAI,EAAGA,EAAIQ,EAAQR,IACxBvD,EAASnH,EAAeI,EAAKjB,QAIrC,SAAS+R,GAAuBE,GAC5B,MAAO,IAAMpI,SAASoI,GAAQ,KAAO,GAGzC,SAASb,KAAgB,IAAD,EACdc,GAAM,mBACP/Q,EAAM6B,UAAY,GADX,cAEP7B,EAAM8B,QAAU,GAFT,cAGP9B,EAAMyB,OAAS,GAHR,cAIPzB,EAAM2B,SAAW,GAJV,cAKP3B,EAAM4B,SAAW,GALV,cAMP5B,EAAM0B,OAAS,GANR,GAQZ+F,OAAOC,OAAO/E,GAASqO,SAAQ,SAAAT,GAAC,OAAIA,EAAExR,YACjCmR,QAAQ,SAAAe,GAAC,OAAIA,KACbC,SAAQ,SAAAtS,GAAK,OAAImS,EAAOnS,QAE7B,IAAM2R,EAAI5N,EAAQ,sBAClB,GAAI4N,EACA,IAAK,IAAInG,EAAI,EAAGA,EAAI1B,SAAS6H,EAAEnC,gBAAkB,KAAMhE,IACnD2G,EAAM,SAQd,OALApC,EAAWqB,QAAQE,QAAO,SAAAe,GAAC,OAAIA,EAAElS,YAAUmS,SAAQ,SAAArJ,GAChC,SAAXA,EAAE9E,MAA8B,UAAX8E,EAAE9E,MAA+B,UAAX8E,EAAE9E,MAC7CgO,EAAOlJ,EAAE9I,eAGVgS,EAGX,OAAO,iCACH,eAACrH,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,8CAGR,gBAACwB,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UAEI,eAACwB,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACKT,OAAOC,OAAOgH,EAAahO,SAASiH,KAAK,SAAC7B,GAAD,OAClC,+BACKA,EAAO7C,WAAa1B,GAAc2B,OAAS,eAAC,GAAD,CAAY4C,OAAQA,IAC1DA,EAAO7C,WAAa1B,GAAcyC,MAChC,eAAC,GAAD,CAAWuI,MAAOzG,IAAsB,gCAHpD,aAAgBA,EAAOnH,gBAU3C,gBAACuJ,EAAA,EAAD,WACI,gBAACwB,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,SACKV,OAAOC,OAAOgH,EAAajO,MAAMkH,KAAI,SAAAlH,GAAI,OACtC,gBAACiJ,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,GAAT,SAAc1H,EAAK9B,OACnB,gBAACuJ,EAAA,EAAD,CAAKC,GAAI,EAAT,cAAa,eAACU,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,WACLlB,EAAS7F,EAAWP,IACpBoG,EAAS/B,GAAQrE,KAH5B,oBAFjB,eAAkBA,EAAK9B,YAW/B,eAACuJ,EAAA,EAAD,CAAKC,GAAI,CAAEgJ,KAAM,GAAjB,SAAsB,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IA7LrC,s3CA8LE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,eAACzI,EAAA,EAAD,CAAO0I,UAAW,gBAAiB5K,QAAS,YAAaqC,MAAI,EAA7D,SAA+D9I,EAAOC,OACrEoP,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,yBAAyC6K,UAG/D,eAACtJ,EAAA,EAAD,UACI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,WACI,eAACwB,EAAA,EAAD,UACI,eAACI,EAAA,EAAD,CAAQnD,QAAS4I,EAAa,UAAY,YAAaxH,QAAS,kBAAMyH,GAAeD,IAArF,SAAkG,eAAC,KAAD,QAGtG,gBAAC7F,EAAA,EAAD,WACI,gBAACI,EAAA,EAAD,CACI/B,QAAS,kBJjK1C,SAAkC0C,EAAuBC,EAAkB5L,GAAsE,IAAvD8L,EAAsD,uDAArC,EAAGC,EAAkC,uDAAlB,IAC3HL,EAAqB,2BAAQM,GAAKF,EAAQC,IAArB,IAA6BE,SAAUC,GAAUyG,KAAM3S,UAIlF,OAFAsM,GAAYX,EAAe,cAAeY,GAAqBb,GAAaE,GAErEF,EI4J4CkH,CAAyB/Q,EAAU4K,QAAQ5K,EAAU4K,QAAQC,QAAS7K,EAAU8K,cAAeqD,EAAS,EAAG,KAC1HnI,QAAS,QAFb,UAEsB,eAAC,KAAD,CAAWoD,MAAO,UAAWjB,MAAO,CAAEC,OAAQ,aAFpE,WAIA,eAACuB,GAAA,EAAD,CAAgBjC,KAAK,KAAKkC,MAAOqE,EAAcjI,QAAS,YAAxD,SACKuD,kBAOzB,gBAACR,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,CAAEwJ,OAAQ,EAAGR,KAAM,GAA5B,SAAiC,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IArNhD,q+DAsNE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,gBAACzI,EAAA,EAAD,CAAO0I,UAAW,gCAAiCvI,MAAI,EAAvD,UAAyD9I,EAAOG,KAAhE,OACCkP,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,0BAA0C6K,UAGhE,eAACtJ,EAAA,EAAD,CAAKC,GAAI,CAAEgJ,KAAM,GAAjB,SAAsB,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IA7NrC,miCA8NE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,eAACzI,EAAA,EAAD,CAAO0I,UAAW,gBAAiB5K,QAAS,YAAaqC,MAAI,EAA7D,SAA+D9I,EAAOE,OACrEmP,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,0BAA0C6K,UAGhE,eAACtJ,EAAA,EAAD,CAAKC,GAAI,CAAEgJ,KAAM,GAAjB,SAAsB,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IAlOrC,q8GAmOE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,eAACzI,EAAA,EAAD,CAAO0I,UAAW,gBAAiB5K,QAAS,YAAaqC,MAAI,EAA7D,SAA+D9I,EAAOI,OACrEiP,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,0BAA0C6K,aAIpE,gBAAC9H,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,CAAEwJ,OAAQ,EAAGR,KAAM,GAA5B,SAAiC,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IAxOhD,uxFAyOE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,eAACzI,EAAA,EAAD,CAAO0I,UAAW,gBAAiB5K,QAAS,YAAaqC,MAAI,EAA7D,SAA+D9I,EAAOK,OACrEgP,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,0BAA0C6K,UAGhE,eAACtJ,EAAA,EAAD,CAAKC,GAAI,CAAEwJ,OAAQ,EAAGR,KAAM,GAA5B,SAAiC,gBAAClF,GAAA,EAAD,eAAO,eAACA,GAAA,EAAKmF,IAAN,CAAUC,IA7OhD,sqFA8OE,gBAACpF,GAAA,EAAKqF,WAAN,WACI,eAACzI,EAAA,EAAD,CAAO0I,UAAW,gBAAiB5K,QAAS,YAAaqC,MAAI,EAA7D,SAA+D9I,EAAOM,OACrE+O,EAAa,eAAC1G,EAAA,EAAD,CAAOlC,QAAS,OAAhB,2BAA2C6K,aAMrE,gBAAC9H,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,qBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACKsH,EACG,gBAACmC,EAAA,EAAD,CAAWC,GAAInI,IAAf,UACI,eAACoI,EAAA,EAAD,CAAWC,QAAM,EAACC,GAAI,EAAtB,yBACA,eAAC9J,EAAA,EAAD,CAAK8J,GAAI,EAAT,SAEI,eAAC5J,EAAA,EAAD,CAAaxJ,MAAOoQ,EACPxG,SAAU,SAACC,GAAD,OAAW5B,EAASxF,EAAaoH,EAAME,OAAO/J,SACxDqT,aAAc,kBAAMvC,GAAqB,IACzCwC,WAAS,SAI9B,gBAACC,GAAA,EAAD,WACI,eAACA,GAAA,EAAD,CAAaxL,QAAS,SAAUyL,SAAUzC,EAASX,EAAWqD,IAAK1C,EACtDzG,IAAK8F,EACLsD,MAAO3C,GAAUX,EAAY,EAAIY,SAAmB4B,EACpDzJ,QAAS,kBAAM2H,GAAqB,MACjD,eAACyC,GAAA,EAAD,CAAaxL,QAAS,YACT2L,MAAO3C,EAASX,EAAY,EAAIY,SAAmB4B,EACnDa,IAAKrD,EAAY,GAAKW,EAAQzG,IAAK8F,EAAY,GAC/CjH,QAAS,kBAAM2H,GAAqB,WAI7D,eAACxH,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,iCACI,eAACU,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,kBAAMlB,EAASzF,EAAU6H,KAAKC,IAAIyG,EAAS,EAAG,MAD9D,eAEA,eAAC9G,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAASzF,EAAU6H,KAAKsJ,IAAI5C,EAAS,EAAGX,EAAY,OAD1E,uBAOZ,gBAACtF,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,sBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,gBAACgK,GAAA,EAAD,WACI,eAACA,GAAA,EAAD,CAAaxL,QAAS,UAAW0L,IAAKlD,EAAQjG,IAAK+F,EACtCqD,MAAK,UAAKnD,EAAL,YAAeF,KACjC,eAACkD,GAAA,EAAD,CAAaxL,QAAS,YAAa0L,IAAKpD,EAAYE,EAAQjG,IAAK+F,SAGzE,eAAC/G,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,iCACI,eAACU,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,kBAAMqH,EAAUD,EAAS,IADzC,eAEA,eAACtG,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMqH,EAAUnG,KAAKsJ,IAAIpD,EAAS,EAAGF,KADrD,uBAOZ,gBAACvF,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,uBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,gBAACgK,GAAA,EAAD,WACI,eAACA,GAAA,EAAD,CAAaxL,QAAS,UAAW0L,IAAKhD,EAASnG,IAAKgG,EACvCoD,MAAK,UAAKjD,EAAL,YAAgBH,KAClC,eAACiD,GAAA,EAAD,CAAaxL,QAAS,YAAa0L,IAAKnD,EAAaG,EAASnG,IAAKgG,SAG3E,eAAChH,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,iCACI,eAACU,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,kBAAMuH,EAAWD,EAAU,IAD3C,eAEA,eAACxG,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMuH,EAAWrG,KAAKsJ,IAAIlD,EAAU,EAAGH,KADvD,uBAOZ,gBAACxF,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,uBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAACoB,GAAA,EAAD,CACIC,QACI,eAACC,GAAA,EAAD,CAASlC,GAAE,SAAX,SACKsE,KAAKC,UAAUrE,OAAOuI,QAAQC,SAH3C,SAMI,eAACpH,EAAA,EAAD,CAAOG,MAAI,EAACF,MAAO,CACf0J,gBAAiB,QACjBzI,MAAO,SAFX,SAGIpJ,EAAU5B,SAAW4B,EAAU5B,SAAWiB,EAAM6B,gBAG5D,gBAACqG,EAAA,EAAD,CAAKC,GAAI,EAAT,UAAY,eAAC,KAAD,CAAgBW,MAAO,CAAEC,OAAQ,WAAagB,MAAO,QAAShC,QAAS,kBAAM+H,QAAzF,UAIJ,gBAACpG,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,uBACA,gBAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,UACI,eAACuB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,oBAAYuG,EAAY7P,MAAQ,GAAK6P,EAAY3P,MAAjD,UAEJ,eAAC4K,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,oBAA2D,GAA9CuG,EAAY7P,MAAQ,GAAK6P,EAAY3P,OAAlD,aAGR,gBAACoJ,EAAA,EAAD,CAAKC,GAAI,EAAT,UACI,eAACuB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,sBAA6D,GAA9CuG,EAAY7P,MAAQ,GAAK6P,EAAY3P,OAApD,UAEJ,eAAC4K,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,mBAA0D,GAA9CuG,EAAY7P,MAAQ,GAAK6P,EAAY3P,OAAjD,gBAMZ,eAAC4K,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,iCAIJ,eAACwB,EAAA,EAAD,UACKjC,OAAOC,OAAO/E,GAASuN,QAAO,SAAAtR,GAAK,OAAIA,EAAMsD,KAAO,KAChDyF,KAAI,SAAA/I,GAAK,OAAI,eAAC,GAAD,2BAAoEA,GAApE,IAA2EqP,gBAAiB,kBAAM,QAAlG,+BAAkDrP,EAAMD,sBAkBvF,SAASgN,GAAe8G,GAC3B,IAAMC,EAPH,SAAuB9T,GAC1B,IAAM+T,EAAgC,IAA5B/T,EAAMgU,WAAWC,OAAe,IAAMjU,EAAMgU,WAAahU,EAAMgU,WAEzE,OAAOlK,SAASiK,EAAEG,MAAM,IAAIJ,UAAUlC,KAAK,KAI3BuC,CAAcN,GAE9B,OAAIC,EAAU,GACH,OACAA,EAAU,GACV,aACAA,EAAU,GACV,YACAA,EAAU,GACV,OACAA,EAAU,GACV,YAEA,WJ3YR,SAASM,GAAyBvI,EAAuBC,EAAkB7K,EAAyBoT,GAA0F,IAA1ErI,EAAyE,uDAAxD,EAAGC,EAAqD,uDAArC,IAAK/L,EAAgC,uDAAhB,EAC1K0L,EAAa0I,GAASrT,EAAiB+K,EAAQC,EAAO/L,EAAOmU,GAC7DE,EAAUF,EAAK,gBAAYA,EAAMtU,KAAlB,SAAgC,GAIrD,OAFAyM,GAAYX,EAAe0I,EAAS9H,GAAqBb,GAAaE,GAE/DF,EASJ,SAASoB,GAA2BnB,EAAuBC,EAAkB5E,GAGhF,IAAMsN,EAAItN,EAAOzC,OAAOyP,MAAM,KACxBlI,EAASlC,SAAS0K,EAAE,IACpBvI,EAAQnC,SAAS0K,EAAE,GAAGN,MAAM,KAAK,IACjCzP,EAASqF,SAAS0K,EAAE,GAAGN,MAAM,KAAK,IAElCtI,EAAuB,uCAAQM,GAAKF,EAAQC,IAArB,IAA6BE,SAAUC,GAAUqI,QAAWvN,GAA5D,IAAoEzC,WAIjG,OAFA+H,GAAYX,EAAD,uBAAgC3E,EAAOnH,KAAvC,KAAgD0M,GAAqBb,GAAaE,GAEtFF,EA8BX,SAASa,GAAqBP,GAC1B,IAAMwI,EAAe,SACfC,EAAiB,QAEvB,OAAQzI,EAAKC,UACT,KAAKC,GAAU7F,KACX,IAAMqF,EAAaM,EACnB,MAAO,CAAC,CACJ0I,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA0BJ,EAAWK,OAAS4I,QAAQ,GAC3E,CAAE9U,KAAM,UAAWC,MAAM,GAAD,OAAK4L,EAAWuB,OAAS0H,QAAQ,GACzD,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWW,SAAWsI,QAAQ,MAInE,KAAKzI,GAAUyG,KACX,IAAMjH,EAAaM,EACnB,MAAO,CAAC,CACJ0I,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA0BJ,EAAWK,OAAS4I,QAAQ,GAC3E,CAAE9U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWuB,OAAS0H,QAAQ,GACtD,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWW,QAAhB,YAA2BX,EAAW1L,MAAQ,EAAI0L,EAAW1L,MAAlC,YAA+C0L,EAAW1L,OAArF,gBAAoG0L,EAAWW,QAAUX,EAAW1L,MAApI,MAA+I2U,QAAQ,MAIvL,KAAKzI,GAAU0I,KACX,IAAMlJ,EAAaM,EACb6I,EAAInJ,EAAWU,OAAS,IAAM,IACpC,MAAO,CACH,CACInB,MAAOS,EAAWU,OAASqI,EAAiBD,EAC5CE,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA2BJ,EAAWK,OAAU4I,QAAQ,GAC7E,CAAE9U,KAAM,UAAWC,MAAM,GAAD,OAAK4L,EAAWuB,OAAS0H,QAAQ,GACzD,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWW,SAAWsI,QAAQ,GACvD,CAAE9U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAW1K,MAAQ2T,QAAQ,GACrD,CAAE9U,KAAM,QAASC,MAAM,GAAD,OAAK4L,EAAW1H,OAAS2Q,QAAQ,GACvD,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWoJ,KAAOH,QAAQ,GACnD,CAAE9U,KAAM,aAAcC,MAAM,GAAD,OAAK4L,EAAWoJ,IAAhB,YAAuBD,EAAvB,YAA4BnJ,EAAWW,QAAvC,cAAoDX,EAAWU,OAAS,cAAgB,mBAMnI,KAAKF,GAAUqI,OACX,IAAM7I,EAAaM,EACnB,MAAO,CACH,CACI0I,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA2BJ,EAAWK,OAAU4I,QAAQ,GAC7E,CAAE9U,KAAM,UAAWC,MAAM,GAAD,OAAK4L,EAAWuB,OAAS0H,QAAQ,GACzD,CAAE9U,KAAM,SAAUC,MAAM,GAAD,OAAK4L,EAAWnH,QAAUoQ,QAAQ,GACzD,CAAE9U,KAAM,MAAOC,MAAM,KAAD,OAAO4L,EAAWW,QAAUX,EAAWnH,OAAvC,MAAmDoQ,QAAQ,GAC/E,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAW7G,KAAO8P,QAAQ,GACnD,CAAE9U,KAAM,OAAQC,MAAM,GAAD,OAAKR,EAAYoM,EAAWzH,OAAS0Q,QAAQ,MAKlF,KAAKzI,GAAU6I,KACX,IAAMrJ,EAAaM,EACb6I,EAAInJ,EAAWU,OAAS,IAAM,IACpC,MAAO,CAAC,CACJnB,MAAOS,EAAWU,OAASqI,EAAiBD,EAC5CE,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA2BJ,EAAWK,OAAU4I,QAAQ,GAC7E,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWW,SAAWsI,QAAQ,GACvD,CAAE9U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAW3K,gBAAgBjB,MAAhC,YAAyC4L,EAAWG,SAAW,EAAIH,EAAWG,SAArC,WAAoDH,EAAWG,WAAc8I,QAAQ,GACnJ,CAAE9U,KAAM,aAAaC,MAAM,GAAD,OAAK4L,EAAW3K,gBAAgBjB,MAAQ4L,EAAWG,SAAnD,YAA+DgJ,EAA/D,YAAoEnJ,EAAWW,QAA/E,cAA4FX,EAAWU,OAAS,cAAgB,mBAItK,KAAKF,GAAUC,IACX,IAAMT,EAAaM,EACb6I,EAAInJ,EAAWU,OAAS,IAAM,IACpC,MAAO,CAAC,CACJnB,MAAOS,EAAWU,OAASqI,EAAiBD,EAC5CE,OAAQ,CACJ,CAAE7U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAWI,OAAhB,YAA2BJ,EAAWK,OAAU4I,QAAQ,GAC7E,CAAE9U,KAAM,MAAOC,MAAM,GAAD,OAAK4L,EAAWW,SAAWsI,QAAQ,GACvD,CAAE9U,KAAM,OAAQC,MAAM,GAAD,OAAK4L,EAAW3K,gBAAgBjB,MAAhC,YAAyC4L,EAAWG,SAAW,EAAIH,EAAWG,SAArC,WAAoDH,EAAWG,WAAc8I,QAAQ,GACnJ,CAAE9U,KAAM,aAAaC,MAAM,GAAD,OAAK4L,EAAW3K,gBAAgBjB,MAAQ4L,EAAWG,SAAnD,YAA+DgJ,EAA/D,YAAoEnJ,EAAWW,QAA/E,cAA4FX,EAAWU,OAAS,cAAgB,gBAC1J,CAAEvM,KAAM,eAAgBC,MAAM,GAAD,OAAK+M,GAAenB,EAAWW,eAQhF,SAASC,GAAYG,EAAiB4H,EAAiBW,EAAapJ,GAChE+C,QAAQC,IAAI7B,KAAKC,UAAU,CACvBpB,SAAUA,EACVqJ,QAASZ,EACTW,OAAQA,KAEZE,MAAMzI,EACF,CACI0I,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3B9T,KAAMyL,KAAKC,UAAU,CACjBpB,SAAUA,EACVqJ,QAASZ,EACTW,OAAQA,MAUxB,SAAShJ,GAAKF,EAAgBC,GAE1B,IADA,IAL0B0H,EAAarJ,EAKjCsB,EAAwB,CAAEO,SAAUC,GAAU7F,KAAM4G,MAAO,GAAIZ,QAAS,EAAGP,SAAQC,SAChF3J,EAAQ,EAAGA,EAAQsJ,EAAWI,OAAQ1J,IAAS,CACpD,IAAM4J,GAPgByH,EAOK,EAPQrJ,EAOLsB,EAAWK,MANtC5B,KAAK8F,MAAM9F,KAAKkL,UAAYjL,EAAMqJ,EAAM,IAAMA,GAOjD/H,EAAWuB,MAAM7K,GAAS4J,EAC1BN,EAAWW,SAAWL,EAE1B,OAAON,EAIX,SAAS0I,GAASrT,EAAyB+K,EAAgBC,EAAe/L,EAAemU,GACrF,IAAMzI,EAAwBM,GAAKF,EAAQC,GAQ3C,OAPAL,EAAWO,SAAWC,GAAU0I,KAEhClJ,EAAW1K,KAAOD,EAAkBf,IAAc,OAALmU,QAAK,IAALA,OAAA,EAAAA,EAAOnU,OAAP,OAAemU,QAAf,IAAeA,OAAf,EAAeA,EAAOnU,MAAQ,GAC3E0L,EAAW1H,MAAQmQ,EAAyB,IAAhBA,EAAMnQ,OAAe,GAAyB,IAAnBmQ,EAAMnQ,MAAQ,GAAW,EAChF0H,EAAWoJ,IAAMpJ,EAAW1H,MAAQ0H,EAAW1K,KAC/C0K,EAAWU,OAASV,EAAWW,QAAUX,EAAWoJ,IAAM,EAEnDpJ,G,SAvONQ,O,eAAAA,I,eAAAA,I,eAAAA,I,eAAAA,I,mBAAAA,I,cAAAA,Q,KKWE,IAAMoJ,GAAkBnV,YAAY,CACvCN,KAAM,aACNO,aAAc,CACV8Q,QAAS,CACL,CAAC5N,YAAa,aAAcwI,OAAQ,KAAM7L,SAAUiB,EAAM6B,UAAWkB,KAAM,OAC3E,CAACX,YAAa,SAAUwI,QAAS,IAAK7L,SAAUiB,EAAM0B,OAAQqB,KAAM,OACpE,CAACX,YAAa,SAAUwI,QAAS,IAAK7L,SAAUiB,EAAM6B,UAAWkB,KAAM,OACvE,CAACX,YAAa,SAAUwI,QAAS,IAAK7L,SAAUiB,EAAM6B,UAAWkB,KAAM,OACvE,CAACX,YAAa,aAAcwI,OAAQ,IAAK7L,SAAUiB,EAAM6B,UAAWkB,KAAM,OAC1E,CAACX,YAAa,SAAUwI,QAAS,IAAM7L,SAAUiB,EAAM6B,UAAWkB,KAAM,QAE5EsR,OAAQ,GAEZlV,SAAW,CACPmV,iBAAkB,SAACjV,EAAOC,GAAsC,IAAD,EAC/BA,EAAOC,QAA3ByQ,EADmD,EACnDA,QAASqE,EAD0C,EAC1CA,OACjBhV,EAAM2Q,QAAUA,EAChB3Q,EAAMgV,OAASA,GAEnBE,SAAU,SAAClV,EAAOC,GACdD,EAAMgV,QAAU/U,EAAOC,QAAQqL,OAC/BvL,EAAM2Q,QAAQ3F,KAAK/K,EAAOC,UAE9BiV,YAAa,SAACnV,EAAOC,GAAmC,IAAD,EACnDD,EAAMgV,QAAN,UAAgBhV,EAAM2Q,QAAQlC,OAAOxO,EAAOC,QAAS,GAAG,UAAxD,aAAgB,EAA4CqL,W,GAKbwJ,GAAgBrU,QAA5DuU,G,GAAAA,iBAAkBC,G,GAAAA,SAAUC,G,GAAAA,YCpC9BC,IDqCEL,GAAf,QCrCsC,SAAC,GAAoB,IAAD,IAAjBvV,aAAiB,MAAT,GAAS,IACvB6V,IAAM1O,UAAS,GADQ,mBAC/C2O,EAD+C,KACrCC,EADqC,KAGhD3K,EAAiB1L,GAAe,SAAAc,GAAK,OAAIA,EAAMQ,gBAAgBhB,MAC/D8P,EAAapQ,GAAe,SAAAc,GAAK,OAAIA,EAAMsP,cAC3ChO,EAAYpC,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,aAC1CkG,EAAWxI,IAoBjB,OAAO,gBAACwW,EAAA,EAAD,CAAWtN,GAAE,eAAU0C,EAAetL,MAAQmK,MAAO,CAAE0J,gBAAiB,YAAarG,QAAS,GAA9F,UACH,eAACzC,EAAA,EAAD,CAAK3B,QAAS,kBAAM6M,GAAYD,IAAhC,SACI,eAACzM,EAAA,EAAD,UACI,eAACW,EAAA,EAAD,CAAOlC,QAAQ,YAAYqC,MAAI,EAACF,MAAO,CAAEC,OAAQ,WAAjD,SACKkB,EAAetL,WAI5B,eAAC+K,EAAA,EAAD,CAAKZ,MAAO,CAAEgM,WAAY,WAA1B,SACI,eAAC5M,EAAA,EAAD,UACMyM,EA8BI,uCACE,eAAC,KAAD,CACI5M,QAAS,kBNO9B,SAAkC0C,EAAuBC,EAAkB7K,GAAgH,IAA7E8K,EAA4E,uDAAzD,EAAGC,EAAsD,uDAArC,EAAGC,EAAkC,uDAAlB,IACrKL,EAAqB,2BAAQM,GAAKF,EAAQC,IAArB,IAA6BE,SAAUC,GAAU6I,KAAMhU,kBAAiB8K,aAKnG,OAJAH,EAAWU,OAASV,EAAWW,QAAUtL,EAAgBjB,MAAQ4L,EAAWG,SAE5ES,GAAYX,EAAD,qBAA8B5K,EAAgBlB,MAAQ0M,GAAqBb,GAAaE,GAE5FF,EMbgCuK,CAAyBpU,EAAU4K,QAAQ5K,EAAU4K,QAAQC,QAAS7K,EAAU8K,cAAexB,IAC9GF,MAAO,UAAWjB,MAAO,CAAEC,OAAQ,aAEtCkB,EAAenL,MACZ,eAAC+J,EAAA,EAAD,CAAOlC,QAAS,YAAhB,SACKsD,EAAenL,QAElB,+BACN,eAAC+J,EAAA,EAAD,CACIlC,QAAS,OACTqC,MAAI,EACJjB,QAAS,kBAAM6M,GAAYD,IAH/B,SAIK1K,EAAerL,WA3CtB,uCACE,iCACI,eAACiK,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAASnH,EAAeuK,EAAepL,SAD7D,eAEA,eAACgK,EAAA,EAAD,CAAOlC,QAAS,YAAhB,SACKsD,EAAenL,MAAQmL,EAAenL,MAAQ,IAEnD,eAAC+J,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACpChB,QAAS,kBAAMlB,EAASlH,EAAesK,EAAepL,SAD7D,kBAGJ,iCACI,eAACgK,EAAA,EAAD,CAAOG,MAAI,EAACrC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WAC1ChB,QAAS,kBAAMlB,EAASzH,EAAU6K,EAAepL,SADxD,eAEA,eAACgK,EAAA,EAAD,CACIlC,QAAS,OACTqC,MAAI,EACJjB,QAAS,kBAAM6M,GAAYD,IAH/B,SAIK1K,EAAerL,QAEpB,eAACiK,EAAA,EAAD,CAAOG,MAAI,EAACrC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WACzChB,QAAS,kBAAMlB,EAASpH,EAAUwK,EAAepL,SADxD,kBAIJ,+BACI,eAACgK,EAAA,EAAD,CAAOG,MAAI,EAACrC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WAC1ChB,QAAS,kBArDxC,SAA8BlJ,GAC1BgI,EAASrH,EAAcyK,EAAepL,QAEtC,IAAMmW,EAAoBrU,EAAU5B,SAAW4B,EAAU5B,SAAWiB,EAAM6B,UACpEoT,EAA0BhL,EAAelL,SAAWkL,EAAelL,SAAWiB,EAAM6B,UAEpFqT,EAAKvG,EAAWqB,QAAQmF,QAAO,SAACvB,EAAD,OACjC7Q,EADiC,EACjCA,KADiC,SAEjCX,YACcgT,SAASnL,EAAetL,OAAkB,SAAToE,EAAkB6Q,EAAM,EAAIA,IAAK,GAE9E1P,EAAMzF,EAAsBuD,GAAYiT,GAAyBD,IAAoB/L,KAAKsJ,IAAI2C,EAAI,IACxGrO,EAAS0N,GAAS,CAAEnS,YAAY,GAAD,OAAK6H,EAAetL,KAApB,kBAAkCuW,GAAMtK,QAAS1G,EAAKnB,KAAM,OAAQhE,SAAUkW,KAyCnEI,CAAqBpL,EAAepL,QAD1D,oC,4GC/DfyW,GAAa,SAAC,GAAqC,IAAnCpV,EAAkC,EAAlCA,OAEnB2G,EAAWxI,IAEjB,OAAO,gBAAC4N,GAAA,EAAD,WACH,eAACA,GAAA,EAAK9B,OAAN,UACKjK,EAAOvB,OAEZ,gBAACsN,GAAA,EAAKC,KAAN,WAGI,gBAACxC,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UACI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,mBAEI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BC,KAAMD,EAAOC,KAAOD,EAAOC,KAAO,EAAI,OAHjD,eAKA,gBAAC0I,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOC,KAAOD,EAAOC,KAAO,EAAxE,OACA,eAAC0I,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EC,KAAMD,EAAOC,KAAO8I,KAAKC,IAAIhJ,EAAOC,KAAO,EAAG,GAAK,OADlE,sBAOZ,eAAC+H,EAAA,EAAD,CAAKC,GAAI,IACT,eAACD,EAAA,EAAD,UAEI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,mBAGI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BE,KAAMF,EAAOE,KAAOF,EAAOE,KAAO,EAAI,OAHjD,eAKA,gBAACyI,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOE,KAAOF,EAAOE,KAAO,EAAxE,OACA,eAACyI,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EE,KAAMF,EAAOE,KAAO6I,KAAKC,IAAIhJ,EAAOE,KAAO,EAAG,GAAK,OADlE,yBAShB,gBAACsJ,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UACI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,mBAEI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BI,KAAMJ,EAAOI,KAAOJ,EAAOI,KAAO,EAAI,OAHjD,eAKA,gBAACuI,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOI,KAAOJ,EAAOI,KAAO,EAAxE,OACA,eAACuI,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EI,KAAMJ,EAAOI,KAAO2I,KAAKC,IAAIhJ,EAAOI,KAAO,EAAG,GAAK,OADlE,sBAOZ,eAAC4H,EAAA,EAAD,CAAKC,GAAI,EAAT,iBACA,eAACD,EAAA,EAAD,UAEI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,oBAGI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BG,KAAMH,EAAOG,KAAOH,EAAOG,KAAO,EAAI,OAHjD,eAKA,gBAACwI,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOG,KAAOH,EAAOG,KAAO,EAAxE,OACA,eAACwI,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EG,KAAMH,EAAOG,KAAO4I,KAAKC,IAAIhJ,EAAOG,KAAO,EAAG,GAAK,OADlE,yBAShB,gBAACqJ,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UACI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,mBAEI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BM,KAAMN,EAAOM,KAAON,EAAOM,KAAO,EAAI,OAHjD,eAKA,gBAACqI,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOM,KAAON,EAAOM,KAAO,EAAxE,OACA,eAACqI,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EM,KAAMN,EAAOM,KAAOyI,KAAKC,IAAIhJ,EAAOM,KAAO,EAAG,GAAK,OADlE,sBAOZ,eAAC0H,EAAA,EAAD,CAAKC,GAAI,EAAT,iBACA,eAACD,EAAA,EAAD,UAEI,eAACwB,EAAA,EAAD,UACI,gBAACxB,EAAA,EAAD,oBAGI,eAACW,EAAA,EAAD,CAAOlC,QAAS,UAAWmC,MAAO,CAAEC,OAAQ,WACrChB,QAAS,kBAAMlB,EAAStB,GAAW,2BAC5BrF,GAD2B,IAE9BK,KAAML,EAAOK,KAAOL,EAAOK,KAAO,EAAI,OAHjD,eAKA,gBAACsI,EAAA,EAAD,CAAOG,MAAM,EAAMrC,QAAS,YAA5B,eAA4CzG,EAAOK,KAAOL,EAAOK,KAAO,EAAxE,OACA,eAACsI,EAAA,EAAD,CAAOlC,QAAS,SAAUmC,MAAO,CAAEC,OAAQ,WAAahB,QAAS,kBAAMlB,EAAStB,GAAW,2BACpFrF,GADmF,IAC3EK,KAAML,EAAOK,KAAO0I,KAAKC,IAAIhJ,EAAOK,KAAO,EAAG,GAAK,OADlE,gCC/FfgV,GAAoB,WAAO,IAAD,EACAvP,oBAAS,GADT,mBAC5BwP,EAD4B,KAClBC,EADkB,OAELzP,mBAAS,IAFJ,mBAE5B0P,EAF4B,KAEnBC,EAFmB,OAGD3P,mBAAS,KAHR,mBAG5B4P,EAH4B,KAGdC,EAHc,KAM7BC,EAAQvX,GAAe,SAAAc,GAAK,OAAIA,EAAMuG,aACtCQ,EAAU7H,GAAe,SAAAc,GAAK,OAAIA,EAAM+G,WACxCS,EAAWxI,IAGX0X,EAAc,GACpB,IAAK,IAAM7Q,KAAQR,GACfqR,EAAY1L,KAAKnF,GA0HrB,SAAS8Q,EAAsBpX,GAC3B,OAAQA,GACJ,KAAK2C,GAAc4D,KACf,MAAO,MACX,KAAK5D,GAAcoD,KACf,OAAO,eAAC,KAAD,IACX,KAAKpD,GAAckD,OACf,OAAO,eAAC,KAAD,IACX,KAAKlD,GAAc2B,OACf,OAAO,eAAC,KAAD,IACX,KAAK3B,GAAcyC,MACf,OAAO,eAAC,KAAD,IAEf,OAAO,eAAC,KAAD,IAcX,OAAO,eAACiS,GAAA,EAAIpB,UAAL,CAAetN,GAAG,0BAA0B2O,iBAAiB,SAA7D,SACH,gBAACxM,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAK8J,GAAI,EAAT,SACI,gBAACmE,GAAA,EAAD,CAAWxP,QAAQ,QAAnB,UAEI,eAACwP,GAAA,EAAUrO,KAAX,UACI,gBAACsO,GAAA,EAAD,WAEI,eAACC,GAAA,EAAD,CAAahO,KAAM,KACNkJ,UAAW,OADxB,SAII,eAACzH,EAAA,EAAD,CAAQ/B,QAAS,kBAvB7C,WACI,IAAMuO,EAA0B,GAChC7O,OAAO8O,KAAKT,GAAO/H,MAAK,SAACoC,EAAGC,GAAJ,OAAUD,EAAEqG,cAAcpG,MAAIzI,KAAI,SAAA8O,GAAG,OAAIH,EAAYG,GAAOX,EAAMW,MAE1FhJ,QAAQC,IAAIoI,GACZrI,QAAQC,IAAI4I,GAEZzP,EAASlB,GAAgB2Q,IAgBsBI,IAAvB,SAAwC,eAAC,KAAD,QAE5C,eAACL,GAAA,EAAD,CAAahO,KAAK,KAAlB,SACKZ,OAAOC,OAAOnG,IAAeoG,KAAI,SAAC/I,GAAD,OAC9B,eAACkL,EAAA,EAAD,CACQnD,QAASiP,IAAiBhX,EAAQ,UAAY,YAC9CmJ,QAAS,WACL8N,EAAUjX,IAHtB,SAIYoX,EAAsBpX,IAJlC,qBAA2BA,cAjK3D,WACI,IAAMsM,EAAwB,GAC9B,IAAK,IAAMvM,KAAQmX,EACXvU,GAAc4D,OAASyQ,GAAgBE,EAAMnX,GAAMsE,WAAa2S,GAChE1K,EAAOb,KAAK,eAAC8L,GAAA,EAAUrO,KAAX,CAAgBxI,QAAM,EAACqX,KAAI,eAAUhY,GAArC,SACPA,GADO,mBAA8DA,KAIlF,OAAOuM,EAkKM0L,GAED,eAACT,GAAA,EAAUrO,KAAX,UACI,gBAAC8B,GAAA,EAAD,CAAY2H,UAAU,OAAtB,UACI,eAAC3H,GAAA,EAAWiN,QAAZ,UACI,eAAC/M,EAAA,EAAD,CAAQ/B,QAAS,kBAAMlB,EAAS7B,GAAc0Q,KACtC/O,QAAQ,kBADhB,SAEKmP,EAAMJ,GAAW,eAAC,KAAD,IAAY,eAAC,KAAD,QAOtC,sBAAK5M,MAAO,CAAEgO,MAAO,UAArB,SACI,eAAC,KAAD,CACIvP,GAAG,yBAEHwP,QAAShB,EACTiB,cAAe,SAACrY,GAAD,OAAUgX,EAAWhX,IAEpC6J,SAAU,SAACyO,GAAD,aAAetB,EAAU,UAACsB,EAAU,UAAX,aAAC,EAAcrE,2BAO1E,eAAC1K,EAAA,EAAD,CAAK8J,GAAI,EAAT,SACI,eAACiE,GAAA,EAAIiB,QAAL,UA5LZ,WACI,IAAMhM,EAAwB,GAE9B,SAASiM,EAAcjS,GACnB,OAAQA,EAAKjC,UACT,KAAK1B,GAAc2B,OACf,IAAM4C,EAASZ,EACf,OAAO,eAAC4E,EAAA,EAAD,CACHsN,WAAYhR,EAAQ1F,QAAQoF,EAAOnH,MACnCoJ,QAAS,WACLlB,EAAS5F,EAAU6E,IACnBe,EAASrB,GAAWN,KAJrB,mBAOX,KAAK3D,GAAckD,OACf,IAAMvE,EAASgF,EACf,OAAO,eAAC4E,EAAA,EAAD,CACHsN,WAAYhR,EAAQ3F,KAAKP,EAAOvB,MAChCoJ,QAAS,WACLlB,EAAS9F,EAAQb,IACjB2G,EAASrB,GAAWN,KAJrB,mBAOX,KAAK3D,GAAcyC,MACf,IAAMuI,EAAQrH,EAEd,OAAO,eAAC4E,EAAA,EAAD,CACHsN,WAAYhR,EAAQ1F,QAAQ6L,EAAM5N,MAClCoJ,QAAS,WACLlB,EAAS5F,EAAUsL,IACnB1F,EAASrB,GAAWN,KAJrB,mBAOX,KAAK3D,GAAcoD,KACnB,KAAKpD,GAAc4D,KACf,OAAO,eAAC2E,EAAA,EAAD,CAAQ/B,QAAS,kBAAMlB,EAASrB,GAAWN,KAA3C,kBAQnB,SAASmS,EAAYnS,GACjB,OAAQA,EAAKjC,UACT,KAAK1B,GAAc2B,OACf,OAAO,eAACgF,EAAA,EAAD,UAAK,eAAC,GAAD,CAAYpC,OAAQZ,EAAiBa,UAAWyP,MAChE,KAAKjU,GAAckD,OACf,OAAO,eAACyD,EAAA,EAAD,UAAK,eAAC,GAAD,CAAYhI,OAAQgF,MACpC,KAAK3D,GAAcyC,MACf,OAAO,eAACkE,EAAA,EAAD,UAAK,eAAC,GAAD,CAAWqE,MAAOrH,OAlDpB,eAsDXvG,GACP,IAAMuG,EAAc4Q,EAAMnX,GAC1BuM,EAAOb,KAAK,gBAAC4L,GAAA,EAAIqB,KAAL,CAAUC,SAAQ,eAAU5Y,GAA5B,UACR,gBAAC+K,EAAA,EAAD,WACI,gBAACxB,EAAA,EAAD,WACKhD,EAAKvG,KADV,aAC0BuG,EAAKhE,SAE/B,eAACgH,EAAA,EAAD,UACI,gBAACmO,GAAA,EAAD,WACKb,EAAW,eAAC1L,EAAA,EAAD,CAAQsN,UAAQ,EAAhB,SAAkBlS,EAAKjC,WAC7B,gBAACoE,GAAA,EAAD,WACE,eAACA,GAAA,EAASC,OAAV,CAAiBX,QAAQ,UAAUY,GAAG,iBAAtC,SACKrC,EAAKjC,WAGV,eAACoE,GAAA,EAASG,KAAV,UACKC,OAAOC,OAAOnG,IAAeoG,KAAI,SAAC/I,EAAOgJ,GAAR,OAE9B,cADA,CACCP,GAAA,EAASS,KAAV,CAEIC,QAAS,WACLlB,EAASnB,GAAa,2BAAKR,GAAN,IAAYjC,SAAUrE,OAHnD,SAIQA,GAJR,4BAC8BA,YAO9C,eAACkL,EAAA,EAAD,CAAQnD,QAAS,oBACToB,QAAS,kBAAM0N,GAAgBD,IADvC,SACkD,eAAC,KAAD,cAI9D,gBAAC9L,EAAA,EAAD,WAGI,eAACxB,EAAA,EAAD,CAAKC,GAAIjD,EAAKjC,WAAa1B,GAAc4D,MAAQD,EAAKjC,WAAa1B,GAAcoD,KAAO,GAAK,EAA7F,SAEI,eAACiF,GAAA,EAAD,UACI,eAACxB,EAAA,EAAD,CAAayJ,GAAG,WAAW2F,SAAUhC,EAAUnN,KAAM,KAAMoP,KAAM,GACpD7Y,MAAOsG,EAAK9C,YACZmG,aAAW,cACXC,SAAU,SAACC,GACP5B,EAASpB,GAAgB,2BAAKP,GAAN,IAAY9C,YAAaqG,EAAME,OAAO/J,iBAItFyY,EAAYnS,MAEhBiS,EAAcjS,KA7CP,kBAAoDvG,MAFpE,IAAK,IAAMA,KAAQmX,EAAQ,EAAhBnX,GAkDX,OAAOuM,EAqFMwM,aCvORC,GAAe,CACxB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,KAChB,CAAC,IAAK,IAAK,IAAK,MAGPC,GAAa3Y,YAAY,CAClCN,KAAM,SACNO,aAAc2D,GACd1D,SAAU,CACN0Y,SAAU,SAACxY,EAAOC,GAAmC,IAAD,EACvBA,EAAOC,QAAxBZ,EADwC,EACxCA,KAAMmZ,EADkC,EAClCA,OACRrB,EAAMqB,EAAM,UAAMA,EAAOnZ,KAAb,cAAuBA,GAASA,EAC9CU,EAAMoX,GAAK3T,QAAUxD,EAAOC,QAAQuD,MACpCzD,EAAMoX,GAAK3T,MAAQ,EAEnBzD,EAAMoX,GAAK3T,MAAQxD,EAAOC,QAAQuD,OAG1CiV,SAAU,SAAC1Y,EAAOC,GAAmC,IAAD,EAClBA,EAAOC,QAA9BZ,EADyC,EACzCA,KAAMG,EADmC,EACnCA,MAAOgZ,EAD4B,EAC5BA,OAEpBzY,EADYyY,EAAM,UAAMA,EAAOnZ,KAAb,cAAuBA,GAASA,GACvCG,MAAQA,GAEvBkZ,aAAc,SAAC3Y,EAAOC,GAClB,IAAM2Y,EAAS3Y,EAAOC,QACtB,IAAK,IAAMZ,KAAQsZ,EACf5Y,EAAMV,GAAQsZ,EAAOtZ,GAEhBU,EAAMV,GAAMG,QACbO,EAAMV,GAAMG,MAAQ,IAIhCoZ,SAAU,SAAC7Y,EAAOC,GAAmC,IAAD,EACzBA,EAAOC,QAAvBZ,EADyC,EACzCA,KAAMmZ,EADmC,EACnCA,OACTA,EACAzY,EAAM,GAAD,OAAIyY,EAAOnZ,KAAX,cAAqBA,IAAUW,EAAOC,QAE3CF,EAAMV,GAAQW,EAAOC,Y,GAQyBqY,GAAW7X,QAA1D8X,G,GAAAA,SAAUE,G,GAAAA,SAAUC,G,GAAAA,aAAcE,G,GAAAA,S,IAClCN,GAAf,Q,kBC3DaO,GAAiB,WAC1B,IAAMxJ,EAAapQ,GAAe,SAAAc,GAAK,OAAIA,EAAMsP,cAC3C9H,EAAWxI,IAFe,EAIA2H,mBAAS,IAJT,mBAIzBoS,EAJyB,KAIfC,EAJe,KAMhC,SAASC,EAAW1Q,EAAe2Q,GAC/B,OAAOA,EAAMC,MAAM,EAAG5Q,EAAQ,GAAGuN,QAAO,SAACvB,EAAD,UAAqBA,EAArB,EAAQhJ,SAA2B,GAI/E,OAAO,gBAAClB,EAAA,EAAD,WACH,gBAAC+O,GAAA,EAAD,CAAOC,SAAO,EAACC,YAAU,EAACC,OAAK,EAACvQ,KAAM,KAAtC,UACI,iCACA,gCACI,oCACA,0CACA,yCACA,sCACA,yCAGJ,mCAECsG,EAAWqB,QAAQrI,KAAI,SAAC/I,EAAOgJ,EAAO2Q,GAAf,OACpB,gCACI,qBAAIzP,MAAO+P,GAAoBja,EAAMG,UAArC,SAAiD6I,IACjD,8BAAKhJ,EAAMwD,cACX,8BAAKxD,EAAMgM,SACX,8BAAK0N,EAAW1Q,EAAO2Q,KACvB,qBAAIzP,MAAO,CAAEC,OAAQ,WAArB,SACI,eAACQ,GAAA,EAAD,CACIC,QACI,eAACC,GAAA,EAAD,CAASlC,GAAE,SAAX,0BAFR,SAMI,eAAC,KAAD,CAAaQ,QAAS,kBAAMlB,EAAS2N,GAAY5M,KAASmC,MAAO,cAZ7E,aAAenC,EAAf,YAAwBhJ,EAAMwD,iBAiBlC,gCACI,qBAAI0W,QAAS,EAAb,SAAgB,6CAChB,qBAAIA,QAAS,EAAb,SAAgB,6BAAInK,EAAW0F,oBAKvC,gBAACzK,GAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CACIE,YAAa,UACb1J,MAAOwZ,EAAShW,YAAcgW,EAAShW,YAAc,GACrDiG,KAAM,KACNG,SAAW,SAAAC,GAAK,OAAI4P,EAAY,2BACzBD,GADwB,IAE3BhW,YAAaqG,EAAME,OAAO/J,YAGlC,eAACwJ,EAAA,EAAD,CACIE,YAAa,SACb1J,MAAOwZ,EAASxN,OAASwN,EAASxN,OAAS,GAC3CvC,KAAM,KACNG,SAAW,SAAAC,GAAK,OAAI4P,EAAY,2BACzBD,GADwB,IAE3BxN,OAAQmO,OAAOtQ,EAAME,OAAO/J,aAGpC,eAACkL,EAAA,EAAD,CACI/B,QAAS,kBAAMlB,EAAS0N,GAAS6D,KACjCzR,QAAQ,kBAFZ,SAGI,eAAC,KAAD,aASL,SAASkS,GAAoB9Z,GAChC,OAAQA,GACJ,KAAKiB,EAAM0B,OAAQ,MAAO,CAAC8Q,gBAAiB,QAASzI,MAAO,SAC5D,KAAK/J,EAAMyB,OAAQ,MAAO,CAAC+Q,gBAAiB,OAC5C,KAAKxS,EAAM2B,SAAU,MAAO,CAAC6Q,gBAAiB,QAC9C,KAAKxS,EAAM4B,SAAU,MAAO,CAAC4Q,gBAAiB,gBAC9C,QAAS,MAAO,CAACA,gBAAiB,cCnFvC,IAAMwG,GAAa,SAAC,GAAyB,IAAD,IAAtBC,eAAsB,SACzCtW,EAAUpE,GAAe,SAAAc,GAAK,OAAIA,EAAMsD,WACxC5D,EAAWR,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,UAAU5B,YACnDma,EAAe3a,GAAe,SAAAc,GAAK,OAAIA,EAAMsP,WAAW0F,UACxDxN,EAAWxI,IAJ8B,EAMP2H,mBAAS,CAAErH,KAAM,GAAIyD,YAAa,GAAIF,KAAM,IANrC,mBAMxCiX,EANwC,KAM1BlL,EAN0B,KAQzCmL,EAAuB,GA2H7B,OAzHA3R,OAAO8O,KAAK/T,IAAY0O,SAAQ,SAAAtS,GAAK,OAAIwa,EAAc/O,KAAKzL,MA0HxD,gBAACiW,EAAA,EAAD,CAAWwE,OAAK,EAAhB,UACI,eAAC3P,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,uDAGP+Q,EAAUK,GAAmB3W,EAASsL,GA7H/C,WAA0B,IAAD,EACrB,SAASsL,EAAgBC,GACrB,QAAS7W,EAAQ6W,GAGrB,OAAQ,iCACJ,eAAC9P,EAAA,EAAD,UACK+P,GAAmB9W,EAASsL,KAEjC,eAACvE,EAAA,EAAD,UAEQ,gBAACE,GAAA,EAAD,CAAYvB,KAAM,KAAMkJ,UAAU,iBAAlC,UACI,eAAC3H,GAAA,EAAWiN,QAAZ,UACI,eAAC/M,EAAA,EAAD,CACI/B,QAAS,WACLlB,EAASvE,GAAU6W,IACfA,EAAajX,KAAO,GACpB2E,EAAS0N,GAAS,CACdxV,SAAUoa,EAAapa,SACvBgE,KAAM,SACN6H,QAAS8O,GAAcP,EAAcpa,GACrCqD,YAAa+W,EAAaxa,SAItCgI,QAAQ,kBAZZ,SAaKhE,EAAQwW,EAAaxa,MAAQ,eAAC,KAAD,IAAY,eAAC,KAAD,QAGlD,gBAAC+K,EAAA,EAAD,WAGI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAE6Q,aAAc,GAAnC,SACI,eAAC,KAAD,CACIC,MAAI,EACJtR,YAAa,aACbf,GAAG,0BACHwP,QAAStP,OAAOC,OAAOlF,IACvBqX,SAAS,OACTC,eAAgB,UAChBzR,KAAM,QACN2O,cAAe,SAACrY,GAAD,OAAUsP,EAAgB,2BAAKkL,GAAN,IAAoBxa,KAAMA,MAClE6J,SAAU,SAACyO,GAAD,eAAehJ,EAAgB,2BAElCzL,GAAU,UAACyU,EAAU,UAAX,aAAC,EAActY,OAFQ,IAGpCA,KAAI,UAAEsY,EAAU,UAAZ,aAAE,EAActY,SAGxBob,SAAUvX,GAAW2W,EAAaxa,MAAQ,CAACwa,GAAgB,GAC3Da,uBAAwB,SAACC,EAAQC,EAAOtS,GACpC,OAAO,gBAAC8B,EAAA,EAAD,WACH,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAACU,EAAA,EAAD,CAAOC,MAAK,eAAO+P,GAAoBoB,EAAOlb,WAAaiK,MAAI,EAA/D,SAAiEiR,EAAO/X,SAE5E,eAACgG,EAAA,EAAD,CAAKC,GAAI,GAAT,SAAc8R,EAAOtb,eAKrC,eAACuJ,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAEqD,QAAS,GAA9B,SACI,eAAC/D,EAAA,EAAD,CAAaE,YAAa,0BACb1J,MAAOua,EAAa/K,eAAiB+K,EAAa/K,eAAiB,GACnE/F,KAAM,KACNG,SAAW,SAAAC,GAAK,OAAIwF,EAAgB,2BAC7BkL,GAD4B,IAE/B/K,eAAgB3F,EAAME,OAAO/J,cAIlD,eAACsJ,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAEqR,YAAa,GAAlC,SACI,gBAAC7P,GAAA,EAAD,CAAgBjC,KAAM,KAAM1B,QAAQ,UAAU4D,MAAK,gBAAW4O,EAAajX,MAAQ,KAAnF,UACI,eAACmF,GAAA,EAASS,KAAV,CACIC,QAAS,kBAAMkG,EAAgB,2BAAKkL,GAAN,IAAoBjX,KAAM,MAD5D,eAEA,eAACmF,GAAA,EAASS,KAAV,CACIC,QAAS,kBAAMkG,EAAgB,2BAAKkL,GAAN,IAAoBjX,KAAM,MAD5D,eAEA,eAACmF,GAAA,EAASS,KAAV,CACIC,QAAS,kBAAMkG,EAAgB,2BAAKkL,GAAN,IAAoBjX,KAAM,MAD5D,uBAKZ,eAAC0H,GAAA,EAAWC,OAAZ,UACI,eAACC,EAAA,EAAD,CACI/B,QAAS,kBAAMlB,EAASpE,GAAa0W,KACrCxS,QAAQ,kBAFZ,SAE8B,eAAC,KAAD,aAK9C,gBAAC+C,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,SAEI,eAACC,EAAA,EAAD,CAAaE,YAAa,cAAe8R,mBAAiB,eAC7CvI,GAAG,WAAWxJ,KAAM,KAAMoP,KAAM,GAChC7Y,MAAOua,EAAa/W,YACpBoG,SAAW,SAAAC,GAAK,OAAIwF,EAAgB,2BAC7BkL,GAD4B,IAE/B/W,YAAaqG,EAAME,OAAO/J,cAG/C,gBAACsJ,EAAA,EAAD,oCAEI,gBAACiO,GAAA,EAAD,qBACKgD,EAAahX,qBADlB,aACK,EAA4B2Q,MAAM,KAAKnL,KAAI,SAAC6R,GAAD,OACxC,eAACrD,GAAA,EAAUrO,KAAX,CAAgBgB,MAAO,CAAE0J,gBAAiB+G,EAAgBC,GAAe,QAAU,aAAnF,SACoDA,GADpD,sBACoCA,OAEvCL,EAAajX,KAAO,EAAI,gBAACiU,GAAA,EAAUrO,KAAX,CACjBgB,MAAO,CAAE0J,gBAAiB0G,EAAeQ,GAAcP,EAAcpa,GAAY,QAAU,aAD1E,0BAEX2a,GAAcP,EAAcpa,GAFjB,OAGnB,kCAVd,cAagBoa,EAAapa,kBAayBsb,OAOtE,SAASX,GAAcP,EAAuBpa,GAC1C,IAAMiW,EAAoBjW,GAAsBiB,EAAM6B,UAChDyY,EAAiBnB,EAAapa,SAAWoa,EAAapa,SAAWiB,EAAM6B,UAE7E,OAAOE,GAAcoX,EAAajX,KAAO,GAAGF,GAAYsY,GAAgBtF,IAG5E,SAASsE,GAAmB3W,EAAuB4X,GAC/C,OAAO,eAAC7Q,EAAA,EAAD,UAAMjC,OAAO8O,KAAK5T,GAASgF,KAAI,SAAA/I,GAAK,OAAI,eAAC,GAAD,2BAAuD+D,EAAQ/D,IAA/D,IACqBqP,gBAAiBsM,IADtC,uBAA0C3b,SAI7F,SAAS6a,GAAmB9W,EAAuB4X,GAC/C,IAAMrP,EAAwB,GAC9B,IAAK,IAAMvM,KAAQgE,EACfuI,EAAOb,KACH,eAACnC,EAAA,EAAD,CAA4BY,MAAO,CAAEqD,QAAS,OAA9C,SACI,eAAC,GAAD,2BAAyBxJ,EAAQhE,IAAjC,IAAwCsP,gBAAiBsM,MAD7D,iBAAoB5b,KAK5B,OAAOuM,E,cC9KLsP,GAAY,CACdC,KAAM,EACNC,QAAS,OACT5F,WAAY,SACZ3I,QAAS,OACTwO,YAAa,EACbC,aAAc,EACdC,YAAa,UACbC,YAAa,SACbtI,gBAAiB,UACjBzI,MAAO,UACPgR,QAAS,OACTC,WAAY,2BAGVC,GAAc,CAChBJ,YAAa,WAGXK,GAAc,CAChBL,YAAa,WAGXM,GAAc,CAChBN,YAAa,WAGJO,GAAiB,SAAC,GACiG,IAD/FC,EAC8F,EAD9FA,YAAaC,EACiF,EADjFA,eAGpCC,EAASC,uBAAY,SAACC,GACxBA,EAAcvK,SAAQ,SAACwK,GACnB,IAAMC,EAAS,IAAIC,WAEnBD,EAAOE,QAAU,kBAAMpO,QAAQC,IAAI,6BACnCiO,EAAOG,QAAU,kBAAMrO,QAAQC,IAAI,4BACnCiO,EAAOI,OAAS,WAEZ,IAAMC,EAAYL,EAAOzQ,OAEzBoQ,EADuBU,IAG3BL,EAAOM,WAAWP,QAGvB,IAjBwH,EAuBvHQ,aAAY,CAAEX,SAAQY,OAAQ,qBAJ9BC,EAnBuH,EAmBvHA,aACAC,EApBuH,EAoBvHA,aACAC,EArBuH,EAqBvHA,aACAC,EAtBuH,EAsBvHA,aAGEzT,EAAQ0T,mBAAQ,8BAAC,uCAChBhC,IACC6B,EAAepB,GAAc,IAC7BqB,EAAepB,GAAc,IAC7BqB,EAAepB,GAAc,MACjC,CACAkB,EACAE,EACAD,IAGJ,OACI,gDAASF,KAAT,IAAyBtT,MAAOA,EAAhC,SAEI,eAACc,GAAA,EAAD,UAEI,eAACxB,EAAA,EAAD,CAAayJ,GAAG,WAAWxJ,KAAM,KAAMoP,KAAM,GAChCnP,YAAa,kDACbC,aAAW,cACX3J,MAAOyc,EACP7S,SAAU,SAACC,GACP6S,EAAe7S,EAAME,OAAO/J,gBCpEhD6d,GAAqB,SAAC,GAK0F,IAAD,IAJrFC,iBAIqF,MAJzE,YAIyE,MAHrFC,gBAGqF,aAFrFC,mBAEqF,SADrFC,EACqF,EADrFA,aAE7B5E,EAAS1Z,GAAe,SAAAc,GAAK,OAAIA,EAAM4Y,UACvCpY,EAAkBtB,GAAe,SAAAc,GAAK,OAAIA,EAAMQ,mBAChD4L,EAAgBlN,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,UAAU8K,iBACxD1M,EAAWR,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,UAAU5B,YACnD0L,EAAgBlM,GAAe,SAAAc,GAAK,OAAIA,EAAMsB,UAAU4K,QAAQlM,EAAMsB,UAAU4K,QAAQC,WACxF3E,EAAWxI,IANuG,EAQhG2H,oBAAS,GARuF,mBAQjHO,EARiH,KAQ3GC,EAR2G,OAShGR,mBAAS,IATuF,mBASjHS,EATiH,KAS3GC,EAT2G,OAU1FV,mBAAS,WAViF,mBAUjHW,EAViH,KAUxGC,EAVwG,OAW1FZ,mBAAS,IAXiF,mBAWjH8W,EAXiH,KAWxGC,EAXwG,KAalH9J,EAAQgF,EAAOyE,GACrB,IAAKzJ,EAED,OADAxF,QAAQuP,MAAR,6BAAoCN,EAApC,YACO,+BAhB6G,IAkBhH/d,EAAqCsU,EAArCtU,KAAMmE,EAA+BmQ,EAA/BnQ,MAAOC,EAAwBkQ,EAAxBlQ,KAAMjE,EAAkBmU,EAAlBnU,MAAOgZ,EAAW7E,EAAX6E,OAE5B1V,EAAcua,EAAQ,UAAM7E,EAAM,aAASnZ,GAASA,EAA9B,aAAuCoE,EAAvC,eAAoD+U,EAAM,aAASnZ,GAASA,GAExG,GAAIie,GAAyB,IAAV9Z,EACf,OAAO,+BAcX,SAASma,IACL,OAAO,eAAC/U,EAAA,EAAD,CAAKC,GAAI,EAAT,SAAY,eAAC,KAAD,CAAWJ,QAAS,kBAZ3C,WAAiB,IAAD,EACNyC,EAAaqS,EAAapS,EAAegB,EAAhB,UAA+B5L,EAAgBkD,EAAKma,sBAApD,aAA+B,EAAqCte,MAAOqU,GAE1GrM,EAAW4D,EAAWU,OAAS,UAAY,UAC3C1E,GAAQ,GACRkF,YAAW,kBAAMlF,GAAQ,KAAQ,MACjCE,EAAQ,GAAD,OAAI/H,EAAJ,yBAAyB6L,EAAWuB,MAApC,wBAAyDvB,EAAWoJ,IAApE,mBAAkFpJ,EAAWU,OAAS,UAAY,WAM5EJ,IAAQf,MAAO,UAAWjB,MAAO,CAAEC,OAAQ,eAG5F,SAASoU,IACL,OAAO,gBAACjV,EAAA,EAAD,CAAKC,GAAI,EAAT,UACF/F,EADE,OAqEX,OAAO,gBAACyS,EAAA,EAAD,CAAW/L,MAAO,CAAEqD,QAAS,GAA7B,UACFyQ,EAZL,WAA0B,IAAD,IACrB,OAAO,gBAAClT,EAAA,EAAD,WACFuT,IACAE,IACD,eAACjV,EAAA,EAAD,UAAoB,IAAbpF,EAAQ,KACf,eAACoF,EAAA,EAAD,oBAAMrI,EAAgBkD,EAAKma,sBAA3B,aAAM,EAAqCte,QAC3C,eAACsJ,EAAA,EAAD,UAAMpJ,IACN,eAACoJ,EAAA,EAAD,UAAK,6BAAkB,IAAbpF,EAAQ,IAAT,UAAmBjD,EAAgBkD,EAAKma,sBAAxC,aAAmB,EAAqCte,OAAQE,SAK9Dse,GAlEnB,WAEI,GAAIze,EAAK0e,SAAS,SAAoB,UAAT1e,EACzB,OAAO,uCACF2e,IACD,gBAAC5T,EAAA,EAAD,CAAKZ,MAAO,CAAEqD,QAAS,GAAvB,UACI,eAACjE,EAAA,EAAD,UACI,eAAC4B,EAAA,EAAD,CAAQzB,KAAM,KAAMN,QAAS,kBAAMlB,EAASqR,GAAS,CAAEvZ,KAAMme,EAASha,MAAO,EAAGC,OAAMjE,MAAO,EAAGgZ,OAAQ7E,EAAOlU,SAAUiB,EAAM6B,cAA/H,iBAEJ,eAACqG,EAAA,EAAD,CAAKC,GAAI,GAAIW,MAAO,CAAEqD,QAAS,GAA/B,SACI,eAAC/D,EAAA,EAAD,CAAaC,KAAM,KAAMC,YAAY,WACxBE,SAAW,SAAAC,GAAK,OAAIsU,EAAWtU,EAAME,OAAO/J,kBAQzE,SAAS0e,IACL,SAASC,EAAYza,GACjB+D,EAASgR,GAAS,2BAAK5E,GAAN,IAAanQ,YAM9B,IAHA,IAAMkS,EAAoBjW,GAAsBiB,EAAM6B,UAChD2b,EAAgBvK,EAAMlU,SAAWkU,EAAMlU,SAAW8D,GAAUoQ,EAAMtU,MAAMI,SAErEmW,EAAKjC,EAAMnQ,MAAOoS,EAAKpS,EAAOoS,IAAM,CACzC,IAAMhR,EAAMyT,GAAa3V,GAAYwb,GAAexI,IAAoBE,GACxErO,EAAS0N,GAAS,CAACnS,YAAY,GAAD,OAAK6Q,EAAMtU,KAAX,kBAAyBuW,GAAMtK,QAAS1G,EAAKnB,KAAM,QAAShE,SAAUye,MAI5G,OAAO,gBAAC9T,EAAA,EAAD,CAAKZ,MAAO,CAAEqD,QAAS,GAAvB,UACFgR,IACD,eAACjV,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAEqD,QAAS,GAA9B,SACI,gBAACvC,GAAA,EAAD,WACI,eAACA,GAAA,EAAW6T,SAAZ,CAAqBC,QAAS5a,EAAQ,EAAG0F,SAAU,kBAAM+U,EAAY,MACrE,eAAC3T,GAAA,EAAW6T,SAAZ,CAAqBC,QAAS5a,EAAQ,EAAG0F,SAAU,kBAAM+U,EAAY,MACrE,eAAC3T,GAAA,EAAW6T,SAAZ,CAAqBC,QAAS5a,EAAQ,EAAG0F,SAAU,kBAAM+U,EAAY,MACrE,eAAC3T,GAAA,EAAW6T,SAAZ,CAAqBC,QAAS5a,EAAQ,EAAG0F,SAAU,kBAAM+U,EAAY,WAG7E,eAACrV,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAEqD,QAAS,GAA9B,SACI,eAAC/D,EAAA,EAAD,CAAaC,KAAM,KAAMzJ,MAAOE,EACnB0J,SAAW,SAAAC,GAAK,OAAI5B,EAASkR,GAAS,2BAAK9E,GAAN,IAAanU,MAAO4J,SAASD,EAAME,OAAO/J,mBAMxG,OAAO0e,IAe0BK,GACjC,eAACvR,GAAA,EAAD,CAAOwR,aAAW,EAACvR,QAAS,kBAAM7F,GAAQ,IAAQD,KAAMA,EAAMI,QAASA,EAAvE,SACKF,QC1HAoX,GAAY,SAAC,GAAmF,IAAD,IAAhFC,YAAgF,MAAzE,EAAyE,MAAtEC,mBAAsE,aAAlDC,sBAAkD,aAA1BC,oBAA0B,WAEtEjY,mBAAS8X,GAF6D,mBAEjGI,EAFiG,KAEtFC,EAFsF,OAGrEnY,mBAAS+X,GAH4D,mBAGjGpB,EAHiG,KAGvFyB,EAHuF,OAI/DpY,mBAASgY,GAJsD,mBAIjGpB,EAJiG,KAIpFyB,EAJoF,KAKlGpG,EAAS1Z,GAAe,SAAAc,GAAK,OAAIA,EAAM4Y,UAsB7C,OAAO,gBAACqG,EAAA,EAAD,WACH,eAAC5U,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,6CAGP+V,EAAe,gBAACvU,EAAA,EAAD,mBAAWwU,EACvB,eAACpU,EAAA,EAAD,CAAQhB,MAAO,CAAEqD,QAAS,EAAG2K,MAAO,OAAQyH,OAAQ,QAAU5X,QAAQ,oBAAoB0B,KAAK,KACvFN,QAAS,kBAAMoW,EAAaD,EAAY,IADhD,eAEA,eAACpU,EAAA,EAAD,CAAQhB,MAAO,CAAEqD,QAAS,EAAG2K,MAAO,OAAQyH,OAAQ,QAAU5X,QAAQ,oBAAoB0B,KAAK,KACvFN,QAAS,kBAAMoW,EAAaD,EAAY,IADhD,eAEA,eAACpU,EAAA,EAAD,CAAQzB,KAAM,KAAMS,MAAO,CAAEqD,QAAS,EAAGoS,OAAQ,QACzCxW,QAAS,kBAAMqW,GAAgBzB,IADvC,kBAEA,eAAC7S,EAAA,EAAD,CAAQzB,KAAM,KAAMS,MAAO,CAAEqD,QAAS,EAAGoS,OAAQ,QACzCxW,QAAS,kBAAMsW,GAAmBzB,IAD1C,wBAEK,+BACT,eAAC/H,EAAA,EAAD,CAAWwE,OAAK,EAAhB,SACI,eAAC3P,EAAA,EAAD,UApCR,WAA8G,IAAnF8U,EAAkF,uDAA/D,EAAG7B,EAA4D,uCAAzCC,EAAyC,uCAAnBC,EAAmB,uCACnG4B,EAA8B,GAC9BC,EAAuB9B,EAAcnV,OAAOC,OAAOuQ,GAAQ/H,QAAO,SAAAtR,GAAK,OAAIA,EAAMkE,MAAQ,KAAG6E,KAAI,SAAAsL,GAAK,OAAIA,EAAM6E,OAAN,UAAkB7E,EAAM6E,OAAOnZ,KAA/B,cAAyCsU,EAAMtU,MAASsU,EAAMtU,QAAQ8I,OAAO8O,KAAK0B,GAajM,OAZAyG,EAAW3Q,MAAK,SAACoC,EAAGC,GAAJ,OAAUD,EAAEqG,cAAcpG,MAE1CsO,EAAWxN,SAAQ,SAAAwL,GACf+B,EAAapU,KACT,eAAC,GAAD,CACIqS,YACAC,WACAC,cACAC,gBAJJ,gBAAkCH,QAQnCiC,GAAYF,EAAcD,GAsBxBI,CAAkBV,EAAWvB,EAAUC,EAAa5J,IAA0BrL,KAAI,SAACuW,EAAWtW,GAAZ,OAC/E,gBAACM,EAAA,EAAD,WACI,eAACA,EAAA,EAAD,UACK0U,EAAc,gBAAClT,EAAA,EAAD,WACP,eAACxB,EAAA,EAAD,CAAKC,GAAI,IACT,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SAAY,6CACZ,eAACD,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,UAAK,0CAEP,gBAACwB,EAAA,EAAD,WACE,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,SAAY,6CACZ,gBAACD,EAAA,EAAD,CAAKC,GAAI,EAAGW,MAAO,CAAEqD,QAAS,GAA9B,UACI,uBAAMrD,MAAO,CAAEqR,YAAa,EAAGR,aAAc,IAA7C,SAAmD,qCACnD,uBAAM7Q,MAAO,CAAEqR,YAAa,EAAGR,aAAc,GAA7C,SAAkD,uCAClD,uBAAM7Q,MAAO,CAAEqR,YAAa,EAAGR,aAAc,GAA7C,SAAkD,uCAClD,uBAAM7Q,MAAO,CAAEqR,YAAa,EAAGR,aAAc,GAA7C,SAAkD,0CAEtD,eAACzR,EAAA,EAAD,CAAKC,GAAI,EAAT,wBAIX+V,IAtBL,mBAAsBtW,aAnBf,iBCvBdiX,GAAa,WACtB,IAAMC,EAAc,GADQ,EAKY9Y,mBAAS,CAAErH,KAAM,GAAIyD,YAAa,KAL9C,mBAKrB2c,EALqB,KAKPC,EALO,KAOtBC,EAA0B,GAMhC,OAFAxX,OAAO8O,KAAP9O,OAAA,IAAAA,QAAA,IAAAA,CAAA,GAAiBjF,IAAekC,KAAYwM,SAAQ,SAAAtS,GAAK,OAAIqgB,EAAc5U,KAAKzL,MAEzE,gBAACiW,EAAA,EAAD,WACH,eAACnL,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,eAAC,KAAD,CACII,YAAa,SACbf,GAAG,yBACHwP,QAASkI,EACTnF,eAAgB,UAChBzR,KAAM,QACN2O,cAAe,SAACrY,GAAD,OAAUqgB,EAAgB,2BAAKF,GAAN,IAAmBngB,KAAMA,MACjE6J,SAAU,SAACyO,GAAD,iBAAe+H,EAAgB,mDAClCD,GAAiBvc,GAAU,UAACyU,EAAU,UAAX,aAAC,EAAcrE,aAAgBlO,GAAQ,UAACuS,EAAU,UAAX,aAAC,EAAcrE,aADhD,IAEpCjU,KAAI,UAAEsY,EAAU,UAAZ,aAAE,EAAcrE,eAGxBmH,SAAU,2BAAKvX,IAAekC,IAAWqa,EAAapgB,MAAQ,CAACogB,EAAapgB,MAAQ,SAI/F,2BAAK6D,IAAekC,IAAWqa,EAAapgB,MACzC,eAAC+K,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,eAACE,EAAA,EAAD,CAAaE,YAAa,cAAe8R,mBAAiB,eAC7CvI,GAAG,WAAWxJ,KAAM,KAAMoP,KAAM,GAChC7Y,MAAOiN,KAAKC,UAAUiT,EAAc,KAAM,MACrCG,WAAW,MAAO,MAClBA,WAAW,IAAK,IAErBhN,WAAS,EACTiN,WAAW,aAI9B3N,MC9BD4N,GAAoB,WAAO,IAAD,EACHpZ,mBAAS,GADN,mBAC5BqZ,EAD4B,KAClBC,EADkB,OAEGtZ,mBAAS,IAFZ,mBAE5BqV,EAF4B,KAEfC,EAFe,OAGetV,oBAAS,GAHxB,mBAG5BuZ,EAH4B,KAGTC,EAHS,OAIGxZ,oBAAS,GAJZ,mBAI5ByZ,EAJ4B,KAIfC,EAJe,OAKa1Z,oBAAS,GALtB,mBAK5B2Z,EAL4B,KAKVC,EALU,OAMK5Z,mBAAS,GANd,mBAM5B6Z,EAN4B,KAMdC,EANc,OAOG9Z,mBAAS,KAPZ,mBAO5B+Z,EAP4B,KAOfC,EAPe,OAQHha,mBAAS,IAAIia,KAAK,IARf,mBAQ5BC,EAR4B,KAQlBC,EARkB,KAU7BC,EAAgB7hB,GAAe,SAAAc,GAAK,OAAIA,KACxCwH,EAAWxI,IAEjB,SAASgiB,EAAoBhF,GACzB,GAAKA,EAAL,CAGA,IAAMhc,EAAQwM,KAAKyU,MAAMjF,GAEzBxU,EAASqG,GAAgB7N,EAAMsB,YAE/BkG,EAASjH,EAAsBP,EAAMQ,kBACrCgH,EAASlB,GAAgBtG,EAAMuG,YAC/BiB,EAASmR,GAAa3Y,EAAM4Y,SAC5BpR,EAASnE,GAAcrD,EAAMsD,UAC7BkE,EAASvF,EAAcjC,EAAM+G,UAC7BS,EAASyN,GAAiBjV,EAAMsP,cAOpC,SAAS4R,IACL,OAAO,eAACjC,EAAA,EAAD,UACH,gBAACzJ,EAAA,EAAD,CAAW/L,MAAO,CAAEqD,QAAS,GAA7B,UACI,eAACzC,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACKqX,EACG,eAACnX,EAAA,EAAD,CACI6J,aAAc,kBAAMuN,GAAqB,IACzC5gB,MAAOwhB,EAAczf,UAAU8K,cAC/BjD,SAAW,SAAAC,GAAK,OAAI5B,EAASsG,GAAiB1E,EAAME,OAAO/J,SAC3DsT,WAAW,IAEf,qBAAIpJ,MAAO,CAAE0X,WAAY,gBAAiBC,SAAU,aAChD1Y,QAAS,kBAAMyX,GAAqB,IADxC,SAEEY,EAAczf,UAAU8K,oBAItC,eAAC/B,EAAA,EAAD,UACKgX,GAA6BhiB,KAElC,eAACgL,EAAA,EAAD,UAEI,eAACiX,EAAA,EAAD,UACI,gBAACA,EAAA,EAAKjX,IAAN,WAEI,eAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,iDAGJ,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SAEI,gBAACyJ,EAAA,EAAD,CAAWC,GAAInI,IAAf,UACI,eAACoI,EAAA,EAAD,CAAWC,QAAM,EAAC5J,GAAI,EAAtB,oBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAACC,EAAA,EAAD,CAAaC,KAAM,KAAMzJ,MAAOihB,EACnBrX,SAAU,SAAAC,GAAK,OAAIqX,EAAgBpX,SAASD,EAAME,OAAO/J,kBAIlF,eAACsJ,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,CAAKC,GAAI,EAAT,SAEI,gBAACyJ,EAAA,EAAD,CAAWC,GAAInI,IAAf,UACI,eAACoI,EAAA,EAAD,CAAWC,QAAM,EAAC5J,GAAI,EAAtB,mBACA,eAACD,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAACC,EAAA,EAAD,CAAaC,KAAM,KAAMzJ,MAAOmhB,EACnBvX,SAAU,SAAAC,GAAK,OAAIuX,EAAetX,SAASD,EAAME,OAAO/J,kBAIjF,eAACsJ,EAAA,EAAD,UACI,gBAAC4B,EAAA,EAAD,CACI/B,QAAS,kBhB1DtC,SAA8B0C,EAAuBC,GAA4D,IAC9GF,EAAaM,GADgG,uDAAxB,EAAwB,uDAAL,KAG9G,OADAM,GAAYX,EAAD,oBAAqCY,GAAqBb,GAAaE,GAC3EF,EgBuDwCoW,CAxDpCR,EAAczf,UAAU4K,QAAQ6U,EAAczf,UAAU4K,QAAQC,QAwDa4U,EAAczf,UAAU8K,cAAeoU,EAAcE,IAC7GpZ,QAAS,QAFb,mBAE4B,eAAC,KAAD,CAAWoD,MAAO,UAAWjB,MAAO,CAAEC,OAAQ,6BArD3E,yBA2F3B,SAAS8X,IAgCL,OAAO,eAACvC,EAAA,EAAD,UACH,gBAACzJ,EAAA,EAAD,WACI,eAACnL,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,8BAAK4Y,GAAiBle,GAAUme,gBAGxC,eAACrX,EAAA,EAAD,UAAK,eAACxB,EAAA,EAAD,gCAAqBgY,OAC1B,gBAACxW,EAAA,EAAD,WACI,gBAACxB,EAAA,EAAD,CAAK8J,GAAI,EAAT,UACI,gBAACtI,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UACI,eAAC4B,EAAA,EAAD,CAAQzB,KAAM,KACNN,QAAS,WACL,IAAMiZ,EAAOnV,KAAKC,UAAUsU,GAC5B9E,EAAe0F,GACfC,aAAaC,QAAQ,OAAQF,IAJzC,sBAOJ,eAAC9Y,EAAA,EAAD,UACI,eAAC4B,EAAA,EAAD,CAAQzB,KAAM,KAAMN,QAAS,kBAAMsY,EAAoBhF,IAAvD,uBAGR,gBAAC3R,EAAA,EAAD,WACI,eAACxB,EAAA,EAAD,UACI,oBAAGyO,KAAI,uCAAkCwK,mBACrCtV,KAAKC,UAAUsU,KAEhBgB,SAAUhB,EAAczf,UAAU8K,cAAgB2U,EAAczf,UAAU8K,cAAgB,QAAU,qBAHvG,SAII,eAAC3B,EAAA,EAAD,2BAGR,eAAC5B,EAAA,EAAD,OAIJ,gBAACwB,EAAA,EAAD,oBACW2V,EACP,eAACvV,EAAA,EAAD,CAAQhB,MAAO,CAAEqD,QAAS,EAAG2K,MAAO,OAAQyH,OAAQ,QAAU5X,QAAQ,oBAC9D0B,KAAK,KACLN,QAAS,kBAAMuX,EAAYD,EAAW,IAF9C,eAGA,eAACvV,EAAA,EAAD,CAAQhB,MAAO,CAAEqD,QAAS,EAAG2K,MAAO,OAAQyH,OAAQ,QAAU5X,QAAQ,oBAC9D0B,KAAK,KACLN,QAAS,kBAAMuX,EAAYD,EAAW,IAF9C,kBAIJ,eAAC3V,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,eAAC4B,EAAA,EAAD,CAAQ/B,QAAS,kBAAMuT,EAAezP,KAAKC,UA7EnE,WACI,IAAMZ,EAAS,CACX4K,MAAO,GACPpV,QAAS,GACTR,OAAQ,IAGN4V,EAAoB,GACpBpV,EAAwB,GACxBR,EAAsC,GAEtC0F,EAAYwa,EAAcxa,UAChC,IAAK,IAAMyb,KAAYzb,EACnB,KAAMyb,KAAY3c,IAAY2c,KAAYre,IAAcqe,KAAY7c,IAAY,CAC5E,IAAMU,EAAcU,EAAUyb,GAC1Bnc,EAAKjC,WAAa1B,GAAc2B,OAChCxC,EAAQ2gB,GAAYnc,EACbA,EAAKjC,WAAa1B,GAAckD,OACvCvE,EAAOmhB,GAAYnc,EAEnB4Q,EAAMuL,GAAYnc,EAO9B,OAHAgG,EAAO4K,MAAQA,EACf5K,EAAOxK,QAAUA,EACjBwK,EAAOhL,OAASA,EACTgL,EAkDkEoW,MAArD,qCAMZ,eAACpZ,EAAA,EAAD,CAAK8J,GAAI,GAAT,SACI,eAAC,GAAD,CAAsBqJ,cAAaC,wBAI3C,gBAAC5R,EAAA,EAAD,WACI,gBAACxB,EAAA,EAAD,CAAKC,GAAI,EAAT,UACI,eAACuB,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UAEJ,eAACyY,EAAA,EAAKY,MAAN,CAAYjP,MAAM,OAAO3T,KAAK,SAASoE,KAAM,QAASwE,GAAE,yBAC5CmW,QAAoD,SAA3C0C,EAAczf,UAAU4K,QAAQC,OACzChD,SAAU,kBAAM3B,EAASyG,GAAiB,gBAItD,eAAC5D,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACJ,eAACyY,EAAA,EAAKY,MAAN,CAAYjP,MAAM,QAAQ3T,KAAK,SAASoE,KAAM,QAASwE,GAAE,yBAC7CmW,QAAoD,UAA3C0C,EAAczf,UAAU4K,QAAQC,OACzChD,SAAU,kBAAM3B,EAASyG,GAAiB,oBAM1D,gBAACpF,EAAA,EAAD,CAAKC,GAAI,EAAT,UACI,eAACuB,EAAA,EAAD,CAAKZ,MAAO,CAAE0Y,OAAQ,EAAG3G,YAAa,QAASC,YAAa,QAAS2G,OAAQ,GAA7E,SACKhC,EACG,eAACrX,EAAA,EAAD,CACI6J,aAAc,kBAAMyN,GAAe,IACnC9gB,MAAOwhB,EAAczf,UAAU4K,QAAQkB,KACvCjE,SAAW,SAAAC,GAAK,OAAI5B,EAASuG,GAAiB3E,EAAME,OAAO/J,SAC3DsT,WAAW,IAEf,qBACInK,QAAS,kBAAM2X,GAAe,IADlC,SAEEU,EAAczf,UAAU4K,QAAQkB,KAAO2T,EAAczf,UAAU4K,QAAQkB,KAAO,2BAIxF,eAAC/C,EAAA,EAAD,CAAKZ,MAAO,CAAE0Y,OAAQ,EAAG3G,YAAa,QAASC,YAAa,QAAS2G,OAAQ,GAA7E,SACK9B,EACG,eAACvX,EAAA,EAAD,CACI6J,aAAc,kBAAM2N,GAAoB,IACxChhB,MAAOwhB,EAAczf,UAAU4K,QAAQmB,MACvClE,SAAW,SAAAC,GAAK,OAAI5B,EAASwG,GAAsB5E,EAAME,OAAO/J,SAChEsT,WAAW,IAEf,qBACInK,QAAS,kBAAM6X,GAAoB,IADvC,SAEEQ,EAAczf,UAAU4K,QAAQmB,MAAQ0T,EAAczf,UAAU4K,QAAQmB,MAAQ,yCAMjGjF,OAAO8O,KAAK3T,IACRoO,SAAQ,SAACpS,EAAOgJ,GACb,OAAI8Z,MAAM3I,OAAOna,IACN,GAGJ,gBAAC8K,EAAA,EAAD,WACH,eAACxB,EAAA,EAAD,CAAKyZ,GAAI,EAAT,SAAab,GAAiBlZ,KAC9B,eAACM,EAAA,EAAD,CAAKyZ,GAAI,EAAG7Y,MAAO,CAACqD,QAAQ,GAA5B,SACI,eAACwU,EAAA,EAAD,UACI,uBAA0BpP,UAAU,OAApC,UACI,eAACoP,EAAA,EAAKY,MAAN,CAAY9N,QAAM,EAACnB,MAAM,eAAe3T,KAAK,SAASoE,KAAM,QAASwE,GAAE,UAAK3I,EAAL,mBAC3D8e,QAAS0C,EAAczf,UAAUgM,OAAOC,KAAKwI,SAASxN,GACtDY,SAAU,kBAAM3B,EAAS8G,GAAa,CAAEC,MAAO,OAAQhG,cAEnE,eAAC+Y,EAAA,EAAKY,MAAN,CAAY9N,QAAM,EAACnB,MAAM,OAAO3T,KAAK,SAASoE,KAAM,QAASwE,GAAE,UAAK3I,EAAL,mBACnD8e,QAAS0C,EAAczf,UAAUgM,OAAOG,KAAKsI,SAASxN,GACtDY,SAAU,kBAAM3B,EAAS8G,GAAa,CAAEC,MAAO,OAAQhG,cAEnE,eAAC+Y,EAAA,EAAKY,MAAN,CAAY9N,QAAM,EAACnB,MAAM,gBAAgBvP,KAAM,QAASwE,GAAE,UAAK3I,EAAL,mBAC9C8e,QAAS0C,EAAczf,UAAUgM,OAAOK,MAAMoI,SAASxN,GACvDY,SAAU,kBAAM3B,EAAS8G,GAAa,CAAEC,MAAO,QAAShG,gBAXxE,sBAJL,iBAAoBhJ,WApHpB,kBAsL3B,SAASkiB,GAAiBrK,GACtB,OAAQA,GACJ,KAAK7T,GAAUmK,gBACX,MAAO,kBACX,KAAKnK,GAAUgf,OACX,MAAO,SACX,KAAKhf,GAAUif,QACX,MAAO,UACX,KAAKjf,GAAUkf,QACX,MAAO,UACX,KAAKlf,GAAUmf,UACX,MAAO,YACX,KAAKnf,GAAUme,SACX,MAAO,WACX,KAAKne,GAAUqK,WACX,MAAO,aACX,KAAKrK,GAAUiK,OACX,MAAO,SACX,QACI,MAAM,mBAAN,OAA0B4J,IAItC,SAASuL,GAAavL,EAAgB9J,GAClC,OAAQ8J,GACJ,KAAK7T,GAAUmK,gBACX,OAAOwT,IACX,KAAK3d,GAAUgf,OACX,OA9QZ,SAAuBjV,GAEnB,MAAkB,SAAXA,EAAoB,eAAC,GAAD,GAAgB,aAAiB,eAAC,GAAD,eADpC,CAAEmR,KAAM,EAAGE,gBAAgB,EAAMC,cAAc,IACK,aA4Q7DgE,CAActV,GACzB,KAAK/J,GAAUif,QACX,OA3QZ,SAAwBlV,GACpB,OAAO,eAAC2R,EAAA,EAAD,UACH,eAAC,GAAD,CAAYrF,QAAoB,SAAXtM,KADF,iBA0QRuV,CAAevV,GAC1B,KAAK/J,GAAUkf,QACX,OA3PD,eAACxD,EAAA,EAAD,UACH,eAAC,GAAD,KADmB,iBA4PnB,KAAK1b,GAAUmf,UACX,OAxQD,gBAACzD,EAAA,EAAD,WACH,eAAC5U,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,8BAAK4Y,GAAiBle,GAAUmf,iBAGxC,eAAC,GAAD,MANmB,mBAyQnB,KAAKnf,GAAUme,SACX,OAAOF,IACX,KAAKje,GAAUqK,WACX,OA1DD,gBAACqR,EAAA,EAAD,WACH,eAAC5U,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,8BAAK4Y,GAAiBle,GAAUqK,kBAGxC,eAAC,GAAD,MANmB,oBA2DnB,KAAKrK,GAAUiK,OACX,OAjDD,eAACyR,EAAA,EAAD,UACH,eAAC5U,EAAA,EAAD,UACI,eAACxB,EAAA,EAAD,UACI,eAAC,GAAD,SAHW,gBAkDnB,QACI,OAAO,eAACoW,EAAA,EAAD,mCAA8B7H,MAIjD,SAAS0L,KAA0B,IAAlBxV,EAAiB,uDAAR,OAChByV,EAAQhC,EAAczf,UAAUgM,OAAOA,GAAQhF,KAAI,SAAAhJ,GAAI,OAAIqjB,GAAarjB,EAAMgO,MACpF,OAAO,qCACW,IAAb0S,EACK,+BAAMV,GAAYyD,EAAO/C,KACzB,eAAC3V,EAAA,EAAD,UACGiV,GAAYyD,EAAO/C,GAAU1X,KAAI,SAAC0a,EAAYza,GAAb,OAC9B,eAACM,EAAA,EAAD,CAA+BC,GAAI,EAAnC,SACKka,GADL,mBAAsBza,WAS1C,OAnGA0a,qBAAU,WACN,IAAMC,EAAatB,aAAauB,QAAQ,QACpCD,GACAlC,EAAoBkC,GAGxB,IAAME,EAAWC,aAAY,WACzBzB,aAAaC,QAAQ,OAAQrV,KAAKC,UAAUsU,IAC5CD,EAAY,IAAIF,MAChBxS,QAAQC,IAAR,uBAA4BwS,MAVlB,KAad,OAAO,kBAAMyC,cAAcF,MAE7B,IAqFK,gBAAC/Y,EAAA,EAAD,WACH,eAACxB,EAAA,EAAD,CAAKyZ,GAAI,EAAGpa,GAAG,kBAAf,SACK4a,GAAQ,UAEb,eAACja,EAAA,EAAD,CAAKyZ,GAAI,EAAGpa,GAAG,uBAAf,SACI,+BACK4a,SAGT,eAACja,EAAA,EAAD,CAAKyZ,GAAI,EAAGpa,GAAG,kBAAf,SACK4a,GAAQ,eAOrB,SAASzB,GAA6B7gB,GAClC,IAAMqL,EAAwB,GAC9B,IAAK,IAAMrM,KAASgB,EAChBqL,EAAOb,KACH,eAACnC,EAAA,EAAD,CAA2BY,MAAO,CAAEqD,QAAS,OAA7C,SACI,eAAC,GAAD,CAAwBtN,MAAOA,KADnC,eAAkBA,KAK1B,OAAOqM,EAIJ,SAASyT,GAAYiE,EAAwBpE,GAEhD,IADA,IAAMqE,EAAgB,GACbC,EAAI,EAAGA,EAAItE,EAAUsE,IAAK,CAC/B,IAAMC,GAASH,EAAQ/P,OAAS,GAAK2L,EAAW,EAAI,EACpDqE,EAAOC,GAAK,IAAIE,MAAMD,GACtB,IAAK,IAAI3Y,EAAI2Y,EAAOD,EAAG1Y,EAAI2Y,GAAQD,EAAI,GAAI1Y,IACvCyY,EAAOC,GAAGzY,KAAKuY,EAAQxY,IAG/B,OAAOyY,ECncII,OAVf,WACI,OACI,eAACpO,EAAA,EAAD,CAAWwE,OAAK,EAAC9H,UAAU,MAAMzI,MAAO,CAAE0J,gBAAiB,SAA3D,SAEI,eAAC,GAAD,OCIG0Q,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,mBCmBCQ,GAhBDC,YAAe,CACzBC,QAAS,CACLljB,UAAW6L,GAAeqX,QAC1BhkB,gBAAiBb,EAAqB6kB,QACtC5L,OAAQL,GAAWiM,QACnBlhB,QAASN,GAAYwhB,QACrBje,UAAWf,GAAegf,QAC1Bzd,QAASnG,EAAa4jB,QACtBlV,WAAYyF,GAAgByP,SAEhCC,WAAW,aAAKC,iBCtBL,ICUfC,IAASC,OACL,eAAC,IAAMC,SAAP,UACI,gBAAC,IAAD,CAAUP,MAAOA,GAAjB,UACI,uBACIQ,IAAI,aACJxN,KAAK,0EACLyN,UAAU,0EACVC,YAAY,cAEhB,eAAC,GAAD,SAGRC,SAASC,eAAe,SAM5BrB,O","file":"static/js/main.106fe07d.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IItem } from \"../inventory/inventorySlice\";\r\n\r\nexport enum EWeaponCategory {\r\n    PISTOL,\r\n    _,\r\n    SWORD,\r\n    CHAIN,\r\n}\r\n\r\n\r\nexport interface IWeapon extends IItem{\r\n    weaponCategory: EWeaponCategory,\r\n    damage: string,\r\n    range: number,\r\n    rof: string,\r\n    clip: number,\r\n    rld: string\r\n    type: EDamageType,\r\n    pen: number,\r\n    weight: number,\r\n\r\n}\r\n\r\nexport enum ESpellType {\r\n    ATTACK = \"Attack\",\r\n    CONCENTRATION = \"Concentration\"\r\n}\r\n\r\nexport interface ISpell extends IItem {\r\n    exp: number,\r\n    prerequisites: string,\r\n    action: string,\r\n    focusPower: string,\r\n    range: string,\r\n    sustained: boolean,\r\n    subtype: ESpellType[],\r\n    pen: number,\r\n    damage: string,\r\n    type: EDamageType,\r\n}\r\n\r\nexport interface IWeaponState {\r\n    [name: string]: IWeapon | ISpell\r\n}\r\n\r\nexport enum EDamageType {\r\n    IMPACT,\r\n    RENDING,\r\n    SCHOCK,\r\n    LASER,\r\n    ENERGY,\r\n\r\n    MISC,\r\n}\r\n\r\n\r\nexport interface IArmourStats {\r\n    head?: number,\r\n    body?: number,\r\n    armR?: number,\r\n    armL?: number,\r\n    legR?: number,\r\n    legL?: number\r\n}\r\n\r\nexport interface IArmour extends IItem, IArmourStats {}\r\n\r\nexport interface IArmouryState {\r\n    armour: IArmourStats,\r\n    gear: {[name: string]: IArmour},\r\n    weapons: IWeaponState,\r\n    character: {\r\n        currentWounds: number,\r\n        maxWounds: number,\r\n        currentInfamy: number,\r\n    }\r\n}\r\n\r\nexport const armouryInitalState = {\r\n    armour: {\r\n        head: 0,\r\n        body: 0,\r\n        armR: 0,\r\n        armL: 0,\r\n        legR: 0,\r\n        legL: 0,\r\n    },\r\n    gear: { },\r\n    weapons: {},\r\n    character: {\r\n        currentWounds: 5,\r\n        maxWounds: 7,\r\n        currentInfamy: 2\r\n    }\r\n} as IArmouryState\r\n\r\nexport const armourySlice = createSlice({\r\n    name: 'armoury',\r\n    initialState: armouryInitalState,\r\n    reducers: {\r\n        setGear: (state, action: PayloadAction<IArmour>) =>  {\r\n            const { head, body, armL, armR, legL, legR, name } = action.payload;\r\n\r\n            state.armour.head = head ? head : state.armour.head\r\n            state.armour.body = body ? body : state.armour.body\r\n            state.armour.armL = armL ? armL : state.armour.armL\r\n            state.armour.armR = armR ? armR : state.armour.armR\r\n            state.armour.legL = legL ? legL : state.armour.legL\r\n            state.armour.legR = legR ? legR : state.armour.legR\r\n\r\n          state.gear[name] = action.payload;\r\n        },\r\n        removeGear: (state, action: PayloadAction<IArmour>) =>  {\r\n            const { head, body, armL, armR, legL, legR, name } = action.payload;\r\n\r\n            state.armour.head = head ? 0 : state.armour.head\r\n            state.armour.body = body ? 0 : state.armour.body\r\n            state.armour.armL = armL ? 0 : state.armour.armL\r\n            state.armour.armR = armR ? 0 : state.armour.armR\r\n            state.armour.legL = legL ? 0 : state.armour.legL\r\n            state.armour.legR = legR ? 0 : state.armour.legR\r\n\r\n            delete state.gear[name]\r\n        },\r\n        setWeapon: (state, action: PayloadAction<IWeapon | ISpell>) => {\r\n            state.weapons[action.payload.name] = {...action.payload, count: 1};\r\n        },\r\n        removeWeapon: (state, action) => {\r\n            delete state.weapons[action.payload.name];\r\n        },\r\n        setWounds: (state, action: PayloadAction<number>) => {\r\n            state.character.currentWounds = action.payload\r\n        },\r\n        setMaxWounds: (state, action) => {\r\n            state.character.maxWounds = action.payload\r\n        },\r\n        importArmoury: (state, action: PayloadAction<IArmouryState>) => {\r\n            const { armour, gear, weapons, character  } = action.payload;\r\n            state.armour = armour;\r\n            state.gear = gear;\r\n            state.weapons = weapons;\r\n            state.character = character;\r\n        }\r\n    },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setGear, removeGear, setWeapon, removeWeapon, setWounds, setMaxWounds, importArmoury } = armourySlice.actions\r\nexport default armourySlice.reducer\r\n\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"./store\";\r\n\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport interface ICharacteristics {\r\n    name: string;\r\n    value: number;\r\n    short: string;\r\n    bonus: number;\r\n    devotion: EGods;\r\n}\r\n\r\nexport interface ICharacteristicsState {\r\n    [short: string]: ICharacteristics\r\n}\r\n\r\nexport const expMapCharacteristics = [\r\n    [100, 250, 500, 750],\r\n    [250, 500, 750, 1000],\r\n    [500, 750, 1000, 2500]\r\n]\r\n\r\nexport const characteristicsInitialState = {\r\n    'WS': { name: \"Weapon Skill\", value: 30, short: 'WS', bonus: 0, devotion: \"Unaligned\"  },\r\n    'BS': { name: \"Ballistic Skill\", value: 30, short: 'BS', bonus: 0, devotion: \"Unaligned\" },\r\n    'S': { name: \"Strength\", value: 30, short: 'S', bonus: 0, devotion: \"Khorne\" },\r\n    'T': { name: \"Toughness\", value: 30, short: 'T', bonus: 0, devotion: \"Nurgle\" },\r\n    'AG': { name: \"Agility\", value: 30, short: 'AG', bonus: 0, devotion: \"Unaligned\" },\r\n    'INT': { name: \"Intelligence\", value: 30, short: 'INT', bonus: 0, devotion: \"Unaligned\" },\r\n    'PER': { name: \"Perception\", value: 30, short: 'PER', bonus: 0, devotion: \"Unaligned\" },\r\n    'WP': { name: \"Willpower\", value: 30, short: 'WP', bonus: 0, devotion: \"Tzeentch\" },\r\n    'FEL': { name: \"Fellowship\", value: 30, short: 'FEL', bonus: 0, devotion: \"Slaanesh\" },\r\n    'INF': { name: \"Infamy\", value: 30, short: 'INF', bonus: 0, devotion: \"Unaligned\" },\r\n    'COR': { name: \"Corruption\", value: 0, short: 'COR', bonus: 0, devotion: \"Unaligned\"}\r\n} as ICharacteristicsState\r\n\r\n\r\nexport const characteristicsSlice = createSlice({\r\n    name: 'characteristics',\r\n    initialState: characteristicsInitialState,\r\n    reducers: {\r\n        increment: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value += 1\r\n        },\r\n        incrementFive: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value += 5\r\n        },\r\n        decrement: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value -= 1\r\n        },\r\n        incrementBonus: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].bonus += 1\r\n        },\r\n        decrementBonus: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].bonus > 0 ? state[action.payload].bonus -= 1 : state[action.payload].bonus = 0;\r\n        },\r\n        importCharacteristics: (state, action) => {\r\n            const characteristics = action.payload;\r\n            for (const stat in characteristics) {\r\n                state[stat] = characteristics[stat]\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, incrementFive, decrement, incrementBonus, decrementBonus, importCharacteristics } = characteristicsSlice.actions\r\nexport default characteristicsSlice.reducer\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allTalents } from \"../character/resources\";\r\n\r\nexport interface ITalent {\r\n    name: string,\r\n    tier: number,\r\n    prerequisites?: string,\r\n    devotion: EGods,\r\n    description?: string,\r\n    specialization?: string\r\n}\r\n\r\nexport enum EGods {\r\n    KHORNE = \"Khorne\",\r\n    NURGLE = \"Nurgle\",\r\n    SLAANESH = \"Slaanesh\",\r\n    TZEENTCH = \"Tzeentch\",\r\n    UNALIGNED = \"Unaligned\",\r\n    SPECIAL = \"Special\",\r\n}\r\n\r\nexport interface IGodMap {\r\n    \"Khorne\": EGods.KHORNE,\r\n    \"Nurgle\": EGods.NURGLE,\r\n    \"Slaanesh\": EGods.SLAANESH,\r\n    \"Tzeentch\": EGods.TZEENTCH,\r\n    \"Unaligned\": EGods.UNALIGNED,\r\n    \"Special\": EGods.SPECIAL,\r\n    [idx: string]: EGods\r\n}\r\n\r\nexport const godStringMap =  {\r\n    \"Khorne\": EGods.KHORNE,\r\n    \"Nurgle\": EGods.NURGLE,\r\n    \"Slaanesh\": EGods.SLAANESH,\r\n    \"Tzeentch\": EGods.TZEENTCH,\r\n    \"Unaligned\": EGods.UNALIGNED,\r\n    \"Special\": EGods.SPECIAL,\r\n} as IGodMap\r\n\r\n/**\r\nTier 1 Talente (T:200xp/A:250xp/O:500xp)\r\nTier 2 Talents (T:300xp/A:500xp/O:750xp)\r\nTier 3 Talents (T:400xp/A:750xp/O:1000xp)\r\n */\r\nexport const expMapTalents = [\r\n    [200, 250, 500],\r\n    [300, 500, 750],\r\n    [400, 750, 1000]\r\n];\r\n\r\nexport const devotionMap = {\r\n    [EGods.UNALIGNED]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 1,\r\n    },\r\n    [EGods.KHORNE]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 0,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 2,\r\n        [EGods.SLAANESH]: 2,\r\n    },\r\n    [EGods.NURGLE]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 0,\r\n        [EGods.TZEENTCH]: 2,\r\n        [EGods.SLAANESH]: 2,\r\n    },\r\n    [EGods.TZEENTCH]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 2,\r\n        [EGods.NURGLE]: 2,\r\n        [EGods.TZEENTCH]: 0,\r\n        [EGods.SLAANESH]: 1,\r\n    },\r\n    [EGods.SLAANESH]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 2,\r\n        [EGods.NURGLE]: 2,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 0,\r\n    },\r\n    [EGods.SPECIAL]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 1,\r\n    }\r\n};\r\n\r\nexport interface ITalentState {\r\n    [name: string]: ITalent\r\n}\r\n\r\nexport const talentsInitialState = {\r\n    'Total Recall': { name: \"Total Recall\", tier: 1, devotion: EGods.UNALIGNED, prerequisites: \"-\", description: \"The character can automatically remember trivial facts or pieces of information the character might feasibly have picked up in the past. When dealing with more detailed, complex or obscure facts, such as the exact layout of a defence network, the GM may require a successful Intelligence Test to recall the information.\" },\r\n} as ITalentState\r\n\r\nexport const talentSlice = createSlice({\r\n    name: 'skills',\r\n    initialState: talentsInitialState,\r\n    reducers: {\r\n        addTalent: (state, action: PayloadAction<ITalent>) => {\r\n            const talent = action.payload;\r\n            if (talent.name !== '') {\r\n                state[talent.name] = talent\r\n\r\n                if (!allTalents[talent.name]) {\r\n                    allTalents[talent.name] = talent;\r\n                }\r\n\r\n            }\r\n        },\r\n        removeTalent: (state, action) => {\r\n                delete state[action.payload?.name];\r\n        },\r\n        importTalents: (state, action) => {\r\n            const talents = action.payload;\r\n            for (const name in talents) {\r\n                state[name] = talents[name];\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { addTalent, removeTalent, importTalents } = talentSlice.actions\r\nexport default talentSlice.reducer\r\n\r\n","export enum EItemCategory {\r\n    NONE = \"-\",\r\n    WEAPON = \"Weapon\",\r\n    ARMOUR = \"Armour\",\r\n    SPELL = \"Spells\",\r\n    MISC = \"Misc\",\r\n}\r\n","import { ISkillState } from \"../skills/skillSlice\";\r\nimport { IInventory } from \"../inventory/inventorySlice\";\r\nimport { EDamageType, ESpellType, EWeaponCategory, IArmour, ISpell, IWeapon, IWeaponState } from \"../armoury/armourySlice\";\r\nimport { EGods, ITalentState } from \"../talents/talentSlice\";\r\nimport { EItemCategory } from \"./EItemCategory\";\r\n\r\nexport const allSkills: ISkillState = {\r\n    'Acrobatics': { name: 'Acrobatics', level: 0, type: 'Ag', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Athletics': { name: 'Athletics', level: 0, type: 'S', bonus: 0, devotion: EGods.KHORNE },\r\n    'Awareness': { name: 'Awareness', level: 0, type: 'Per', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Charm': { name: 'Charm', level: 0, type: 'Fel', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Command': { name: 'Command', level: 0, type: 'Fel', bonus: 0, devotion: EGods.KHORNE },\r\n    'Commerce': { name: 'Commerce', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Common Lore': { name: 'Common Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Deceive': { name: 'Deceive', level: 0, type: 'Fel', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Dodge': { name: 'Dodge', level: 0, type: 'Ag', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Forbidden Lore': { name: 'Forbidden Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Inquiry': { name: 'Inquiry', level: 0, type: 'Fel', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Interrogate': { name: 'Interrogate', level: 0, type: 'Fel', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Intimidate': { name: 'Intimidate', level: 0, type: 'S', bonus: 0, devotion: EGods.NURGLE },\r\n    'Linguistics': { name: 'Linguistics', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Logic': { name: 'Logic', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Medicae': { name: 'Medicae', level: 0, type: 'Int', bonus: 0, devotion: EGods.NURGLE },\r\n    'Navigation (Surface)': { name: 'Navigation (Surface)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Navigation (Stellar)': { name: 'Navigation (Stellar)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Navigation (Warp)': { name: 'Navigation (Warp)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Aeronaut)': { name: 'Operate (Aeronaut)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Surface)': { name: 'Operate (Surface)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Voidship)': { name: 'Operate (Voidship)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Parry': { name: 'Parry', level: 0, type: 'Ws', bonus: 0, devotion: EGods.KHORNE },\r\n    'Psyniscience': { name: 'Psyniscience', level: 0, type: 'Per', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Scholastic Lore': { name: 'Scholastic Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Scrutiny': { name: 'Scrutiny', level: 0, type: 'Per', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Security': { name: 'Security', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Sleight of Hand': { name: 'Sleight of Hand', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Stealth': { name: 'Stealth', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Tech-Use': { name: 'Tech-Use', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Survival': { name: 'Survival', level: 0, type: 'Per', bonus: 0, devotion: EGods.NURGLE },\r\n    'Trade': { name: 'Trade', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n}\r\n\r\nexport const allTalents = {\r\n    'Air of Authority': { name: \"Air of Authority\", tier: 1, prerequisites: \"Fel 30\", devotion: EGods.SLAANESH, description: \"When making Command Skill Tests, the character may affect a number of targets equal to 10 times his Fellowship bonus. If the character has Minions (see page 135) they are also more devoted to him and add +10 to their Loyalty when in his presence. This talent has no effect on hostile targets, and only affects NPCs.\" },\r\n    'Ambidextrous': { name: \"Ambidextrous\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.UNALIGNED, description: \"The character may use either hand equally well for any task, and does not suffer the –20 penalty for actions using his off hand. Special: When combined with the Two-Weapon Wielder Talent, the penalty for making attacks with both weapons in the same Turn drops to –10.\" },\r\n    'Ancient Warrior': { name: \"Ancient Warrior\", tier: 1, devotion: EGods.UNALIGNED, description: \"This Talent must be taken at Character Creation. The character can command special respect from other veterans of the Long War and gains a +10 to all Fellowship Tests and Skill Tests based on Fellowship when dealing with such NPCs. In addition, Chaos Space Marine Minions of the character increase their loyalty by +10. Long War weaponry is also easier for him to obtain and all weapons with the word “Legion” in the title count as one Availability category easier than normal (i.e. Rare becomes Scarce, Scarce becomes Average, etc.). Finally, veterans of the Long War are despised by the Imperium and the Adeptus Astartes especially, and should the character’s past become known by these powers it is likely to end in blood…\" },\r\n    \"Armour-Monger\": { name: \"Armour-Monger\", tier: 2, prerequisites: \"Int 35, Tech Use, Trade (Armorer)\", devotion: EGods.UNALIGNED, description: \"The character increases the Armour Points of any armour he wears by 2 on all locations it would normally cover as long as he has at least an hour each day to clean and repair it or make minor modiﬁ cations. This bonus applies only to armour worn by the character as it combines his training as much as his skill at armoury.\" },\r\n    \"Arms Master\": { name: \"Arms Master\", tier: 3, prerequisites: \"WS 40, BS 40, Weapon Training (any two)\", devotion: EGods.UNALIGNED, description: \"When the Heretic uses a weapon he is untrained in, he only suffers a –10 penalty, rather than a –20. The only exceptions to the Arms Master Talent are exotic weapons, which are so unusual or rare that they always require their own weapon training Talents to use without penalty and gain no bonus when combined with this talent.\" },\r\n    \"Assassin Strike\": { name: \"Assassin Strike\", tier: 3, prerequisites: \"Ag 40, Acrobatics\", devotion: EGods.SLAANESH, description: \"After making a melee attack, a successful Acrobatics Skill Test allows the character to move at half rate as a Free Action. The character’s opponent does not receive a free attack resulting from this move. The character may only make this move once per round.\" },\r\n    \"Baleful Dirge\": { name: \"Baleful Dirge\", tier: 2, prerequisites: \"Disturbing Voice, Intimidate +10\", devotion: EGods.NURGLE, description: \"Singing the dirge takes some concentration and requires a Half Action each round to maintain. All creatures which can hear the character within a 30-metre radius must make a Willpower Test or suffer a –10 on their next roll. As long as the dirge is maintained, all those affected by it must test each turn to see if they suffer its effects. Once a creature passes a Willpower Test however, it has completely overcome the dirge and is not affected by it for the remainder of the encounter.\" },\r\n    \"Bastion of Iron Will\": { name: \"Bastion of Iron Will\", tier: 3, prerequisites: \"Psy Rating, Strong Minded, WP 40\", devotion: EGods.TZEENTCH, description: \"The character adds 5 x his Psy Rating on any Opposed Test involving defending against the Psyniscience Skill or Psychic Powers.\" },\r\n    \"Battle Rage\": { name: \"Battle Rage\", tier: 2, prerequisites: \"Frenzy\", devotion: EGods.KHORNE, description: \"The character may Parry while frenzied. In addition such is the character’s control he may reroll a failed roll to snap out of Frenzy or resist entering Frenzy if he so chooses.\" },\r\n    \"Berserk Charge\": { name: \"Berserk Charge\", tier: 1, devotion: EGods.KHORNE, description: \"If the character uses the Charge Action, he gains a +30 bonus to Weapon Skill instead of +20.\" },\r\n    \"Betrayer\": { name: \"Betrayer\", tier: 2, prerequisites: \"Cold Hearted, Intimidate\", devotion: EGods.UNALIGNED, description: \"Once per game session the character may kill either an allied NPC (i.e. an NPC which is openly friendly toward the PC and trusts him) or one of his own Minions. Such calculated cruelty boosts the Heretic’s reputation, granting him a +10 bonus on his next Infamy Test if the victim was an NPC and +20 if it was a Minion (and harder to replace). Killing NPCs and Minions usually has consequences as well which should be determined by the GM.\" },\r\n    \"Blade Dancer\": { name: \"Blade Dancer\", tier: 3, prerequisites: \"WS 40, Two-Weapon Wielder (Melee)\", devotion: EGods.UNALIGNED, description: \"When attacking with any bladed weapon, including chainswords, axes, and powerswords, the character may reroll one missed attack per round.\" },\r\n    \"Blademaster\": { name: \"Blademaster\", tier: 3, prerequisites: \"WS 30, Weapon Training (Any melee)\", devotion: EGods.KHORNE, description: \"When armed with two singled handed melee weapons with the Balanced Quality, the character reduces the penalties for Two-Weapon Fighting (see page 243) by 10 (so –20 would drop to –10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Blasphemous Incantation\": { name: \"Blasphemous Incantation\", tier: 3, prerequisites: \"Psy Rating\", devotion: EGods.TZEENTCH, description: \"Using a power with an incantation increases the Focus Power Test by a Half Action, as the psyker requires a few moments to speak the required words. Powers for which the Focus Power Test takes a Reaction cannot be used with an invocation. Using a power with an invocation grants the psyker a +1 bonus to his Psy Rating, after determining Psychic Strength. This bonus to PR does not inﬂuence the Psychic Strength in any way; their beneﬁt is applied after determining whether a power is used at the Unfettered, Fettered or Push level. However, the psyker must add +20 to any roll on the Psychic Phenomena table. Finally, any result of 91 or higher on the Focus Power Test is an automatic failure that results in Perils of the Warp.\" },\r\n    \"Blind Fighting\": { name: \"Blind Fighting\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.TZEENTCH, description: \"This talent reduces all penalties for ﬁghting with a melee weapon while suffering from obscured vision by half (rounded up), permitting the character to ﬁght in fog, smoke or darkness more effectively. See page 245 for a full list of attack penalties based on lighting and vision. Note this talent only improves a character’s chances to hit with melee weapons and has not effect on ranged weapon attacks.\" },\r\n    \"Blood God's Contempt\": { name: \"Blood God's Contempt\", tier: 3, prerequisites: \"Frenzy, WP 40\", devotion: EGods.KHORNE, description: \"The character spends the time before battle armouring himself against the power of the warp by cursing the names of sorcerers and showing his fearlessness before his feeble power and all those who wield the power of the warp. This talent may be used at any time by a character as long as he has at least an hour to perform his ritual of contempt (a player may say his character has already performed the ritual before play begins if the GM agrees). The character must also spend one Infamy Point. During the game session whenever the character is the subject of the effects of a psychic power, daemonic power or other warp based power, he may make a Willpower Test (make this test before any tests he would normally be permitted to resist the effects of the power). If the Willpower test is passed the character is unaffected by the psychic power. If the test is failed then the psychic power affects him as normal and he becomes Frenzied in addition to any other effects. The effects of this talent only apply to powers that directly affect the character (such as targeted powers or powers which catch him in their area of effect) and not powers which may harm him indirectly (such as attack from summoned daemons or falling or flung debris from a telekinetic). In addition, powers used by friendly psykers must also be resisted (and also cause Frenzy should he fail to resist them). A power that is resisted by a character using this talent is not nullified an others are affected by it as normal.\" },\r\n    \"Bolter Drill\": { name: \"Bolter Drill\", tier: 3, prerequisites: \"Weapon Training (Bolt), BS 40\", devotion: EGods.UNALIGNED, description: \"When ﬁring any class of Bolt weapon on full or semi-auto the character may score one additional Degree of Success (provided the Test is successful) if he does not take a Move Action in his turn.\" },\r\n    \"Bulging Biceps\t\": { name: \"Bulging Biceps\", tier: 2, prerequisites: \"S 45\", devotion: EGods.NURGLE, description: \"The character can ﬁre heavy weapons using Semi-Auto Burst or Full Auto Burst without bracing, and he does not suffer the -30 penalty for failing to brace. In addition whenever the character uses the Athletics Heft Special Skill Use (see page 96) he may add +20 to his Athletics Skill Test to reﬂect his massive muscles.\" },\r\n    \"Catfall\": { name: \"Catfall\", tier: 1, devotion: EGods.SLAANESH, description: \"The character automatically reduces the distance of all falls by a number of metres equal to his Agility Bonus, ignoring this distance as if it did not exist. In addition the character adds +20 to his Acrobatics Skill Tests when using the Jump Special Skill Use as it pertains to reducing Damage from falling.\" },\r\n    \"Child of the Warp\": { name: \"Child of the Warp\", tier: 2, prerequisites: \"Psy Rating\", devotion: EGods.UNALIGNED, description: \"This grants greater connection to the warp and increases the character’s Psy Rating by +1 when he chooses to Push . The downside, however, is that the warp is always partially manifest in his presence and he generates constant psychic phenomena. At the start of each game session the character should roll 1d10 on Table 4-4: Child of the Warp to determine the nature of these persistent effects which follow him for the duration of the session.\" },\r\n    \"Cold Hearted\": { name: \"Cold Hearted\", tier: 1, devotion: EGods.UNALIGNED, description: \"Seduction attempts against him automatically fail, and he gains a +20 to his Willpower when making Opposed Tests against an opponent using the Charm Skill. Taking this Talent gives the character one Corruption Point.\" },\r\n    \"Combat Formation\": { name: \"Combat Formation\", tier: 1, prerequisites: \"Int 40\", devotion: EGods.TZEENTCH, description: \"Before rolling initiative, all members of the group (including the character) add +1 to his Initiative Rolls. Any member of the group may also choose to use the Intelligence Bonus of the character for their initiative roll rather than their own Agility Bonus.\" },\r\n    \"Combat Master\": { name: \"Combat Master\", tier: 2, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"Opponents ﬁghting the character in hand-to-hand combat gain no bonuses for Ganging Up (see page 245).\" },\r\n    \"Combat Sense\": { name: \"Combat Sense\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.UNALIGNED, description: \"The character may use his Perception Bonus in place of his Agility Bonus when rolling Initiative.\" },\r\n    \"Corpus Conversion\": { name: \"Corpus Conversion\", tier: 2, prerequisites: \"Psy Rating, Human\", devotion: EGods.NURGLE, description: \"A psyker with the Corpus Conversion Talent gains access to this Path to Power, and may elect to use it before he attempts his Focus Power Test. The psyker may gain a number of bonus Degrees of Success no greater than his Toughness Bonus on his Focus Power Test. However, for every Degree of Success gained in this way, the psyker suffers 1d10 Toughness Damage (note, this is not permanent Toughness Damage) and one Corruption Point as the energies of the warp poison his body from within. Traitor Legion characters may not beneﬁt from Corpus Conversion; the taint-resistant metabolism of the Astartes makes them incapable of burning away his ﬂesh to fuel warp-based powers.\" },\r\n    \"Counter Attack\": { name: \"Counter Attack\", tier: 2, prerequisites: \"WS 40\", devotion: EGods.UNALIGNED, description: \"After successfully parrying an opponent’s attack, the character may immediately make an attack against that opponent using the weapon with which he parried as a Free Action even though it is not his turn. This attack suffers a –20 penalty and may not be combined with any ability which allows more than one hit or attack such as Lighting Attack or Two-Weapon Fighting.\" },\r\n    \"Crack Shot\": { name: \"Crack Shot\", tier: 2, prerequisites: \"BS 50\", devotion: EGods.TZEENTCH, description: \"When the character’s ranged attack causes Critical Damage, add +2 to the Damage result.\" },\r\n    \"Crippling Strike\": { name: \"Crippling Strike\", tier: 2, prerequisites: \"WS 50\", devotion: EGods.SLAANESH, description: \"When the character’s melee attack causes Critical Damage add +2 to the Damage result.\" },\r\n    \"Crushing Blow\": { name: \"Crushing Blow\", tier: 3, prerequisites: \"WS 40\", devotion: EGods.KHORNE, description: \"The character adds half his Weapon Skill Bonus to Damage he inﬂicts in melee.\" },\r\n    \"Cursed Heirloom\": { name: \"Cursed Heirloom\", tier: 1, devotion: EGods.UNALIGNED, description: \"Passed down through the ages, the character has come into possession of an ancient ancestral heirloom. He must roll a 1d5 on the Cursed Heirloom Table for any weapon or armour giving it a permanent curse. He is now bonded to the item and even if it is lost, destroyed, or stolen it always somehow turns up in its original condition at the start of the next game session. Such items also usually come with a history of their own and the GM should feel free to have the item’s past come back to haunt the character from time to time\" },\r\n    \"Deadeye Shot\": { name: \"Deadeye Shot\", tier: 1, prerequisites: \"BS 30\", devotion: EGods.TZEENTCH, description: \"When making a Called Shot (see page 234) ranged attack, the character reduces the penalty by 10 (so a –20 becomes a –10 instead).\" },\r\n    \"Deflect Shot\": { name: \"Deflect Shot\", tier: 2, prerequisites: \"Ag 50\", devotion: EGods.UNALIGNED, description: \"When the character is armed with a readied melee weapon they add his Weapon Skill Bonus to his armour points on all locations (even unarmed locations) when calculating Damage from hits from ranged weapons with the Primitive Special Quality or Thrown weapons.\" },\r\n    \"Demagogue\": { name: \"Demagogue\", tier: 3, prerequisites: \"Inspire Wrath\", devotion: EGods.SLAANESH, description: \"When the character uses the Charm or Intimidate Skill to affect more than one person they may affect up to a 100 times his Fellowship Bonus. In addition such is the character’s natural magnetism and charisma that he adds +10 to the loyalty of all his Minions.\" },\r\n    \"Die Hard\": { name: \"Die Hard\", tier: 1, prerequisites: \"WP 40\", devotion: EGods.NURGLE, description: \"When he suffers from blood loss, he may roll twice to avoid death.\" },\r\n    \"Disarm\": { name: \"Disarm\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.UNALIGNED, description: \"If in close combat, the character may use a Full Action to disarm his foe by making an Opposed Weapon Skill Test. If the character wins the test, the enemy drops his weapon at his feet. Should the character obtain three or more Degrees of Success, he may take the enemy’s weapon from him.\" },\r\n    \"Disturbing Voice\": { name: \"Disturbing Voice\", tier: 1, devotion: EGods.NURGLE, description: \"The character gains a +10 bonus to all Intimidate Skill Tests, but suffers a –10 penalty to Fellowship Tests when dealing with others in a non-threatening manner, such as animals, children or the easily startled. In addition, the character is more adept at instilling fear in his followers and when using the Special Skill Use Terrify (see page 97), and adds +10 to his Command Skill Test to counter the effects of Fear.\" },\r\n    \"Double Team\": { name: \"Double Team\", tier: 1, devotion: EGods.UNALIGNED, description: \"When ganging up on an opponent, the character gains an additional +10 bonus to Weapon Skill Tests. If one or more of the other allies ganging up on the opponent have this Talent, both gain an additional +10 bonus, for a total of +20. This bonus is in addition to the normal bonus gained from Ganging Up on an opponent (see page 245).\" },\r\n    \"Electro Graft Use\": { name: \"Electro Graft Use\", tier: 1, prerequisites: \"Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"Grants and additional +10 to common lore, inquiry, or Tech-Use whilst connected to a data Port.\" },\r\n    \"Enemy\": { name: \"Enemy\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character suffers an additional –10 multiplied X times penalty to Fellowship Tests when dealing with this group and the GM may use them to complicate his life from time to time. Unlike other talents this talent does not cost any experience points to purchase and cannot be taken as an advance.\" },\r\n    \"Excessive Wealth\": { name: \"Excessive Wealth\", tier: 1, prerequisites: \"Inf 40\", devotion: EGods.SLAANESH, description: \"The character gains a +10 bonus to his Infamy whenever he makes an Acquisition Test representing his increased ability to buy goods.\" },\r\n    \"Exotic Weapon Training\": { name: \"Exotic Weapon Training\", tier: 2, devotion: EGods.UNALIGNED, description: \"The character is trained to use a particularly obscure type of weapon, allowing him to use armaments few others have ever seen. Weapons requiring this unique talent are noted in their armoury descriptions. When a character attempts to use a weapon he does not have the correct Weapon Training Talent for, he suffers a –20 penalty to any relevant Weapon Skill or Ballistic Skill Test. Unlike other kinds of weapons training this talent applies only to a single weapon and not a class of weapons\" },\r\n    \"Eye of Vengeance\": { name: \"Eye of Vengeance\", tier: 3, prerequisites: \"BS 50\", devotion: EGods.TZEENTCH, description: \"Before making a Standard Attack ranged attack action, the character may spend an Infamy Point. If he does so, his attack deals +X Damage and gains +X Pen, where X equals the number of Degrees of Success scored on the attack roll.\" },\r\n    \"Favoured by the Warp\": { name: \"Favoured by the Warp\", tier: 3, prerequisites: \"WP 35\", devotion: EGods.TZEENTCH, description: \"Whenever a Power Roll results in Psychic Phenomena, the character may roll one additional time on that table and take the more favourable result. Perils of the Warp affect him as normal—such is the capacious nature of the gods that not even the “favoured” can avoid their gaze from time to time…\" },\r\n    \"Fearless\": { name: \"Fearless\", tier: 3, prerequisites: \"Nerves of Steel\", devotion: EGods.NURGLE, description: \"The character is immune to the effects of Fear and Pinning, but disengaging from combat or backing down from a ﬁght is difﬁcult for him to stomach and as such requires a successful Willpower Test.\" },\r\n    \"Ferric Summons\": { name: \"Ferric Summons\", tier: 1, prerequisites: \"Ferric Lure Implants\", devotion: EGods.UNALIGNED, description: \"The Heretic can call an unsecured metal object to his hand as with Ferric Lure Implants, but may summon objects of up to 2 kilograms per point of his Willpower Bonus and may summon objects up to 40 metres distant.\" },\r\n    \"Flesh Render\": { name: \"Flesh Render\", tier: 1, prerequisites: \"Weapon Training (Chain)\", devotion: EGods.KHORNE, description: \"When inﬂicting Damage with a melee weapon that has the Tearing Quality, the character rolls two additional die for Damage, rather than the normal one for using a Tearing weapon, and discards the lowest two Damage dice results.\" },\r\n    \"Foresight\": { name: \"Foresight\", tier: 2, prerequisites: \"Int 30\", devotion: EGods.TZEENTCH, description: \"By spending ten minutes studying or analysing a problem, the character gains a +10 bonus to his next Intelligence Test or a Skill Test based on Intelligence.\" },\r\n    \"Frenzy\": { name: \"Frenzy\", tier: 1, devotion: EGods.KHORNE, description: \"If the character spend one full round fuelling anger (through flagellation, drugs, or other means), next round go into an uncontrolled rage, gaining a +10 bonus to Weapon Skill, Strength, Toughness, and Willpower, but suffering a –20 penalty to Ballistic Skill, Intelligence and Fellowship. The character must attack the nearest enemy in melee combat if possible. While Frenzied, he is immune to Fear, Pinning, stunning effects, the effects of Fatigue, and he may not Parry, retreat, or flee. He remains Frenzied for the duration of the combat. Characters may not use psychic powers whilst in Frenzy. After combat ends, or if there are no more eligible targets for the character to attack he can make a Willpower Test to snap out of his Frenzy. If he fails he must continue to attack, favouring NPCs over PCs. Each successive round however he may make another Willpower Test, with a cumulative +10 Bonus to return to a stable state of mind and come out of Frenzy.\" },\r\n    \"Furious Assault\": { name: \"Furious Assault\", tier: 2, prerequisites: \"WS 35\", devotion: EGods.KHORNE, description: \"If the character successfully hits his target using the All Out Attack Action, he may spend his Reaction (and thus not being able to parry or dodge until his next turn) to make an additional attack using the same bonuses or penalties as the original attack.\" },\r\n    \"Greater Minion of Chaos\": { name: \"Greater Minion of Chaos\", tier: 3, prerequisites: \"Fel 55, Infamy 50\", devotion: EGods.UNALIGNED, description: \"Details on creating a Greater Minion can be found on page 135. This talent may be taken more than once, each time adding another Greater Minion to the character’s retinue.\" },\r\n    \"Gunslinger\": { name: \"Gunslinger\", tier: 3, prerequisites: \"BS 40, Two-Weapon Wielder (Ballistic)\", devotion: EGods.UNALIGNED, description: \"When armed with two pistol-class weapons, both of which he can use single-handedly, the character reduces the penalty for Two-Weapon Fighting by 10 (so –20 would drop to –10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Hammer Blow\": { name: \"Hammer Blow\", tier: 3, prerequisites: \"Crushing Blow\", devotion: EGods.KHORNE, description: \"When the character makes an All Out Attack manoeuvre to make a single melee attack he may add half his Strength Bonus to the weapon’s Armour Penetration. The attack also counts as having the Concussive (2) Special Quality to represent the shocking force of the blow’s impact.\" },\r\n    \"Hard Target\": { name: \"Hard Target\", tier: 2, prerequisites: \"Ag 50\", devotion: EGods.SLAANESH, description: \"When the character performs a Charge or Run action, opponents suffer a –20 penalty to Ballistic Skill Tests made to hit the character with a ranged weapon. This penalty continues until the start of the character’s next turn.\" },\r\n    \"Hardy\": { name: \"Hardy\", tier: 2, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"When undergoing medical treatment or healing from injures , the character always recovers Damage as if lightly wounded regardless of the level of Damage he has sustained.\" },\r\n    \"Hatred\": { name: \"Hatred\", tier: 2, devotion: EGods.KHORNE, description: \"A group, organisation or race has wronged the character in the past, fuelling this animosity. When fi ghting opponents of that group in close combat, the character gains a +10 bonus to all Weapon Skill Tests made against him. The character also finds it difficult to back down from a fight with his hated foe and must make a Willpower Test to retreat or surrender when fighting him unless massively outnumbered or outclassed\" },\r\n    \"Heightened Senses\": { name: \"Heightened Senses\", tier: 1, devotion: EGods.TZEENTCH, description: \"When the character gains this Talent, select one of the ﬁve senses: The character gains a +10 bonus to any tests speciﬁcally involving this sense. Thus, Heightened Senses (Sight) would apply to an Awareness Test to see a ﬂock of Shale Crows, but not to a Ballistic Skill Test simply because the character is using his eyes. This talent may be taken more than once, each time with a different specialisation.\" },\r\n    \"Hip Shooting\": { name: \"Hip Shooting\", tier: 2, prerequisites: \"BS 40, Ag 40\", devotion: EGods.UNALIGNED, description: \"As a Full Action, the character may both move up to his Full Move rate and make a single attack with a ranged weapon. This attack can only be a single shot and may not be a semi or full automatic ranged attack. Characters with the Two-Weapon Fighting talent may use this talent with Hip Shooting to make two single shots if he is armed with a ranged weapon in either hand.\" },\r\n    \"Hotshot Pilot\": { name: \"Hotshot Pilot\", tier: 2, prerequisites: \"Ag 40, Operate (any)\", devotion: EGods.UNALIGNED, description: \"The character counts as having all Operate Skills (essentially, he can drive or ﬂy anything) at Rank 1 (Known). If he wishs to later improve his Operate Skills they must be bought using experience points (from Rank 1) as normal. Such is his skill he also adds one Degree of Success to any successful Operate Tests.\" },\r\n    \"Independent Targeting\": { name: \"Independent Targeting\", tier: 2, prerequisites: \"BS 40\", devotion: EGods.UNALIGNED, description: \"When ﬁring two weapons as part of a single action (using the Two-Weapon Fighting talent), the targets need not be less than 10 metres apart.\" },\r\n    \"Infused Knowledge\": { name: \"Infused Knowledge\", tier: 3, prerequisites: \"Int 40, Lore (any)\", devotion: EGods.TZEENTCH, description: \"The character counts as having all Common Lore and Scholastic Lore (essentially, he knows something about everything) at Rank 1 (Known). If he wishes to later improve his Lore Skills they must be bought using experience points (from Rank 1) as normal. Such is his skill that he also adds one Degree of Success to any successful Common or Scholastic Lore Tests.\" },\r\n    \"Inspire Wrath\": { name: \"Inspire Wrath\", tier: 2, prerequisites: \"Air of Authority\", devotion: EGods.SLAANESH, description: \"As a Full Action, the character can make a Charm Test to grant the effects of the Hatred Talent to any people in his immediate vicinity. Success on the test grants the Hatred Talent to the listeners (with the object of hate chosen by the character) for the duration of an encounter. Listeners can resist the effects of the characters speech (and therefore not be burdened with his chosen hatred) by passing an Opposed Willpower Test against the character’s Charm Skill Test. Inspire Wrath affects up to 10 times the character’s Fellowship, which can be increased with the use of the Demagogue Talent as normal. Both players and GMs should bear in mind, however, that once a crowd has been inspired to hatred or mindless anger the effects can be unpredictable…\" },\r\n    \"Into the Jaws of Hell\": { name: \"Into the Jaws of Hell\", tier: 3, prerequisites: \"Iron Discipline, Fel 50\", devotion: EGods.SLAANESH, description: \"His followers become immune to the effects of Fear and Pinning as long as he is physically there to lead them and they can see him leading by example. Heretics cannot beneﬁt from the Into the Jaws of Hell of another Heretic.\" },\r\n    \"Iron Jaw\": { name: \"Iron Jaw\", tier: 1, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"If ever Stunned, a successful Toughness Test allows the character to ignore the effects.\" },\r\n    \"Iron Discipline\": { name: \"Iron Discipline\", tier: 2, prerequisites: \"Fel 30\", devotion: EGods.SLAANESH, description: \"If the character is visible to his followers, either in person or via vox- or pict-caster, they may reroll failed Willpower Tests made to resist Fear and Pinning. Heretics cannot beneﬁt from the Iron Discipline of another Heretic.\" },\r\n    \"Jaded\": { name: \"Jaded\", tier: 1, prerequisites: \"WP 40\", devotion: EGods.NURGLE, description: \"Dead bodies, xenos creatures, and other terrifying but natural occurrences do not elicit Fear Tests. Terrors of the Warp still affect the character normally.\" },\r\n    \"Killing Strike\": { name: \"Killing Strike\", tier: 2, prerequisites: \"WS 50\", devotion: EGods.KHORNE, description: \"When making an All Out Attack, the character may spend one Infamy Point to choose to make that melee attack unavoidable with the Parry or Dodge Skills. Other means of stopping attacks (such as Shadow Fields or Displacement Fields) are unaffected.\" },\r\n    \"Leap Up\": { name: \"Leap Up\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.SLAANESH, description: \"The character may stand up as a Free Action\" },\r\n    \"Legion Weapon Training\": { name: \"Legion Weapon Training\", tier: 1, prerequisites: \"Chaos Space Marine\", devotion: EGods.UNALIGNED, description: \"Chaos Space Marines are proﬁcient with all weapons of the Bolt, Chain, Melta, Plasma, Power, Flame, Primary, Las, Solid Projectile, Thrown, and Launcher categories. In essence the only weapons that a Chaos Space Marine is not proﬁcient with are Exotic Weapons; for these he must acquire individual Talents as normal.\" },\r\n    \"Lesser Minion of Chaos\": { name: \"Lesser Minion of Chaos\", tier: 1, prerequisites: \"Fel 40\", devotion: EGods.UNALIGNED, description: \"Details on creating a Lesser Minion can be found on page 135. This Talent may be taken more than once, each time adding another Lesser Minion to the character’s retinue.\" },\r\n    \"Light Sleeper\": { name: \"Light Sleeper\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.TZEENTCH, description: \"The character is always assumed to be awake, even when asleep, for the purposes of Awareness Tests or surprise. Unfortunately, the character’s sleep is not deep and can be frequently interrupted, resulting in a less-than-cheery disposition when awake.\" },\r\n    \"Lightning Attack\": { name: \"Lightning Attack\", tier: 3, prerequisites: \"Swift Attack\", devotion: EGods.KHORNE, description: \"A Heretic with this Talent may make the Lightning Attack Combat Action (see page 238).\" },\r\n    \"Lightning Reflexes\": { name: \"Lightning Reflexes\", tier: 1, devotion: EGods.SLAANESH, description: \"When making an Initiative Roll the character may roll twice and add the highest of the two dice result to his Agility Bonus.\" },\r\n    \"Lumimen Shock\": { name: \"Lumimen Shock\", tier: 2, prerequisites: \"Luminen Capacitors, Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"By making a successful melee attack (without penalties for being unarmed), the Heretic may deal 1d10 plus his Willpower Bonus in Energy Damage with Pen 2 and the Shocking Quality.\" },\r\n    \"Luminen Blast\": { name: \"Luminen Blast\", tier: 3, prerequisites: \"Luminen Shock\", devotion: EGods.UNALIGNED, description: \"The energies charged in the Heretic’s Luminen Capacitors can be expelled in a ranged attack with a Ballistic Skill Test directing this energy against a single target within 10 metres inﬂicting 1d10 plus twice the character’s Willpower Bonus in Energy Damage with Pen 2 and the Shocking and Blast (X) Quality. X equals any value between 1 and the Heretic’s Intelligence Bonus, chosen by the Heretic at the time of ﬁring. The attack uses a Half Action to accomplish (counting as a Single Attack Action) and the character must pass a Toughness Test when he uses this ability or gain a level of Fatigue.\" },\r\n    \"Maglev Transcendence\": { name: \"Maglev Transcendence\", tier: 2, prerequisites: \"Maglev Coils/Mechanicus Impants\", devotion: EGods.UNALIGNED, description: \"He may hover for a number of minutes equal to 1d10 plus twice his Toughness bonus. He may move his Run speed when making a Half Move Action, and suffers no Damage from falling if the Coils are active. Each use expends half the power stored in the coils (therefore he may use the Coils twice before recharging them).\" },\r\n    \"Marksman\": { name: \"Marksman\", tier: 2, prerequisites: \"BS 35\", devotion: EGods.UNALIGNED, description: \"Distance is no protection against the character’s marksmanship and he suffers no penalties for Ballistic Skill Tests at long or extended range.\" },\r\n    \"Master Chirurgeon\": { name: \"Master Chirurgeon\", tier: 3, prerequisites: \"Medicae +10\", devotion: EGods.NURGLE, description: \"The character gains a +10 bonus on all Medicae Skill Tests. Any successful heal attempt (including Heavily and Critically wounded patients) by the character heals 2 additional Wounds. If his patient is in danger of losing a limb from a Critical Hit (see Chapter VII: Combat), the character provides the patient with a +20 bonus to the Toughness Test to prevent limb loss.\" },\r\n    \"Master Engineer\": { name: \"Master Engineer\", tier: 3, prerequisites: \"Tech Use +20, Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"The character gains a +10 bonus on Tech-Use Skill Tests. The Heretic may spend an Infamy Point to automatically succeed on a Tech-Use Skill Test for enhancement, repair, or upgrade of a machine’s system, taking the minimum amount of time possible on the task. In addition at the GM’s discretion the character may repair objects without all the parts at hand, jury-rigging a working device as good as the original.\" },\r\n    \"Mastery\": { name: \"Mastery\", tier: 3, prerequisites: \"Rank 4 in selected Skill\", devotion: EGods.UNALIGNED, description: \"The character may spend an Infamy Point to automatically pass a Skill Test with his chosen skill provided the ﬁnal modiﬁer to his Skill Test is 0 or greater. In addition to simply passing the test the character passes it by a number of Degrees of Success equal to the Characteristic Bonus of its associated Characteristic. This Talent may be taken more than once, each time for a different Skill.\" },\r\n    \"Mechadendrite Use\": { name: \"Mechadendrite Use\", tier: 2, prerequisites: \"Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"The character is trained in the use of a particular kind of Mechendrite (Weapon or Utility) See gear/cybernetics.\" },\r\n    \"Meditation\": { name: \"Meditation\", tier: 1, devotion: EGods.TZEENTCH, description: \"10 minutes without interruption results in a success on a Willpower Test and removes one level of Fatigue.\" },\r\n    \"Mighty Shot\": { name: \"Mighty Shot\", tier: 3, prerequisites: \"BS 40\", devotion: EGods.NURGLE, description: \"The character adds half his Ballistic Skill Bonus to Damage the character inﬂict with a ranged weapon.\" },\r\n    \"Mimic\": { name: \"Mimic\", tier: 1, devotion: EGods.SLAANESH, description: \"The character must study the voice patterns of his intended target for at least one hour for proper imitation, and speak the same language. The character cannot accurately copy the voice of a xenos due to the difference in physiology and the subtle complexities of most alien languages. Listeners must pass a Scrutiny Skill Test with a –10 penalty to penetrate the deception. If the character’s study relied on vox recordings, or comm-link conversations rather than in-person observation, then there is no penalty to the Scrutiny Skill Test to see through it. The character’s deception automatically fails if the listener can clearly see him.\" },\r\n    \"Minion of Chaos\": { name: \"Minion of Chaos\", tier: 2, prerequisites: \"Fel 45, Infamy 30\", devotion: EGods.UNALIGNED, description: \"Details on creating a Minion can be found on page 135. This talent may be taken more than once, each time adding another Minion to the character’s retinue.\" },\r\n    \"Nerves of Steel\": { name: \"Nerves of Steel\", tier: 2, devotion: EGods.NURGLE, description: \"The character may reroll failed Willpower Tests to avoid or recover from Pinning. In addition is seldom impressed by the aggressive displays of his enemies and gains a +10 to Willpower Tests when resisting the effects of enemy Intimidation Skill attempts.\" },\r\n    \"Never Die\": { name: \"Never Die\", tier: 3, prerequisites: \"WP 50, T 50\", devotion: EGods.NURGLE, description: \"The character can spend one Infamy Point to ignore the effects of injury, Fatigue, and Stunning for a single combat. This talent does not prevent the Damage, but allows the character to temporarily ignore its effects for the duration of the combat. Death still affects him normally.\" },\r\n    \"Orthoproxy\": { name: \"Orthoproxy\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character receives a +20 bonus to Willpower Tests made to resist mind control or interrogation. He tends not to get jokes, however.\" },\r\n    \"Paranoia\": { name: \"Paranoia\", tier: 2, devotion: EGods.TZEENTCH, description: \"The character gains a +2 bonus on Initiative rolls, and the GM may secretly test using the character’s Perception to notice hidden threats. The price of this eternal vigilance is a twitchy disposition and the inability to relax.\" },\r\n    \"Peer\": { name: \"Peer\", tier: 1, prerequisites: \"Fel 30\", devotion: EGods.UNALIGNED, description: \"The character knows how to deal with a particular social group or organisation. The character gains a +10 bonus to all Fellowship Tests when interacting with this chosen group and at the GM’s discretion my call upon them for favours from time to time.  In game terms, the bonus to Fellowship Tests increases to +10 times X, with X being the number of times the Talent has been awarded.\" },\r\n    \"Pity the Weak\": { name: \"Pity the Weak\", tier: 1, prerequisites: \"S 35, WP 35\", devotion: EGods.KHORNE, description: \"The character has nothing but contempt for those less powerful than himself and gains a +10 on Command, Commerce, Deception, and Intimidation Skill Tests when opposed by someone with either a Strength or Willpower Characteristic lower than themselves. Unfortunately, the character also has trouble hiding his contempt from such people and suffers a –10 to Charm Skill Tests when dealing the same people.\" },\r\n    \"Polyglot\": { name: \"Polyglot\", tier: 1, prerequisites: \"Int 40, Fel 30\", devotion: EGods.TZEENTCH, description: \"The character can make untrained Skill Tests with the Linguistics Skill even though it is a Specialist Skill. Being a Polyglot is not the same as having a true knowledge of a language, and characters must make a Linguistics Skill Test (along with the –20 modiﬁer for being untrained) to have more than the most basic conversations or exchanges of ideas.\" },\r\n    \"Precise Blow\": { name: \"Precise Blow\", tier: 2, prerequisites: \"WS 40, Sure Strike\", devotion: EGods.SLAANESH, description: \"When making a Called Shot (see page 234) melee attack, the character reduces the penalty by 10 (so a –20 becomes a –10 instead). If combined with Sure Strike, this reduces the penalty to 0.\" },\r\n    \"Preternatural Speed\": { name: \"Preternatural Speed\", tier: 3, prerequisites: \"WS 40, Ag 40\", devotion: EGods.SLAANESH, description: \"When making a Charge Move the character doubles his normal charge movement (i.e. a character with an AB of 3 has a charge movement of 9 metres, which is then doubled to 18 metres by the Preternatural Speed Talent).\" },\r\n    \"Prosanguine\": { name: \"Prosanguine\", tier: 2, prerequisites: \"Autosanguine\", devotion: EGods.NURGLE, description: \"He must spend 10 minutes in mediation and make a Tech-Use Test. If he succeeds, he heals 1d5 points of Damage plus one additional point of Damage for every two Degrees of Success. If he rolls a 96 or higher, he loses the ability to use his Black Blood implants or the Prosanguine Talent for one week.\" },\r\n    \"Psy Rating\": { name: \"Psy Rating\", tier: 3, prerequisites: \"Psyker\", devotion: EGods.UNALIGNED, description: \"Grants +1 Psy Rating to a maximum of 10\" },\r\n    \"Psychic Power\": { name: \"Psychic Power\", tier: 1, prerequisites: \"Psyker\", devotion: EGods.SPECIAL, description: \"Either through training or natural development, the character has learned an additional Psychic Power. This power must be selected from one of the powers presented in Chapter VI: Psychic Powers. The experience cost and requirements for psychic powers are not the same as other Talents (as detailed on page 77) and can instead be found in Chapter VI: Psychic Powers. Characters must have the Psyker trait to take this talent.\" },\r\n    \"Quick Draw\": { name: \"Quick Draw\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character can draw and ready a weapon as a Free Action when the character is armed with a Pistol or Basic-class ranged weapon, or a melee weapon that can be wielded in one hand.\" },\r\n    \"Radiant Presence\": { name: \"Radiant Presence\", tier: 1, prerequisites: \"Fel\", devotion: EGods.SLAANESH, description: \"Everyone within 20 metres that can see the character feels a touch of euphoria just by being near him and suffer lessened effects from things that would upset of distress them. Those affected gain a +10 to Willpower Tests to resist Fear or against Intimidation attempts. This ability affects all those close to the character indiscriminately, though not the character himself.\" },\r\n    \"Rapid Reaction\": { name: \"Rapid Reaction\", tier: 2, prerequisites: \"Ag 40\", devotion: EGods.SLAANESH, description: \"When surprised or ambushed, a successful Agility Test allows the character to act normally.\" },\r\n    \"Rapid Reload\": { name: \"Rapid Reload\", tier: 1, devotion: EGods.SLAANESH, description: \"The character halves all reload times, rounding down. Thus, Half Action reload become a Free Action, a Full Action reload becomes a Half Action and so on.\" },\r\n    \"Raptor\": { name: \"Raptor\", tier: 1, prerequisites: \"Operate (Aeronautica)\", devotion: EGods.UNALIGNED, description: \"When the character makes a Charge Action using a Jump Pack his melee attack deals an extra d10 of Damage for every two Degrees of Success he scores on his Weapon Skill Test to a maximum of two extra d10.\" },\r\n    \"Resistance\": { name: \"Resistance\", tier: 1, devotion: EGods.NURGLE, description: \"Each time the character select this talent, choose one area of resistance. The character gains a +10 bonus when making tests to resist the effects of this group. The character’s GM may wish to approve certain choices or have them justified by the character’s past.\" },\r\n    \"Sacrifice\": { name: \"Sacrifice\", tier: 2, prerequisites: \"Psy Rating\", devotion: EGods.UNALIGNED, description: \"A psyker with the Sacriﬁce Talent may ritually prepare and slay a sacriﬁcial victim (which must be a human or intelligent xenos). It takes a Forbidden Lore (Warp) Skill Test, taking 2d5 minutes to prepare and anoint a bound and helpless sacrificial victim. Once prepared, it takes a Full Round action to slay the victim. In the subsequent turn, the psyker gains a +5 bonus to his Focus Power Test for every Degree of Success scored on Forbidden Lore (Warp) Skill Test. In addition, should any Psychic Phenomena or Perils of the Warp occur, the effects are focused through the dying victim. Any effects that would normally affect the psyker instead cause the body to burn to ash in a blaze of iridescent warp-flame, dealing 1d10 Energy Damage to anyone within three metres of the victim (gaining the Warp Weapon trait and increasing the area to a ﬁve-metre radius if it was caused by Perils of the Warp).\" },\r\n    \"Sharpshooter\": { name: \"Sharpshooter\", tier: 2, prerequisites: \"BS 40, Deadeye Shot\", devotion: EGods.UNALIGNED, description: \"When making a Called Shot (see page 234), the character reduces the penalty by 10 (so a –20 becomes a –10 instead). If combined with Deadeye shot, this reduces the penalty to 0.\" },\r\n    \"Sidearm\": { name: \"Sidearm\", tier: 3, prerequisites: \"WS 40, BS 40, Two-Weapon Wielder (Ballistic, Melee)\", devotion: EGods.UNALIGNED, description: \"When armed with a pistol and melee weapon in either hand (which the character could normally use single-handedly), the character reduces the penalty for Two-Weapon Fighting by 10 (so –20 would drop to –10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Sound Constitution\": { name: \"Sound Constitution\", tier: 1, devotion: EGods.NURGLE, description: \"The character gains an additional Wound.  The character may purchase this Talent multiple times up to his Toughness Bonus.\" },\r\n    \"Sprint\": { name: \"Sprint\", tier: 3, devotion: EGods.SLAANESH, description: \"When taking a Full Move Action, the character can move an extra number of metres equal to his Agility Bonus. When taking the run action, the character may double his movement for one round. The character gains one level of Fatigue if he uses this Talent two turns in a row.\" },\r\n    \"Step Aside\": { name: \"Step Aside\", tier: 3, prerequisites: \"Ag 40, Dodge, Parry\", devotion: EGods.UNALIGNED, description: \"The character may make an additional Evasion attempt (either a dodge or a parry) once per round. In effect, this gives the character a second Reaction that may only be used for Dodge or Parry attempts, allowing two dodges, two parries or a dodge and a parry in a turn. However, the character may still only attempt a single dodge or parry against each individual attack.\" },\r\n    \"Storm of Iron\": { name: \"Storm of Iron\", tier: 2, prerequisites: \"BS 45, Weapon Training (any ranged)\", devotion: EGods.KHORNE, description: \"When the Heretic deals Damage to a Horde with a semi-auto burst, a full-auto burst, or a weapon with the Spray or Blast Qualities, the Heretic deals additional Damage to the Horde equal to half his Ballistic Skill Bonus. This additional Damage is applied once per attack, not once per hit.\" },\r\n    \"Street Fighting\": { name: \"Street Fighting\", tier: 1, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"When armed with a knife (powered, chain or otherwise), similar small weapon, or simply armed with his bare hands, he adds his Weapon Skill Bonus to any Critical Damage he inflicts.\" },\r\n    \"Strong Minded\": { name: \"Strong Minded\", tier: 2, prerequisites: \"WP 30, Resistance (Psychic Techniques)\", devotion: EGods.TZEENTCH, description: \"He may reroll failed Willpower Tests to resist any Psychic Powers that affect his mind. Psychic Powers that have a physical effect, such as Doombolt, are unaffected by this Talent.\" },\r\n    \"Sure Strike\": { name: \"Sure Strike\", tier: 1, prerequisites: \"WS 30\", devotion: EGods.SLAANESH, description: \"When making a Called Shot (see page 234) melee attack, the character reduces the penalty by 10 (so a – 20 becomes a –10 instead).\" },\r\n    \"Swift Attack\": { name: \"Swift Attack\", tier: 2, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"When a character makes a melee attack, he scores one hit on the initial Degree of Success on his Weapon Skill Test, plus one additional hit for every two additional Degrees of Success. Additional hits are counted as separate hits for all intents and purposes, roll their Damage separately and are reduced by Armour and Toughness as normal. Additional hits are made against the same body location as the original hit. When using Dodge or Parry against a Swift Attack then each Degree of Success scored with a Dodge or Parry Skill Test negates one hit from the Swift Attack. If a character is fi ghting with a weapon in either hand or benefits from a Talent or Power which allows him to make more than one attack in his turn only one of his attacks may be a Lightning Attack and have the chance of scoring additional hits. Melee weapons with the Unwieldy Special Quality cannot be used to make Lightning Attacks\" },\r\n    \"Takedown\": { name: \"Takedown\", tier: 1, devotion: EGods.UNALIGNED, description: \"As a Half Action or when making a Charge Attack the character may declare that he is attempting a takedown against an opponent in melee combat. He then roll to hit (using his Weapon Skill) as normal; using any modiﬁers for weapons and talents (or the +20 bonus from Charging). If the character hits and would have done at least one point of Damage (after reduction for Armour and Toughness) it is ignored, but the character’s opponent must make a Challenging (+0) Toughness Test or be stunned for 1 round and knocked prone. In addition, when performing a Stun Action, the character does not suffer a –20 penalty to his Weapon Skill.\" },\r\n    \"Target Selection\": { name: \"Target Selection\", tier: 3, prerequisites: \"BS 30\", devotion: EGods.UNALIGNED, description: \"The character may shoot into melee with no penalty. If he aims beforehand, he can avoid any chance of hitting friendly targets.\" },\r\n    \"Technical Knock\": { name: \"Technical Knock\", tier: 1, prerequisites: \"Int 30\", devotion: EGods.UNALIGNED, description: \"The character may un-jam any gun as a Half Action, but may only use this talent on one weapon per round. The character must touch the weapon (often quickly and violently) to make this talent work.\" },\r\n    \"Thunder Charge\": { name: \"Thunder Charge\", tier: 3, prerequisites: \"S 50\", devotion: EGods.KHORNE, description: \"When the character makes a Charge Action he can barrel through foes to get to his target. Make an Opposed Strength Test between the character and each foe in his way (i.e., each foe his charge would take him past or through). Those that fail are knocked to the ground. Once the character has tested to knock down those in his way, he may complete his Charge and make his attacks against his intended target.\" },\r\n    \"Total Recall\": { name: \"Total Recall\", tier: 1, prerequisites: \"Int 30\", devotion: EGods.TZEENTCH, description: \"The character can automatically remember trivial facts or pieces of information the character might feasibly have picked up in the past. When dealing with more detailed, complex or obscure facts, such as the exact layout of a defence network, the GM may require a successful Intelligence Test to recall the information.\" },\r\n    \"True Grit\": { name: \"True Grit\", tier: 3, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"Whenever the character suffers Critical Damage (after reduction for Armour and Toughness) reduce the amount by his Toughness Bonus (to a minimum of 1).\" },\r\n    \"Two-Weapon Wielder\": { name: \"Two-Weapon Wielder\", tier: 2, devotion: EGods.UNALIGNED, description: \"Allows the character to use a weapon in each hand. This allow the character to attack twice in a round, once from each weapon. Both tests suffer a -20 penalty. Taken once for melee or range weapons. If both types are acquired he may fight with ine melee and one ranged weapon. \" },\r\n    \"Unarmed Master\": { name: \"Unarmed Master\", tier: 2, prerequisites: \"WS 45, Ag 40, Unarmed Warrior\", devotion: EGods.KHORNE, description: \"He counts as having the Deadly Natural Weapon Trait.\" },\r\n    \"Unarmed Warrior\": { name: \"Unarmed Warrior\", tier: 1, prerequisites: \"WS 35, Ag 35\", devotion: EGods.KHORNE, description: \"Due to extensive training in techniques of unarmed combat the character has gained the Natural Weapon Trait (see page 142) improving all his unarmed attacks from 1d5-3 to 1d10 Primitive (7) and meaning he counts as armed even when facing opponents with weapons while bare handed.\" },\r\n    \"Unholy Devotion\": { name: \"Unholy Devotion\", tier: 3, prerequisites: \"Minion of Chaos\", devotion: EGods.UNALIGNED, description: \"The character’s Minions are fanatically devoted to him and would gladly die in his name. Whenever the character would be hit by a ranged attack he can make an Agility Test for any of his Minions which are no further away from him than his Agility Bonus in metres. If he passes the test then they suffer the hit instead as they have thrown themselves in front of their master, and all the hits effects are worked out against the Minion.\" },\r\n    \"Unremarkable\": { name: \"Unremarkable\", tier: 1, devotion: EGods.SLAANESH, description: \"Any attempts to recall the character’s face or spot him in a crowd suffer a –20 penalty. In addition the character gains a +20 when using the Deceive Skill to either convince someone he has never seen or met him before or if he is trying to appear harmless and ordinary. Naturally this Talent doesn’t work if the character wears distinctive clothes or armour, or carries unique weaponry—a Chaos Space Marine hiding in a crowd of Imperial citizens is pretty easy to spot, especially since they are probably running screaming in all directions…\" },\r\n    \"Unshakable Will\": { name: \"Unshakable Will\", tier: 2, prerequisites: \"WP 35\", devotion: EGods.NURGLE, description: \"The character may reroll any failed Willpower Tests to avoid the effects of Fear.\" },\r\n    \"War Cry\": { name: \"War Cry\", tier: 3, prerequisites: \"S 50, WP 50, Disturbing Voice\", devotion: EGods.NURGLE, description: \"The character may declare at the start of any of his turns that he is making a war cry as a Free Action. All creatures within a 50-metre radius treat the character as if he had a Fear Rating of 1 provided they can hear him (though they do not need to be able to see him) until the start of his next turn. While screaming his bloodcurdling war cry, the character may not communicate in any other way. Making a war cry is taxing however and at the end of any encounter in which it is used (even if only for a single turn) the character suffers a level of Fatigue.\" },\r\n    \"Warp Conduit\": { name: \"Warp Conduit\", tier: 2, prerequisites: \"Psy Rating, Strong Minded, WP 50\", devotion: EGods.TZEENTCH, description: \"When Pushing (see page 207), the character may spend one Infamy Point to add 1d5 to his Psy Rating. Channelling such vast amounts of power is dangerous, however, and he must add +30 to any resultant Psychic Phenomenon rolls.\" },\r\n    \"Warp Lock\": { name: \"Warp Lock\", tier: 3, prerequisites: \"Psy Rating, Strong Minded, WP 50\", devotion: EGods.TZEENTCH, description: \"Once per game session the character may ignore a Psychic Phenomenon result he has rolled (including a result which would indicate rolling on the Perils of the Warp Table) completely negating its effects. Such rapid dislocation from the warp is stressful and traumatic to the character’s mind, however, and he suffers 1d5 Damage (not reduced by armour or Toughness) as a result, and may not make any Focus Power Tests or sustain other Psychic Powers until the beginning of his next Turn.\" },\r\n    \"Warp Sense\": { name: \"Warp Sense\", tier: 1, prerequisites: \"Psy Rating, Psyniscience, Per 30\", devotion: EGods.TZEENTCH, description: \"After gaining this talent, using the Psyniscience Skill requires a Free Action instead of a Half Action. In addition, the character can passively detect psychic effects and entities without the need to actively seek them out. Whenever the character could detect such warp signature or creature the GM may allow him to make a Psyniscience Skill Test to detect it, in the same way he might use Awareness to spot an ambush without knowing it is there.\" },\r\n    \"Weapon Training\": { name: \"Weapon Training\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character can use all weapons with Class: Pistol, Basic, Heavy, Throwing, and Melee within the group he has selected with this talent. When a character attempts to use a weapon he does not have the correct Weapon Training Talent for, he suffers a –20 penalty to any relevant Weapon Skill or Ballistic Skill Test. This talent may be taken more than once, each time with a different specialisation.\" },\r\n    \"Weapon Tech\": { name: \"Weapon Tech\", tier: 1, prerequisites: \"Tech Use +10, Int 40\", devotion: EGods.UNALIGNED, description: \"Once per combat, the character can enhance his weapon increasing it ﬁrepower and deadliness. For one Round per combat Encounter, a weapon personally wielded by the character from the Melta, Plasma, Power, or Exotic category increases its Damage and Penetration by an amount equal to his Intelligence Bonus.\" },\r\n    \"Whirlwind of Death\": { name: \"Whirlwind of Death\", tier: 2, prerequisites: \"WS 40\", devotion: EGods.UNALIGNED, description: \"When attacking a Horde, the character deals additional Magnitude damage equal to half his Weapon Skill Bonus.\" },\r\n    \"Wisdom of the Ancients\": { name: \"Wisdom of the Ancients\", tier: 2, prerequisites: \"Int 40\", devotion: EGods.TZEENTCH, description: \"The character may spend an Infamy Point to get insight on a situation and ask the GM a question (which he should answer as helpfully as possible) about the immediate situation which his character faces. The question can be anything the character might legitimately know from stories he has heard or his own experience. For example, when raiding an Imperial cruiser the question might be “where are the Navigator’s quarters.”\" },\r\n\r\n    // TRAITS\r\n    \"Amphibious\": {name: \"Amphibious\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature can breathe water as well as air and can stay underwater indefi nitely without the need to surface. If this trait is taken by a creature with the ability to breathe a substance other than air (i.e. water, ammonia, carbon-dioxide etc) then it can breathe air as well as its native atmosphere.\"},\r\n    \"Amorphous\": {name: \"Amorphous\", tier: 0, devotion: EGods.UNALIGNED, description: \"An amorphous creature which has a malleable form, capable of squeezing its body or expanding it. It can change size by one-step in either direction, though doing so does not change its speed. Creatures with this trait determine their movement rates using one-half their Agility Bonus rounded up. Amorphous creatures are often missing senses and so rely on the Unnatural Senses Trait to perceive their surroundings.\"},\r\n    \"Auto-Stabilised\": {name: \"Auto-Stabilised\", devotion: EGods.UNALIGNED, tier: 0, description: \"The creature always counts as braced when firing heavy weapons and therefore may fire a ranged weapon on full or semi-automatic without taking the Brace action first without suffering any penalties to hit.\"},\r\n    \"Bestial\": {name: \"Bestial\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait is animalistic, tending to behave instinctively rather than rationally. No matter how high its Intelligence score is, it is still bestial. A creature with this trait never needs to make a Survival Skill Test whilst in its natural habitat. Unless starving or desperate, a bestial creature must make a Willpower Test when frightened, startled or injured. On a failed test, the creature flees.\"},\r\n    \"Blind\": {name: \"Blind\", tier: 0, devotion: EGods.UNALIGNED, description: \"Blind creatures automatically fail all tests based on vision and automatically fail all Ballistic Skill Tests. Such creatures take a –30 penalty to Weapon Skill Tests and most other tests that ordinarily involve or are benefited by vision. Note that this Trait indicates not only that the creature cannot see but that it also has no other senses which would provide the same benefit as eyes. The Blind Fighting Talent reduces the penalties to Weapon Skill Tests as normal for Blind creatures, reducing it from –30 to –15.\"},\r\n    \"Brutal Charge\": {name: \"Brutal Charge\", devotion: EGods.UNALIGNED, tier: 0, description: \"A creature with this trait deals an extra (X) points of damage per attack when it charges in the same round.\"},\r\n    \"Burrower\": {name: \"Burrower\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait can move through solid objects by burrowing through them. The number in parenthesis (X) indicates its speed when burrowing. Such creatures can burrow through soil, rock, sand, and so on, though some (expressed in the creature entry) can burrow through metal. When a creature burrows, it leaves behind a tunnel. Creatures of one-size smaller than the creature that created the tunnel can enter these areas without impediment. There’s a 50% chance each round that the tunnel collapses behind the creature.\"},\r\n    \"Crawler\": {name: \"Crawler\", tier: 0, devotion: EGods.UNALIGNED, description: \"Worms, serpents, and similar creatures crawl and slither rather than walk. The base move for a creature with this trait is half their normal movement rate (round up) as determined by their Agility Bonus, but they do not take penalties for moving over difficult terrain.\"},\r\n    \"Daemonic\": {name: \"Daemonic\", tier: 0, devotion: EGods.UNALIGNED, description: \"Daemonic creatures are creatures of the warp, but can manifest in real space either through sheer strength of will, hunger, or occult rituals. Creatures with this trait increase their Toughness Bonus against all Damage by the number indicated in the parenthesis (X) in the same manner as an Unnatural Characteristic (see Unnatural Characteristics trait on page 144). The effects of this trait stack with the effects of the Unnatural Characteristic trait. This increase is negated by Damage inflicted by force weapons, psychic powers, holy attacks, or other creatures with this trait. Daemonic creatures are also immune to poison and disease. Creatures with the Daemonic trait also gain benefits when using Psychic Powers as detailed in Chapter VI: The Powers of the Warp.\"},\r\n    \"Dark-Sight\": {name: \"Dark-Sight\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait sees normally even in areas of total darkness, and never takes a penalty for fighting in areas of dim or no lighting.\"},\r\n    \"Fear\": {name: \"Fear\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait has an unnerving appearance. The fear of it always has an associated rating (1–4) to reflect just how awful the creature is to behold and is indicated by the number in parenthesis (X). The higher the Fear Rating the harder it is for others to resist going encounter, as shown on Table 4-7: Fear Ratings. When a character encounters a creature with this Trait, they must make a Willpower Test, modified by the severity of the creature’s trait. On a success, the character may act as normal. On a failure, the character must roll on Table 8-4: Shock (see page 277), adding +10 to the roll for every Degree of Failure by which the Willpower Test was failed.\"},\r\n    \"Flyer\": {name: \"Flyer\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait has the natural ability to fly, whether with broad leathery wings, strange Warp energies, or inflatable gas sacs. The number in parenthesis (X) indicates its speed when flying. This number replaces the creature’s Agility Bonus for movement Actions. For more details on flying, see Chapter I: Playing the Game.\"},\r\n    \"From Beyond\": {name: \"From Beyond\", devotion: EGods.UNALIGNED, tier: 0, description: \"The mind of a creature with this trait is beyond the petty frailties and precarious sanity of a mortal mind. It is immune to Fear, Pinning, Insanity Points, and psychic powers used to cloud, control, or delude its minds.\"},\r\n    \"Deadly Natural Weapons\": {name: \"Deadly Natural Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature’s natural attacks are powerful enough to crush plasteel or punch through armour. The creature gains all the benefits of the Natural Weapons Trait, except that its attacks no longer have the Primitive Special Quality.\"},\r\n    \"Hoverer\": {name: \"Hoverer\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait have a limited capability for flight, flying no higher than two metres. The number in parenthesis (X) indicates its speed when hovering. This number replaces its Agility Bonus for purposes of calculating Movement. For more details on flying, see Chapter I: Playing the Game.\"},\r\n    \"Incorporeal\": {name: \"Incorporeal\", tier: 0, devotion: EGods.UNALIGNED, description: \"Incorporeal creatures are insubstantial and weightless, able to pass through solid objects such as walls and weapons. An incorporeal creature gains a +30 bonus on Stealth Tests due to their ability to merge with objects and the fact they make practically no sounds when they move. Incorporeal creatures gain the Hoverer (6) trait. An incorporeal creature is also immune to normal weapons—they simply pass through its body as if it wasn’t there. Daemons, psychic powers, warp creatures, other incorporeal creatures, and opponents armed with force weapons may all injure an incorporeal creature normally. An incorporeal creature can’t normally affect the mortal world, and thus can’t Damage non-incorporeal opponents unless it has a suitable special ability or Talent. Creatures with the Incorporeal trait can Damage other creatures with the Incorporeal trait normally. Certain devices can keep an incorporeal creature at bay, most notably the Gellar Field of a spaceship. Creatures with this trait cannot pass through such a field.\"},\r\n    \"Machine\": {name: \"Machine\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with the Machine trait is fashioned from inorganic materials and is generally more rigorous then fleshy folks. Machines do not breathe, are immune to the effects of a vacuum, extremes of cold, any mind-influencing psychic effect, and their Armour Points apply toward fire Damage. Machines have a certain number of Armour Points (indicated by the number in parentheses). This armour stacks with worn armour, but not with the Natural Armour Trait.\"},\r\n    \"Multiple Arms\": {name: \"Multiple Arms\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has more than one pair of arms. The exact number of arms is indicated in parenthesis (X), so a Genestealer with Multiple Arms (4) has four arms total. It gains a +10 bonus on Athletics Tests involving climbing and swimming. In addition, for each pair of arms it has—the Multiple Arms value divided by 2—it may make an additional attack as if wielding multiple melee weapons (the creature must either have natural weapons or actual melee weapons to wield for this to take effect). Note, that a creature still requires Two Weapon Wielder (Melee) to make multiple attacks in the same turn.\"},\r\n    \"Natural Armor\": {name: \"Natural Armor\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has a naturally tough hide or an exoskeleton, affording it some protection against attacks. The number in parenthesis (X) indicates how many Armour Points the creature gains to all locations. This trait does not stack with armour. This armour stacks with worn armour, but not with the Machine Trait.\"},\r\n    \"Natural Weapons\": {name: \"Natural Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has sharp claws, teeth, spines or some other natural weapon with which it can slice and dice its foes. It counts as being armed even when not wielding weapons. Its attacks deal 1d10 points of Damage plus its Strength Bonus. The creature may make attacks with its Natural Weapons using its Weapon Skill, though it cannot parry with its natural weapons, nor can it be disarmed—unless, of course its limbs are hacked off ! (In general, creatures with Natural Weapons are immune to the Power Field quality, as it’s assumed they have enough teeth, claws, or spines to ignore a few being removed.) Natural weapons have the Primitive (7) Special Quality, unless stated otherwise in the profile.\"},\r\n    \"Phase\": {name: \"Phase\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait can transform its body into an insubstantial state, passing ghost-like through solid objects or barriers of any sort. This trait functions exactly like the Incorporeal trait, except the creature may become solid or insubstantial by spending a Half Action. Phase carries additional limitations. A creature in a phased state cannot cross psychically charged barriers, holy wards, or energy fields designed to flux space or manipulate the warp, such as a Gellar Field or a Void Shield.\"},\r\n    \"Psyker\": {name: \"Psyker\", tier: 0, devotion: EGods.UNALIGNED, description: \"Whether due to unnatural influences, the study of forbidden lore, or simply sheer force of will, this individual is a Psyker, and can bend the Immaterium to his will. Though this Trait has no benefits on its own, it allows characters to purchase the Psyniscience Skill and the Psy Rating and Psychic Power Talents.\"},\r\n    \"Possession\": {name: \"Possession\", tier: 0, devotion: EGods.UNALIGNED, description: \"Certain spirit-beings and denizens of the warp have the ability to possess mortal bodies. This is a far more insidious and damaging process than most forms of mental control, or even the power of the strongest psykers to “wear” the bodies of others, as the very fabric of the assaulting warp being is merged with the victim’s living body on a fundamental level so as to allow it to remain in our reality. The mechanisms by which these possessions occur in the game are detailed below, although circumstance and the nature of the entity itself may vary. Note that Daemonhosts, being extraordinary powerful examples of deliberate, ritualistic possessions, designed to bind and control daemons in living vessels, are a special case and dealt with separately.\"},\r\n    \"Quadruped\": {name: \"Quadruped\", tier: 0, devotion: EGods.UNALIGNED, description: \"Quadrupeds are much quicker over a distance than their bipedal counterparts. There movement is double that normally indicated by their Agility Bonus (see page 39). This trait is intended to cover creatures with hind legs and forepaws. Creatures with more than four legs may gain this Trait as well increasing their movement as indicated above but adding an addition 2 to their final movement rate (after doubling) for each set of legs beyond the first two (i.e. +2 for 6 legs, +4 for 8 legs etc).\"},\r\n    \"Regeneration\": {name: \"Regeneration\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait heal very quickly. Each round, at the start of its turn, the creature makes a Toughness Test to removes an amount of Damage indicated in the parenthesis after the trait. It loses this trait when slain.\"},\r\n    \"Size\": {name: \"Size\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures come in one of ten different size categories, as shown on Table 4-8: Size. Size affects movement, how well the creature can hide and move undetected and how easy or hard it is to strike in combat. When calculating movement, apply the size modifier first, and then other modifiers from other Traits or Talents (such as Quadruped). For the purposes of comparison, a human is a Size (4) creature. Note, a creature’s movement cannot be reduced to less than 1.\"},\r\n    \"Sonar Sense\": {name: \"Sonar Sense\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait perceives its surroundings by emitting a frequency noise, allowing the creature to locate the position of any solid object within 30 metres. Other creatures within this 30 metre range, and that succeed on an Awareness Skill Test at -10, may detect the curious keening.\"},\r\n    \"Soul Bound\": {name: \"Soul Bound\", tier: 0, devotion: EGods.UNALIGNED, description: \"The soul of this creature is bound to a higher power or being, in return for a measure of protection. When this Trait is fi rst gained, the entity to which the soul is bound must be decided. Many Imperial psykers, especially Astropaths, are soul-bound to the Emperor, for example, whereas Chaos Sorcerers may be bound to one of the Ruinous Powers. A soul-bound psyker rolls an additional die when forced to roll on the Perils of the Warp table, discarding whichever one he chooses to get a more favourable result. (Essentially, he may replace either the ones die or the tens die with the extra die he rolls) Upon becoming soul-bound, a character must choose one of the following effects: 1d10 Insanity Points (this does not apply to Heretics, as they do not suffer Insanity), the permanent loss of their sight, permanent loss of 1d10 from one Characteristic, or a random mutation. In addition, a soul-bound character is permanently indebted to the entity, which undoubtedly entails all manner of other duties and consequences.\"},\r\n    \"Stampede\": {name: \"Stampede\", tier: 0, devotion: EGods.UNALIGNED, description: \"Whenever a creature with this trait fails a Willpower Test, it automatically stampedes, charging in a straight line forwards as far as possible, overrunning anything in its path until the source of danger has escaped or is crushed under hoof, taking Damage equal to the creature’s Natural Weapon Damage (or 1d5+SB I if it doesn’t have one). One stampeding creature automatically causes all other creatures within sight to stampede. The stampede lasts until the source of danger is no longer visible or for 1d10 minutes, whichever occurs last.\"},\r\n    \"Strange Physiology\": {name: \"Strange Physiology\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this Trait has an unusual, alien, or altogether bizarre anatomy. All hits count as Body hits and death results when damage equals or exceeds the creature’s Wounds.\"},\r\n    \"Sturdy\": {name: \"Sturdy\", tier: 0, devotion: EGods.UNALIGNED, description: \"Sturdy creatures are hard to move and thus gain a +20 bonus to tests made to resist grappling and uses of the Takedown Talent.\"},\r\n    \"Swarm\": {name: \"Swarm\", tier: 0, devotion: EGods.UNALIGNED, description: \"Too small to do much on their own, swarms overwhelm their opponents via sheer weight of numbers. A swarm is often a mass of Miniscule or Puny creatures. Any attack from a weapon that does not either have the Blast, Flame, Spray, or Scatter Qualities only inflicts half Damage. In most circumstances, a swarm creature cannot be Grappled, Knocked Down, or Pinned, and the swarm may “pour” through suitable small openings such as ducts, vents, and the like, but they may not Jump. The swarm is counted as being destroyed once all its Wounds are lost. The swarm’s attacks have a variable Penetration value (roll each time an attack lands), representing its ability to engulf their victims and attack vulnerable areas.\"},\r\n    \"The Stuff of Nightmares\": {name: \"The Stuff Of Nightmares\", tier: 0, devotion: EGods.UNALIGNED, description: \"Some warp entities are so terribly powerful the will perpetuating their bodies in our reality is almost impossible to break or disrupt. Such entities are completely immune to the effects of poisons, diseases, the need to breathe, most environmental hazards, bleeding, stunning. They also ignore any critical result other than one that would destroy them outright, unless it was caused by a psychic power, force weapon, or holy attack.\"},\r\n    \"Touched by the Fates\": {name: \"Touched by the Fates\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature or NPC has a number of Fate Points shown in parenthesis (X). It may use these Fate Points in exactly the same way as Player Characters and may even ‘burn’ a Fate Point to survive death and destruction at the GM’s discretion. The rules for Zealous Hatred also apply to this creature or NPC.\"},\r\n    \"Toxic\": {name: \"Toxic\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait is poisonous Some weapons rely on toxins and poisons to do their damage. Anyone that successfully deals damage to a Toxic creature must make a Toughness Test with a penalty equal to 10 times the number in parenthesis (X) or suffer 1d10 points of Damage (of the same type as the weapon which inflicted the hit) not reduced by armour or Toughness. For example a creature with Toxic (4) would impose a –40 on Toughness Tests. Some creatures may carry additional effects with their toxins or inflict more Damage as indicated in their individual descriptions.\"},\r\n    \"Undying\": {name: \"Undying\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has a strange and ill understood physiology. It cannot be harmed by diseases, poisons, or toxic effects. It has no need to breathe and can survive unaided in a vacuum.\"},\r\n    \"Unnatural Characteristic\": {name: \"Unnatural Characteristic\", tier: 0, devotion: EGods.UNALIGNED, description: \"One or more of the creature’s Characteristics is unnatural. This is indicated by a number which is then added directly to the creature’s Characteristic Bonus. For example, a creature with a Strength of 41 normally has a 4 Strength Bonus. If the creature had Unnatural Characteristic Strength (3) then its Strength Bonus increases to 7 (4+3). A creature may have this Trait more than once. Each time, it is applied to a new Characteristic. In addition, whenever someone with an Unnatural Characteristic succeeds on a Test utilizing that Characteristic, they gain a number of bonus Degrees of Success equal to half of their Unnatural Characteristic.\"},\r\n    \"Unnatural Senses\": {name: \"Unnatural Senses\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature can perceive its surroundings using senses other than sight or hearing, using special organs, fine hairs, or some other disturbing trait to make itself aware of what’s around it. This trait always includes a range in metres indicated by the number in parenthesis (X)\"},\r\n    \"Warp Instability\": {name: \"Warp Instability\", tier: 0, devotion: EGods.UNALIGNED, description: \"Most warp-entities have a tenuous hold on our reality, often maintained only by horror and bloodshed, and may be disrupted if sufficient harm can be done to their manifested forms. If a creature with this trait takes Damage and does not deal Damage or Insanity Points on other creatures by the end of its next turn, it must make a Willpower Test. The creature takes 1d5 Damage for failure, plus 1 Damage for each Degree of Failure. This Damage cannot be prevented by any means including armour and Toughness. If this would deal Damage equal to or in excess of the creature’s Wounds, it is cast back into the warp.\"},\r\n    \"Warp Weapons\": {name: \"Warp Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait have weapons that are partially insubstantial, able to ignore such mundane things as armour or cover. Natural weapons and attacks made by a creature with this trait ignore physical armour unless it is created from psychoactive materials or is somehow warded against the warp. Force fields still work against these attacks normally\"},\r\n\r\n    // GIFT OF THE GODS\r\n    \"Addiction\": {name: \"Addiction\", tier: -1, devotion: EGods.SPECIAL, description: \"Exposure to the raw stuff of Chaos twists and alters the character’s\\nbrain chemistry to such an extent that he develops an all-consuming\\naddiction to one particular substance. The object of the addiction\\ncan be almost anything, from the last thing he ate to something he\\nhas never even heard of, so fi ckle are the effects of the warp.\\nThe GM should choose a substance for the character to\\nbe addicted to (the more bizarre the better!). During any\\nEncounter in which the character does not feed his addiction\\nhe suffers –10 to all Skill Tests until he does so. With the GM’s\\nconsent, the addiction can be slaked before the Encounter\\nbegins, but this should not be abused.\"},\r\n    \"Additional Limb\": {name: \"Additional Limb\", tier: -1, devotion: EGods.SPECIAL, description: \"The growth of additional limbs is common amongst those\\nwho seek to wield the power of Chaos as a weapon, and such\\na gift allows the character to fi ght more effectively and carry\\nmore weapons. Some notable renegades receive the gift several\\ntimes over, taking on the appearance of some multi-armed or\\nmany-legged spider god able to wield a small arsenal of guns\\nor use their limbs to climb otherwise unscaleable heights.\\nThe character gains the Multiple Arms Trait, with a value equal\\nto the number of limbs he started out with, plus one for each time\\nthis gift is applied. He may choose what type it is and whether\\nit has a hand, claw, or other appendage attached. Roll on Table\\n9-2: Limb Table to determine where the limb is located.\\nKhorne: The limb is bristling with bony spikes. Any unarmed\\nattacks made using the limb have the Tearing Quality.\\nSlaanesh: The limb is unnaturally lithe and dextrous. Any\\nunarmed attacks made using the limb are carried out at +10\\nto the character’s Weapon Skill.\\nNurgle: The limb oozes necrotic slime and terminates in\\na drooling orifi ce. Any unarmed attacks made with the limb\\nhas the Toxic (1) Quality.\\nTzeentch: The limb writhes and darts in an unpredictable\\nmanner, granting the character the Disarm Talent, which he\\nmay use as a Free Action so long as he is making an unarmed\\nattack using the limb.\"},\r\n    \"Animal Hybrid\": {name: \"Animal Hybrid\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s body is fused with that of a beast, creating a\\nbizarre hybrid combining the most lethal qualities of both. Far\\nmore than a cosmetic mutation, the character’s very essence takes\\non something of that of the animal it merges with, altering his\\nthought patterns to something other than a human’s. However,\\nhis abilities to think and reason are largely unaffected, unlike\\nthose unfortunates who suffer the Bestial Gift.\\nUnless the character is dedicated to a Chaos Power, roll\\non Table 9-4 to determine what type of animal the character\\nfuses with. The character should be played in such a manner\\nas to play up the characteristics of the creature, and the GM\\nshould award additional Experience Points to reflect this.\\nKhorne: The character takes on the characteristics of a\\nferal bull, his face elongating to accommodate great horns\\nand his skin growing a leathery texture.\\nSlaanesh: The character’s features become disturbingly\\nsnakelike, his tongue becomes long and sinuous, and his skin\\nbecomes smooth and hard.\\nNurgle: The character’s features begin to resemble those\\nof a slug, his mouth becomes lamprey-like, and his skin\\noozes foul slime.\\nTzeentch: The character’s body becomes bird-like, his\\nlegs becoming back-jointed while his jaw and nose fuse and\\nstretch to become a sharp beak.\"},\r\n    \"Bestial God\": {name: \"Bestial God\", tier: -1, devotion: EGods.SPECIAL, description: \"While the character does not completely mutate into a beast,\\nhe adopts the physical appearances and mannerisms of a\\ncertain type of animal. Unfortunately, while he is still capable\\nof intelligent thought, his bestial mannerisms make it more\\ndifficult.\\nPermanently reduce the character’s Intelligence by\\n1d10+5 and his Willpower by 1d10+5. However, increase\\nhis Strength by 1d5+1. Additionally, roll on Table 9-4 to\\ndetermine exactly what animal’s traits the character’s adopted,\\nas the character will undergo cosmetic changes (scales, fur, or\\na forked tongue) from the mutation as well\"},\r\n    \"Blood Substitution\": {name: \"Blood Substitution\", tier: -1, devotion: EGods.SPECIAL, description: \"Something other than blood pumps through the character’s veins,\\nthough the exact substance is dependent upon his own character\\nor that of his patron. Ordinarily, the exact nature of the blood\\nsubstitution has little relevance and may even be unknown to\\nthe character until he is wounded. When that happens, the warptinged fluid spews forth, forming a weapon in its own right.\\nShould the character ever be wounded and suffer Damage that\\nleads to Blood Loss (see page 257), one randomly determined\\ncharacter within 1 metre immediately takes 1d10 Impact Damage\\nunless he can pass a Difficult (–10) Agility Test.\\nKhorne: Lava courses through the character’s veins. The\\nDamage described above has the Flame Quality.\\nSlaanesh: The substance in the character’s veins is highly\\ncorrosive. The Damage described above has the Tearing Quality.\\nNurgle: Ravening maggots spill from the wound. The\\nDamage described above has the Toxic Quality.\\nTzeentch: Upon being wounded, the character’s body\\nemits a wave of warp energy. The Agility Test to avoid the\\ndamage is Hard (–20)\"},\r\n    \"Blasted Senses\": {name: \"Blasted Senses\", tier: -1, devotion: EGods.SPECIAL, description: \"The raw power of Chaos blasts the character’s senses—\\nburning out nerve endings and searing the brain’s ability to\\ntranslate what his perceptions are trying to tell it.\\nThe character is unable to use one randomly determined\\nsense from the following list (sight, hearing, smell, or touch),\\nwith all the penalties that may apply. However, his body\\ndoes compensate slightly for this deformity and he gains\\nthe Heightened Senses Trait for one different, randomly\\ndetermined, sense. At the GM’s discretion, the character can\\nobtain cybernetic augmentation to partially overcome a loss of\\nsight or hearing, although even then the character still suffers\\na –10 penalty to all Awareness Tests made with that sense.\"},\r\n    \"Blessed Fits\": {name: \"Blessed Fits\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is prone to bouts of severe seizures—shaking\\nuncontrollably, frothing at the mouth, and thrashing about\\nwildly. Many consider these fi ts to be special gifts from the\\ngods, during which the afflicted is experiencing intimate\\ncommunion with the Ruinous Powers.\\nShould the character ever declare that he is using an\\nInfamy Point to reroll a failed Test and then fail on the reroll,\\nhe is struck by a seizure and Stunned for 1d10 Rounds. When\\nhe awakens, however, he does not count as having used the\\nInfamy Point.\"},\r\n    \"Boneless\": {name: \"Boneless\", tier: -1, devotion: EGods.SPECIAL, description: \"Some of the character’s bone tissue dissolves into his blood\\nstream, weakening him while at the same time making his\\nbody more flexible. There are those who may be disgusted\\nwith his constantly shifting features.\\nThe character permanently loses 1d10+10 Strength, but\\ngains 1d5+2 Agility\"},\r\n    \"Burning Body\": {name: \"Burning Body\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s body is wreathed in empyreal flames. While\\nhis own body is unaffected, others who approach too close\\nmay be burned or consumed entirely.\\nThe character’s body is constantly aflame and may damage\\nhis surroundings, betray his presence, and the like, as determined\\nby the GM. In addition, any enemy landing a blow on him with\\ntheir bare hands or attempting to grapple with him must pass\\na Challenging (+0) Agility Test or immediately take 1d10 E\\nDamage. In addition, the character always has a light.\\nKhorne: The flames in which the character is wreathed\\nare those of Khorne’s forges. They inflict 2d10 Damage, but\\nmake it all but impossible for the character to hide in any way\\n(as is appropriate for a champion of the Lord of Battles!).\\nSlaanesh: Slaanesh has gifted the character with a wreath\\nof invisible flames. They will not betray the character’s\\npresence, and unless an enemy is forewarned or has a special\\nability, he will not know of them until it is too late. In\\naddition, the flames no longer count as a light source.\\nNurgle: Corpse-gas flames release a choking scent. Instead\\nof their normal effects, all living creatures in melee with the\\nHeretic must pass an Ordinary (+10) Toughness Test or\\ntake 1d5 Toughness Damage.\\nTzeentch: Writhing multi-hued flames scar the soul as well\\nas the body. In addition to the regular effects, enemies who take\\nDamage from this ability also receive 1 Corruption Point.\"},\r\n    \"Centauroid\": {name: \"Centauroid\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s entire lower body has been replaced with\\nthat of a hoofed quadruped, creating a bizarre, centauroid\\nform. In many cases the beast in question is entirely random,\\nand may be drawn from some alien world never before\\nwitnessed by man. In other cases, the creature is one that\\nstrikes terror into the hearts of all who face it, or that grants\\nsome special ability drawn from its very nature.\\nThe character gains the Quadruped Trait, and his body\\nfrom the waist down is replaced by that of an animal\\ndetermined by rolling on Table 9-4.\\nKhorne: The body with which the character is fused has\\nskin as hard as brass, granting him an additional +2 Armour\\nPoints to attacks that strike his legs.\\nSlaanesh: The animal’s body is especially lithe and agile,\\ngranting him +10 to all Acrobatics Skill Tests.\\nNurgle: The skin of the animal’s body oozes with necrotic\\nslime, increasing his movement by a further +2.\\nTzeentch: The animal’s feet are replaced with splayed\\nsuckers, granting the character the Sturdy Trait.\"},\r\n    \"Chaos Organ\": {name: \"Chaos Organ\", tier: -1, devotion: EGods.SPECIAL, description: \"This gift confers upon the character an organ or appendage\\nnormally only found attached to a daemon of one of the\\nRuinous Powers. Such a gift is sure to be regarded with awe\\nby other mortals, who will regard it as a sure sign of the\\ncharacter’s favour in the eyes of his otherworldly patrons.\\nThe character gains some aspect of one of the many daemons\\nof Chaos. This could take the form of unnatural eyes burning\\nwith daemonic fi re, long grasping talons replacing hands, cloven\\nhooves, or other, more insidious mutations. The Heretic may\\nselect one of the following Traits: Natural Weapons, Heightened\\nSenses (any one), or Unnatural Characteristic (+1) (any one). He\\nand the GM then determine what daemonic organ contributed\\nthis Trait—a Bloodletter’s eyes, a Flesh Hound’s nose, the\\nrending claws of a Horror, or something altogether stranger.\\nKhorne: The character sprouts a set of horns resembling those\\nof a Bloodletter. The character gains the Furious Assault Talent.\\nSlaanesh:One of the character’s hands (randomly determined)\\nis replaced by the razor-sharp crab claw of a Daemonette. The\\ncharacter gains the Natural Weapons (Claws) Trait, in addition\\nthis weapon has the Razor Sharp Quality. However, the Heretic\\nmay not hold or wield anything in that hand.\\nNurgle: The character’s belly swells with fetid corpse gas,\\nhis entrails pushing horribly through the distended rupture.\\nThe character gains the Regeneration (1) Trait.\\nTzeentch: The character gains an additional arm, topped\\nwith a distended claw like those of a Horror of Tzeentch. The\\ncharacter gains the Multiple Limbs Trait, with the exception\\nthat this additional limb can melt into his body and vanish or\\nreappear at the Heretic’s whim (a Full Action in game terms).\"},\r\n    \"Cyclops\": {name: \"Cyclops\", tier: -1, devotion: EGods.SPECIAL, description: \"The character has been cursed by the fi ckle will of Chaos.\\nIn return for one of his eyes, he is given the ability to see\\nsomething of the future. Unfortunately, the only part of the\\nfuture he is able to see is his own death, and he turns maudlin\\nor enraged as he dwells upon his doom and seeks to plot how\\nit might be avoided.\\nOne of the character’s eyes seals over or turns into a gaping\\nsocket. He permanently loses 1d5 Perception and counts as\\nhaving the Conspiracy Theorist Disorder (see page 278).\"},\r\n    \"Darksoul\": {name: \"Darksoul\", tier: -1, devotion: EGods.SPECIAL, description: \"The character radiates the power of the warp and his soul\\nglows darkly with the blessings of the Ruinous Powers. His\\neyes flicker with the lambent energies of the warp and the air\\nchills with his passing.\\nThe character gains the Fear 1 (Disturbing) Trait or, if\\nhe already causes Fear, increases the level by +1, up to a\\nmaximum of 4 (Terrifying).\\nKhorne: Enemy warriors know that they are facing\\na champion of the Lord of Battles himself, and tremble in\\nfear. Enemy warriors (Imperial Guardsmen, planetary defence\\nforce troops, Space Marines, etc.) count the character’s Fear\\nrating as one level higher.\\nSlaanesh: The character strikes especial terror into the hearts\\nof those who worship the False Emperor of Mankind, for they\\nknow that no extreme of sacrilege is beyond him. Enemies such\\nas Adepta Sororitas, Inquisitors, and members of the Ecclesiarchy\\ncount the character’s Fear rating as one level higher.\\nNurgle: The character is especially horrifying to those who\\nconsider themselves lost or abandoned. When facing renegades,\\nlost colonists, or anyone else beyond the Imperium’s boundaries,\\nthe character’s Fear rating is counted as one level higher.\\nTzeentch: Enemy psykers fi nd the character especially\\ndisturbing, instinctively knowing that they are in the presence\\nof a servant of the Architect of Fate. Enemies with psychic\\npowers count the character’s Fear rating as one level higher\"},\r\n    \"Dimensional Instability\": {name: \"Dimensional Instability\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s connection to the physical realm begins to\\nslip, his consciousness segueing between real space and the\\nRealm of Chaos. At times, he appears to fade away entirely as\\nhe walks the otherworld of daemons and fell gods.\\nOnce per session, the character may choose to be subject\\nto the Incorporeal Trait for a number of consecutive Rounds\\nequal to his Corruption Bonus.\\nKhorne: So raw is the character’s hatred that he can strike\\nhis foes from beyond the veil of reality. If the character passes\\na Very Hard (-30) Willpower Test, he may make melee\\nattacks while Incorporeal.\\nSlaanesh: The servants of Slaanesh sometimes utilise this\\nstate to invade the dreams and nightmares of their enemies,\\nwhispering subtle lies at the edge of consciousness, or else\\nthey assume ethereally beguiling forms to bewitch their foes.\\nIf the character passes a Very Hard (–30) Willpower Test,\\nhe gains +30 to all Interaction Tests while Insubstantial.\\nNurgle: If the character can pass a Very Hard (–30)\\nWillpower Test, he gains the Fear 1 (Disturbing) Trait while\\nIncorporeal or, if he already cause Fear, increase the level by\\n+1 while Incorporeal (up to a maximum of Fear 4).\\nTzeentch: If the character can pass a Very Hard (–30)\\nWillpower Test, he may use Psychic Powers while Incorporeal.\"},\r\n    \"Emaciated\": {name: \"Emaciated\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s frame withers until he is all but skeletal and he\\nbecomes weak and frail. He is affl icted by an eternal hunger that\\ncan never be satiated as all but the merest fraction of the food\\nhe imbibes is claimed by the warp, never to strengthen his body.\\nThe character suffers a –20 penalty from Fatigue, rather\\nthan a –10.\"},\r\n    \"Eye of Chaos\": {name: \"Eye of Chaos\", tier: -1, devotion: EGods.SPECIAL, description: \"If the eyes are the window to the soul, then what gazes\\nout from behind the character’s gaze is something far from\\nmortal. His fell gaze is imbued with the weirdling light of the\\nempyrean, and to fall under it is to have one’s soul desiccated\\nas if looking into the warp itself.\\nThe character gains the Psyniscience Skill or, if he already\\npossesses the Skill, advances it by +10.\\nKhorne: The rage of the Blood God himself radiates from\\nthe champion’s eyes. The character gains the Intimidation Skill\\nor, if he already possesses the Skill, advances it by +10.\\nSlaanesh: The character sees into the soul of his victim,\\nrecognising lies and deceit. The character gains the Interrogation\\nSkill, or, if he already possesses the Skill, advances it by +10.\\nNurgle: Nurgle promises deliverance from pain and\\nsuffering. The character gains the Charm Skill, or, if he\\nalready possesses the Skill, advances it by +10.\\nTzeentch: The character’s eyes shine with the multihued\\ngaze of the Lord of Lies. The character gains the Deceive\\nSkill, or, if he already possesses the Skill, advances it by +10\"},\r\n    \"Eye-Stalks\": {name: \"Eye-Stalks\", tier: -1, devotion: EGods.SPECIAL, description: \"The fi ckle nature of Chaos imprints itself upon the character,\\nextending his eyes out of their sockets and causing them to\\nwave above his head on elongated stalks. Though better able\\nto see his surroundings, the danger to his exposed eyeballs\\nshould not be understated.\\nThe character permanently gains 1d5 Perception, but\\nwhenever he suffers Critical Damage to the head (for any\\nreason) he adds +1 to the result. Additionally, he may not be\\nable to wear certain helmets, though the eye-stalks can coil up.\"},\r\n    \"Featureless Face\": {name: \"Featureless Face\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s features fade away to nothing, leaving him\\nwithout eyes, nose, or mouth. Despite appearances, the character\\n294is left with his senses intact and, in addition, has no need to take in\\nphysical sustenance, gaining nourishment from the imperceptible\\nebb and fl ow of Chaos itself. The effect of this affliction varies, for\\nwhile the character cannot speak in the conventional manner, he\\nis both intensely disturbing and powerfully intimidating.\\nThe character has no need to eat or drink to survive (and\\ncan see normally even without eyes), but he cannot speak\\n(though he may be able to communicate in other ways, such\\nas telepathically or with hand-signs). Any Interaction Tests\\n(except Intimidation Tests) suffer a –20 penalty\"},\r\n    \"Flaming Skull\": {name: \"Flaming Skull\", tier: -1, devotion: EGods.SPECIAL, description: \"The champion’s skin is seared away by unnatural fl ames that\\nmay never be extinguished.\\nThe character gains the Fear (1) Trait or, if he already\\ncauses Fear the rating is increased by one level to a maximum\\nof 4 (Terrifying). His Fellowship is reduced by 10+2d10, to\\na minimum of 1. This may also cause additional disorders\\ndepending on the character’s temperament and personality\"},\r\n    \"Grossly Fat\": {name: \"Grossly Fat\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s fl esh swells and distorts, muscle turning to\\nblubber before his very eyes and expanding until he is two or\\nthree times his previous mass.\\nThe character permanently loses 1d10+10 Agility and\\n1d10+2 Fellowship, but does permanently gain 1d10 Toughness\\nand the Size (Hulking) Trait (if he does not have it already)\"},\r\n    \"Headless\": {name: \"Headless\", tier: -1, devotion: EGods.SPECIAL, description: \"The touch of Chaos causes the character’s head to shrink into his\\nshoulders, until his features are merged into his upper chest.\\nThe character is slow to react in combat and always\\ncounts as rolling a 1 for Initiative Tests. However, any\\nattacks that hit the head count as hitting the chest\\nlocation instead.\"},\r\n    \"Icon of Blasphemy\": {name: \"Icon of Blasphemy\", tier: -1, devotion: EGods.SPECIAL, description: \"The character embodies all that is blasphemous to those\\nwho blindly worship the False Emperor of Mankind. His\\nblasphemies take many forms, from iconoclastic scripts\\ntattooed upon his skin to a mocking resemblance to a fi gure\\nsuch as an Imperial Saint. Some are capable of channelling\\ntheir very essence into their blasphemies, and these are truly\\na scourge on the weakling Imperium of Man.\\nOnce per session, the character may unveil or unleash his\\nblasphemy upon his foe. For one round, he gains the Fear 3\\n(Horrifying) Trait.\\nKhorne: By passing a Hard (–20) Strength Test, the\\ncharacter may extend the the effect for an additional Round.\\nSlaanesh: By passing a Hard (–20) Fellowship Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\\nNurgle: By passing a Hard (–20) Toughness Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\\nTzeentch: By passing a Hard (–20) Willpower Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\"},\r\n    \"Illusion of Normality\": {name: \"Illusion of Normality\", tier: -1, devotion: EGods.SPECIAL, description: \"Perhaps the most bizarre of all Gifts of the Gods is that which\\nlends the recipient the outward appearance of complete\\nnormality when he is, in fact, a seething mass of mutation and\\ncorruption. To most, the character appears to have the unaltered\\nform he was born with, while to those touched by the warp the\\ntruth is more likely to be visible, and truly horrific.\\nThe character gains the Unremarkable Trait, regardless of how\\nmany mutations he has, what weapons he is carrying, or even if\\nhe is a Chaos Space Marine. This gift is more than a quirk, it is an\\nactive power, and as such it may be detected by enemies using the\\nPsyniscience Skill. For each Gift the character has, deduct 5 from\\nthe difficulty of the Psyniscience Test.\\nKhorne: The character’s enemies are always Surprised\\n(see page 233) when he attacks.\\nSlaanesh: The character gains +20 to all Deceive Skill Tests.\\nNurgle: The character’s range of Nurgle’s Rot (either\\nthe mutation or the psychic power) is now 2 x his\\nCorruption Bonus.\\nTzeentch: The number of mutations the character has does\\nnot affect enemy Psyniscience Tests made to detect his presence\"},\r\n    \"Infernal Will\": {name: \"Infernal Will\", tier: -1, devotion: EGods.SPECIAL, description: \"The needs and desires of the mortal realm hold no power over\\nthe character, and his drives and passions are entirely those of\\nthe warp. He is motivated by the will of the empyrean, and\\nhis deeds make little sense to mere mortals.\\nThe character is entirely immune to the effects of Fear.\\nShould the character fail any Skill Test by four or more\\nDegrees, however, he must immediately roll on Table 8–4:\\nShock and apply the result.\\nKhorne: If the Skill Test was for a Skill aligned with\\nKhorne (see page 93), the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\\nSlaanesh: If the Skill Test was for a Skill aligned with\\nSlaanesh (see page 93), the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\\nNurgle: If the Skill Test was for a Skill aligned with\\nNurgle (see page 93), he may adjust the result rolled up to an\\namount equal to his Corruption Bonus.\\nTzeentch: If the Skill Test was for a Skill aligned with\\nTzeentch (see page 93) the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\"},\r\n    \"Inside Out\": {name: \"Inside Out\", tier: -1, devotion: EGods.SPECIAL, description: \"Occasionally, the dark things that lurk within the warp cause\\na man’s innards to burst through his fl esh so that his body\\nappears clothed in a hideous skin of glistening organs—a\\nfickle caprice that cannot be understood by mere mortals.\\nThe character suffers a –30 penalty to all Interaction Skill Tests\\n(except Intimidate Tests), but gains a +20 to Intimidate Tests.\"},\r\n    \"Intelligent Cyst\": {name: \"Intelligent Cyst\", tier: -1, devotion: EGods.SPECIAL, description: \"A new, cyst-like organ grows inside the character’s body,\\ndeveloping a mind and will of its own. Periodically, the cyst\\nattempts to gain control of the character’s body and, when\\nit does so, it pursues its own ends, which may be entirely\\ndifferent from those of the character.\\n295The cyst gains brief control whenever the host’s\\nconcentration slips. Should the character ever fail an\\nInteraction Skill Test, he fails it by two additional Degrees\\nof Failure, as the Cyst momentarily causes him to do or say\\nsomething contrary to his interests\"},\r\n    \"Limb Loss\": {name: \"Limb Loss\", tier: -1, devotion: EGods.SPECIAL, description: \"The unknowable powers of the warp claim one of the\\ncharacter’s limbs, leaving behind nothing but a healed stump.\\nMost fi nd that the lost limb still feels like it is there, while\\nothers claim to feel the pain of its slow dissolution somewhere\\nin the depths of the Empyrean.\\nThe character loses one randomly determined limb\"},\r\n    \"Magnificent Horns\": {name: \"Magnificent Horns\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is blessed with an impressive set of horns,\\nwhich serve as both weapons and status symbols amongst the\\nranks of the lost and the damned.\\nThe character gains +10 Loyalty with any Minions he\\nmay have. In addition, whenever he makes a Charge Action,\\nhis attack cannot be Parried.\\nKhorne: Only Minions dedicated to the Blood God gain\\nthe Loyalty bonus.\\nSlaanesh: Only Minions dedicated to the Dark Prince\\ngain the Loyalty bonus.\\nNurgle: Only Minions dedicated to the Lord of Decay\\ngain the Loyalty bonus.\\nTzeentch: Only Minions dedicated to the Architect of\\nFate gain the Loyalty bonus.\"},\r\n    \"Mechanoid\": {name: \"Mechanoid\", tier: -1, devotion: EGods.SPECIAL, description: \"The recipient’s body is fused with the machine, his bone\\nreplaced with metal and his muscles with pistons. His psyche\\nis absorbed into the new form, until nothing of the biological\\nremains at all. The resultant machine is the ultimate blasphemy\\nto the Tech-Priests of Mars, and an object of adoration to the\\nDark Mechanicus. Its function obeys no laws of the machine\\nand its internal workings are anathema to logic and reason.\\nThe character gains the Machine (+1) Trait.\\nKhorne: The character’s skin is gleaming bronze, granting\\nhim the Natural Armour (3) Trait.\\nSlaanesh: The character’s muscles are replaced with an\\nimpossibly fi ne mesh of micro actuators, granting him +1 to\\nInitiative Checks.\\nNurgle: The character’s already-formidable frame is\\nfortified still further by an array of mechanical callipers,\\ngranting him the Sturdy Trait.\\nTzeentch: The character’s senses are enhanced by a\\ncomplex web of machine receptors, granting him +10 to all\\nAwareness Tests.\"},\r\n    \"Nerveless Ennui\": {name: \"Nerveless Ennui\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is incapable of feeling physical stimuli, caring\\nfor neither the kiss of lips nor the caress of the blade.\\nThe character’s physical senses are so dulled that he feels little\\nin the way of pain. The character ignores the –10 penalty when\\nsuffering Fatigue. However, any Awareness Tests based on sensing\\nby touch are counted as one level of difficulty harder.\\nKhorne: Whenever the character suffers Critical Damage\\n(after reduction for Armour and Toughness) reduce the\\namount by his Corruption Bonus (to a minimum of 1).\\nSlaanesh: The character may reroll any failed attempts\\nto resist the effects of torture or seduction based on the\\napplication of physical stimuli.\\nNurgle: The character’s resistance is heightened even\\nmore. He must suffer a number of levels of Fatigue equal to\\n2 + his Toughness Bonus before he is knocked unconscious.\\nTzeentch: While the character’s physical senses are dulled,\\nhis supernatural ones are greatly heightened. He adds +20 to\\nthe result of all Psyniscience Skill Tests.\"},\r\n    \"Pervasive Miasma\": {name: \"Pervasive Miasma\", tier: -1, devotion: EGods.SPECIAL, description: \"A drastic imbalance in the character’s humours brought about\\nby prolonged exposure to the baleful energies of the warp\\ncauses him to be surrounded by the creeping, noxious stench\\nof brimstone and corruption.\\nWhen the character fails Stealth Tests, he gains an\\nadditional Degree of Failure.\"},\r\n    \"Projectile Attack\": {name: \"Projectile Attack\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is gifted with the ability to summon forth a\\nstream of unreal matter brewed from the raw stuff of Chaos.\\nThe stream is generally projected from the recipient’s mouth,\\nand the exact nature this matter assumes upon leaving the\\ncharacter’s body varies enormously.\\nThe character may make a Standard Attack Half Action to\\nunleash a projectile attack with the following profi le; Range:\\n10m; Rate of Fire: S/-/-; Damage: 1d10+5; Penetration 3;\\nSpray, Smoke. Obviously, the character may not make this\\nattack if he is wearing an enclosed helmet!\\nKhorne: The matter forms a sheet of raging fi re. The\\nattack gains the Flame Quality.\\nSlaanesh: The stream of matter twists and writhes as\\nincorporeal limbs entwine the victim. The attack gains the\\nShocking Quality.\\nNurgle: The nature of the substance spewing forth from\\nthe character’s innards is best left unsaid. The attack gains the\\nToxic Quality.\\nTzeentch: The character vomits the raw stuff of the warp\\nitself. The attack gains the Warp Weapon Quality.\"},\r\n    \"Pseudo-Deamonhood\": {name: \"Pseudo-Deamonhood\", tier: -1, devotion: EGods.SPECIAL, description: \"A gift held by many as both a curse and a blessing, the\\nrecipient’s body is twisted and mutated until they come to\\nresemble that of one of the myriad lesser daemons of the\\nwarp, such as the dreaded Ebon Geist, the mournful Dispayre,\\nor the savage Manripper. The character’s very nature becomes\\nmelded with the warp and his perception of the material\\nuniverse fades while that of the unreal beyond is magnified a\\nthousand-fold.\\nThe character gains the Fear 4 (Terrifying) and Warp\\nInstability Traits. If the character is ever banished to the\\nwarp, the GM will have to determine the length of time he is\\nbanished for and the conditions of his return. If not dedicated\\nto one of the Chaos Powers, his appearance mutates to\\nresemble a hideous, bestial fiend.\\nKhorne: The character assumes something of the\\nappearance and nature of a Bloodletter. He gains the Brutal\\nCharge Trait.\\nSlaanesh: The character’s body and soul mutates so that it\\ncomes to resemble that of a Daemonette. The character gains\\nthe Unnatural Agility (+2) Trait.\\nNurgle: The character changes so that he appears to be a\\nPlaguebearer. The character gains the Undying Trait.\\nTzeentch: The character’s form twists so that it resembles\\na Horror. The character gains the Blessing of Tzeentch. This\\ncounts as a force fi eld with a Protection Rating of 20, but it\\ncannot be overloaded (see page 178)\"},\r\n    \"Slayer Limb\": {name: \"Slayer Limb\", tier: -1, devotion: EGods.SPECIAL, description: \"One of the character’s limbs fuses with a weapon, either one\\nhe already owns or a new weapon granted as part of the\\ngift. The limb becomes a twisted mass of metal and flesh,\\nmechanisms and muscles flowing together while blood vessels\\nand ammunition feeds become as one. Any trigger mechanism\\nthe character had before is bypassed and it operates with but\\na thought. The character’s metabolism hybridises with the\\nworking of the weapon, and the two become as one, such\\nthat it can even derive power or ammunition from his body.\\nThe player must choose one weapon carried by his character\\nto become fused with his body. The weapon conjoins with\\na single limb of the player’s choice, replacing it from the\\nelbow (or equivalent joint) down (and therefore replacing\\nany hands). The weapon may be of any type, and henceforth\\nnever requires reloading or any other type of maintenance.\\nIf the character is Aligned to a God, his weapon may gain\\nadditional Qualities if it does not already have them.\\nKhorne: The weapon gains the Tearing Quality.\\nSlaanesh: The weapon gains the Crippling (1d5) Quality.\\nNurgle: The weapon gains the Toxic (1) Quality.\\nTzeentch: The weapon gains the Warp Weapon Quality.\"},\r\n    \"Steel-Hearted\": {name: \"Steel-Hearted\", tier: -1, devotion: EGods.SPECIAL, description: \"Some have seen into the depths of the warp and, know how\\ntrivial the concerns of mortals truly are. The character’s heart\\nis steeled to the terrors of the material universe, and only\\nwhat lies beyond it concerns him.\\nThe character counts Fear caused by enemies as one level\\nlower than described in that enemy’s profi le. If the enemy\\ncauses Fear (1), then no effects are suffered at all.\\nKhorne: When facing Fear-causing enemy warriors\\n(Imperial Guard, planetary defence troops, Space Marines,\\netc.), the enemy’s Fear rating is reduced by a further level.\\nSlaanesh: When facing enemies dedicated to the worship of\\nthe corpse-god of the Imperium (such as Adepta Sororitas, priests,\\netc.) who cause Fear, their rating is reduced by a further level.\\nNurgle: Fear effects caused by any other servants of\\nChaos are counted as a further Fear level lower.\\nTzeentch: Any Fear effect caused by an enemy with any\\npsychic ability is reduced by a further level.\"},\r\n    \"Strange Voice\": {name: \"Strange Voice\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s vocal chords are twisted and distorted as\\nChaos ebbs and flows through his body. A lucky few fi nd\\ntheir voices have become deep and resounding, while the less\\nfortunate are left sounding like a Grot with cranial distemper\\nor merely incomprehensible. More likely, a character may fi nd\\nthat his voice fluctuates depending on the situation.\\nAt the beginning of the game session, roll 1d10. If the\\nresult is a 4 or lower, the character gains +10 to Intimidate\\nSkill Tests, but suffers –10 to Stealth Tests. If the result is a 5\\nor higher, he suffers –20 to all Interaction Tests. These effects\\nlast until the end of the game session\"},\r\n    \"Strange Walk\": {name: \"Strange Walk\", tier: -1, devotion: EGods.SPECIAL, description: \"Any number of afflictions could result in the character suffering\\nfrom a strange walk—from a minor change in proportions\\nto an acute imbalance of the mind. This may result in the\\ncharacter gaining a disturbing gait, perhaps appearing to slide\\nacross the ground, or something more debilitating, such as a\\ncrabwise shuffle or a rigid, straight-legged march.\\nThe character’s movement rate is halved.\"},\r\n    \"Tail\": {name: \"Tail\", tier: -1, devotion: EGods.SPECIAL, description: \"The powers of the warp have granted the character the gift\\nof an impressive tail. More than a mere status symbol, the tail\\nmakes a formidable weapon too.\\nThe character gains an additional attack, made using the\\ntail and counting as a normal, unarmed attack.\\nKhorne: The gift takes the form of a scorpion’s tail and\\nhas the Toxic Quality.\\nSlaanesh:The tail takes the form of a writhing, darting tentacle,\\nand attacks made with it add +20 to the character’s Weapon Skill.\\n297Nurgle: The tail resembles the gristly abdomen of a huge fl y,\\nthe tip of which seeps a noxious gruel of vile liquid. The effect\\nis to reduce the Initiative of all enemies within 20 metres by 20.\\nTzeentch: The tail is prehensile and dextrous, and may be\\nused to carry and operate a weapon, just like a normal arm.\"},\r\n    \"Tentacle\": {name: \"Tentacle\", tier: -1, devotion: EGods.SPECIAL, description: \"One of the character’s limbs shrivels and warps into a boneless\\ntentacle or, in some cases, a writhing mass of them extending\\nfrom where the limb once was.\\nRandomly determine which limb is affected. If it is an arm\\nthen the character may not bear any weapons with that limb\\n(in effect, he can only wield one-handed weapons). If it is a leg\\nthen his movement rate is reduced by 1. However, having a\\ntentacle does give him a +10 bonus to Grapple Tests and, may\\nallow him to reach into tight spaces such as ventilation ducts.\"},\r\n    \"Vampiric Addiction\": {name: \"Vampiric Addiction\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is infused with a burning desire to partake of\\na particular substance and, soon becomes unable to function\\nnormally without doing so on a regular basis. Despite the\\ndrawbacks, the character is able to draw power from his addiction,\\nwhich he utilises to propel himself further along the path to glory.\\nThe character is addicted to a substance chosen by the\\nplayer with the GM’s approval. The substance should be\\nsomething obtained from a living creature, such as the blood,\\nmarrow, or cranial fl uid. In any session in which the character\\npartakes of this substance, he counts his Infamy Points as\\none higher than normal for the remainder of the session.\\nIf he does not partake in the substance by the end of the\\nsession, he permanently loses 1 Toughness. Note that it is not\\nnecessarily vital that the victim “providing” the substance die\\nin the process, meaning the character could theoretically use\\nhis minions as willing (or not-so-willing) donors.\"},\r\n    \"Warp-Eater\": {name: \"Warp-Eater\", tier: -1, devotion: EGods.SPECIAL, description: \"Physical sustenance tastes as ashes to the character and,\\ninstead of imbibing normal food and drink, he must derive\\nnourishment from the infinite fount of the warp. Doing so\\ncarries certain risks, however.\\nThe character need never eat or drink, and so may survive for\\nextended periods while others wither away and die. However,\\nonce per month he must take a Challenging (+0) Toughness\\nTest. If he fails, he gains 1d5+1 Corruption as if from a Failing.\\nKhorne: Followers of Khorne may assuage their warp\\nhunger by slaying the foes of the Blood God. For every foe\\nslain throughout the month, the character gains a +5 bonus\\nto the Toughness Test.\\nSlaanesh: Those who serve the Dark Prince of Chaos may\\nslake their thirst through acts of blasphemy and excess. For\\nevery such deed committed, the character gains a +10 bonus\\nto the Toughness Test.\\nNurgle: By gifting mortals with the delights of Nurgle,\\nthe character may keep his hunger at bay. For every victim\\nhe infects with disease, or kills with an attack with the Toxic\\nQuality, the character gains a +5 bonus to the Toughness Test.\\nTzeentch: To the followers of the Great Schemer, lies and\\ndeceit are more delicious than the fi nest wine. For every lie\\nof consequence told to further one’s own goals, the character\\ngains a +10 bonus to the Toughness Test\"},\r\n    \"Warp-Touched\": {name: \"Warp-Touched\", tier: -1, devotion: EGods.SPECIAL, description: \"Those who pursue glory by walking the path of Chaos are\\nall but immune to what mortals call madness, for they have\\nalready seen and done things that would shatter the frail\\nminds of the Emperor’s lapdogs. However, some are afflicted\\nby such capricious or contrary natures that they appear all but\\ninsane to others, expressing themselves and pursuing goals all\\nbut impenetrable to many around them.\\nThe character must roll on a Disorder Table (page 278)\\nappropriate to the character’s Alignment. If the character is\\nunaligned, then the GM chooses a Disorder Table to roll on.\"},\r\n    \"Warped Appearance\": {name: \"Warped Appearance\", tier: -1, devotion: EGods.SPECIAL, description: \"The character’s appearance mutates and changes with the\\nImmaterium’s touch, making him utterly unmistakable.\\nThe player and GM should work together to determine some\\nway the character’s appearance has warped, whether it be skin\\nstained with coloured blotches, purple hair, black veins running\\nbeneath the skin, or something even more hideous. Whatever\\nthe cosmetic affect, the character suffers a –20 to any Tests\\nmade to disguise himself or cover up his appearance.\"},\r\n    \"Warpsight\": {name: \"Warpsight\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is able to see the world as it really is – the souls\\nof mortals gutter like lanterns in the night while the predators\\nof the warp circle all about like sharks scenting blood.\\nThe character literally sees the souls of his enemy. All\\nAwareness Tests gain a +10 bonus; however, any Scrutiny\\nTests suffer a –10 penalty as the character is less able to see\\nsuch mundane things as facial expressions.\"},\r\n    \"Winged\": {name: \"Winged\", tier: -1, devotion: EGods.SPECIAL, description: \"The Ruinous Power hear the character’s pleas for aid and\\nbestow upon him a pair of mighty pinions with which he is\\nable to soar through the air and visit death from above upon\\nthe heads of his enemies.\\nThe character gains the Flyer Trait at a movement rate\\nequal to his Agility Bonus x 2.\\nKhorne: The character’s wings are black and bat-like.\\nSlaanesh: Gossamer-thin pinions sprout from the\\ncharacter’s back.\\nNurgle: The character’s wings are those of an overgrown fl y.\\nTzeentch: The wings are feathered, like those of a Greater\\nDaemon of Tzeentch.\"},\r\n    \"Wreathed in Chaos\": {name: \"Wreathed in Chaos\", tier: -1, devotion: EGods.SPECIAL, description: \"The warp so infuses the character that it leaks from his\\nvery pores and coils from his eyes, nose, and mouth.\\nThe character gains a +10 bonus to all Interaction Skill\\nTests with fellow Disciples of the Dark Gods. Against others,\\nsuch as xenos or inhabitants of the hated Imperium, he gains\\na +10 to Intimidate Tests only.\\nKhorne: The heat of Khorne’s infernal forges causes the air\\naround the character to ripple and distort. When engaged in\\nmelee, his enemies suffer a –10 penalty to their Weapon Skill.\\nSlaanesh: The character is enveloped in a soporific musk,\\nwhich distracts and confuses opponents. All enemies within\\n10 metres suffer –10 Willpower.\\nNurgle: A cloud of disease-ridden flies constantly\\nbuzzes around the character. All enemies within 10 metres\\nsuffer –5 Initiative.\\nTzeentch: Arcs of aetheric power crackle and seethe from\\nthe character’s body, grounding through anything he touches.\\nThe character adds +2 to melee Damage rolls\"},\r\n\r\n    // REWARDS OF THE GODS\r\n    // SLAANESH\r\n    \"Slaanesh Daemonic Name\": {name: \"Slaanesh Daemonic Name\", tier: -2, devotion: EGods.SLAANESH, description: \"The character is granted a secret name, derived from the\\nimpossible vowels and consonants voiced in the sibilant,\\nlilting tongue of the servants of Slaanesh.\\nThe character gains+1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times\"},\r\n    \"Slaanesh Daemon Weapon\": {name: \"Slaanesh Daemon Weapon\", tier: -2, devotion: EGods.SLAANESH, description: \"The character is gifted with one of the most cherished blessings\\na servants of the Ruinous Powers can ever receive—a Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound with\\nthe essence of a Daemonette, as described on page 192.\"},\r\n    \"Face of Slaanesh\": {name: \"Face of Slaanesh\", tier: -2, devotion: EGods.SLAANESH, description: \"The visage of the Dark Prince of Chaos is, to most mere mortals\\nat least, both utterly horrifying and achingly beautiful to\\nbehold. Neither male nor female, human nor alien, it transfixes\\nthe soul and obliterates all other desires. Having looked upon\\nsuch a face, all others are mere empty husks. The character’s\\nface assumes the merest fraction of Slaanesh’s countenance and\\nall who look upon him are utterly enslaved by his dark allure.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it) plus the Peer (Mortal Followers of Slaanesh) Talent\"},\r\n    \"Hermaphrodite\": {name: \"Hermaphrodite\", tier: -2, devotion: EGods.SLAANESH, description: \"Slaanesh is said to be both male and female, and neither, for\\nmere mortal perception cannot begin to quantify its true nature\\nand such terms are but pale shadows of the terrible truth. The\\ncharacter’s body is changed to reflect something of this state,\\nassuming the characteristic single breast so common amongst\\nthe servants of the Dark Prince of Chaos, as well as features\\nthat are disturbingly attractive yet ultimately sexless. The\\ncharacter becomes an object of adoration to all around him,\\nwhether male or female, and fi nds his own identity assuming\\nan amorphous, genderless quality where such petty mortal\\nqualities as masculinity and femininity become meaningless.\\nWhenever the character passes any Interaction Test, double\\nthe number of Degrees of Success by which it is passed.\"},\r\n    \"Mark of Slaanesh\": {name: \"Mark of Slaanesh\", tier: -2, devotion: EGods.SLAANESH, description: \"So driven is the character, so darkly does his soul shine in\\nthe stygian depths of the Sea of Souls, that he attracts the\\nfl eeting notice of the Dark Prince of Chaos. Slaanesh touches\\nthe character, bestowing upon him his mark and claiming his\\nsoul for all eternity. Having been touched in such a manner,\\nthe character is driven to such extremes of ambition and\\ndesire that entire worlds will tremble to hear his name, and\\nno experience is forbidden to his dark desire.\\nThe character gains the Heightened Senses (All) Talent and\\nthe Unnatural Fellowship (+2) Trait. In addition, the Mark\\nmay grant further bonuses as determined by the GM, and\\nmay be a prerequisite when performing rituals and interacting\\nwith various beings of the warp, etc.\"},\r\n    \"One thousand and one Senses\": {name: \"One thousand and one Senses\", tier: -2, devotion: EGods.SLAANESH, description: \"Those most touched by the power of the Dark Prince are\\ndriven to ever-greater extremes of experience, the sensations\\nof the material universe growing duller by the year. Most\\nfi nd themselves prisoners of their own senses and unable\\nto experience sensations beyond those perceptible to the\\nmortal body they were born into. The character has been\\ngifted with an entirely new and previously unheard of array\\nof sensory perceptions, the merest of which makes those\\nhe was born with pale into insignificance. Armed with his\\nnew perceptions, he sets out into the universe once more,\\ndetermined to experience each to the fullest extent possible.\\nWhenever the character passes an Awareness Skill Test, double\\nthe number of Degrees of Success by which it is passed\"},\r\n    // NURGLE\r\n    \"Corpulent Immensity\": {name: \"Corpulent Immensity\", tier: -2, devotion: EGods.NURGLE, description: \"The character’s frame swells and distorts until he comes\\nto resemble the massive form of Papa Nurgle himself. His\\ninnards bloat and swell, his skin sloughs off, and pus weeps\\nfrom open sores, yet he is blessed with a vigour and strength\\nentirely at odds with his appearance.\\nThe character gains an additional +5 Wounds, but may not\\nmake a Run Action. He also gains the Size (Enormous) Trait.\"},\r\n    \"Nurgle Daemonic Name\": {name: \"Nurgle Daemonic Name\", tier: -2, devotion: EGods.NURGLE, description: \"Nurgle’s tallymen know the name of every disease ever to\\nbeset the mortal realm and they know the true name of the\\ncharacter too. The name is revealed to the recipient and\\nbestowed upon him, granting him equal status to the denizens\\nof Father Nurgle’s bountiful Garden of Decay.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe, the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Nurgle Daemon Weapon\": {name: \"Nurgle Daemon Weapon\", tier: -2, devotion: EGods.NURGLE, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receive—a Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound\\nwith the essence of a Plaguebearer, as described on page 192\\nin the Armoury Chapter.\"},\r\n    \"Face of Nurgle\": {name: \"Face of Nurgle\", tier: -2, devotion: EGods.NURGLE, description: \"The character is blessed with the most disgusting visage\\npossible—that of Father Nurgle himself. His fl esh becomes\\nswollen and great lumps of it slough off entirely, revealing\\nputrescent corruption beneath. Despite his loathsome, deathly\\ncountenance, the character’s eyes twinkle with Nurgle’s\\nmischievous humour and darkling beneficence, and tiny\\nNurglings prance and caper in the putrid phlegm drooling\\nfrom his ever-grinning maw.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it) plus the Peer (Mortal Followers of Nurgle) Talent.\"},\r\n    \"Mark of Nurgle\": {name: \"Mark of Nurgle\", tier: -2, devotion: EGods.NURGLE, description: \"The character is branded as a servant of Grandfather Nurgle\\nand a place in the eternal cavalcade through the Gardens of\\nthe Plaguefather is reserved for him.\\nThe character gains the Stuff of Nightmares and Unnatural\\nToughness (+1) Traits. In addition to these Talents, the Mark\\nmay grant further bonuses as determined by the GM and may\\nbe a prerequisite when performing rituals and interacting\\nwith various beings of the warp\"},\r\n    \"Nurgle's Rot\": {name: \"Nurgle's Rot\", tier: -2, devotion: EGods.NURGLE, description: \"Nurgle’s Rot is the most virulent and pleasing of all of\\nNurgle’s countless plagues, and the character is blessed to be\\nits host. While the character himself does not fall victim to\\nthe rot, his very touch can bestow it upon another, consuming\\nand destroying it.\\nThe character may spend a Full Action and roll a d100. If\\nhe rolls equal to or under his Corruption Point Total (in effect,\\nhe Tests Corruption) everyone within a number of metres\\nequal to his Corruption Point bonus suffers 1d10 Damage\\nwith the Tainted and Toxic (4) qualities. The Damage from\\nthis power ignores Armour unless it is environmentally sealed.\\nThose Devoted to Nurgle are unaffected by this power.\"},\r\n    \"Nurgling Infestation\": {name: \"Nurgling Infestation\", tier: -2, devotion: EGods.NURGLE, description: \"The character’s skin stretches and writhes as loathsome shapes\\ngestate beneath its surface. Soon after, the shapes become\\nboils and then seeping pustules from which tiny Nurglings\\nare hatched. These tiny creatures live in the recesses of the\\ncharacter’s body, finding warmth and sustenance in the most\\nunlikely of places. They are fiercely loyal to their host and\\nfight viscously to defend their home from attack.\\nOnce per combat the character may spill its distended guts\\nand, in so doing, instantly summon a number of Nurglings\\nequal to its Toughness Bonus.\"},\r\n    // KHORNE\r\n    \"Collar of Khorne\": {name: \"Collar of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"A brass collar, cruelly spiked and engraved with the sigils of the\\nBlood God, materialises around the character’s neck. Forged in\\nKhorne’s weapons-foundries, it may never be removed, but its\\nblessings will protect the recipient from enemy sorcerers.\\nThis gift works in the same manner as the Blood God’s\\nContempt Talent (see page 120), except no Willpower Test is\\nrequired to resist psychic powers.\"},\r\n    \"Khorne Daemonic Name\": {name: \"Khorne Daemonic Name\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God turns his vast consciousness towards the\\ncharacter for but the briefest instant, and recognises the mortal\\nas one of his own. He bestows, or reveals, the character’s true\\nname, as he is known to the denizens of the Realm of Chaos.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Khorne Daemon Weapon\": {name: \"Khorne Daemon Weapon\", tier: -2, devotion: EGods.KHORNE, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receive—a Daemon\\nWeapon, imbued with the essence of a daemon of Chaos..\\nThe character may generate a Daemon Weapon, bound with\\nthe essence of a Bloodletter, as described on page 192\"},\r\n    \"Face of Khorne\": {name: \"Face of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God bestows upon the character something of\\nhis own visage—or a manifestation of it that mortals might\\nbe able to perceive, at least. The face is the very essence of\\nbloodshed, its eyes shining with the inner light of Khorne’s\\nbone-furnaces and the nostrils billowing the thick black\\nsmoke of every funeral pyre ever burnt.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it), plus the Peer (Mortal Followers of Khorne) Talent.\"},\r\n    \"Flesh-Fused Weapon\": {name: \"Flesh-Fused Weapon\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God answers the champion’s prayers by instilling\\none of his favoured weapons with a portion of his power and\\nfusing it with the champion’s own body.\\nOne of the character’s primary weapons fuses with one of\\nthe character’s arms. This weapon may not be removed, but it\\ncounts as Best-Craftsmanship if it did not previously, never\\nrequires maintenance, cannot be destroyed, and never runs out of\\nammunition. This weapon may be made into a Legacy Weapon.\"},\r\n    \"Hand of Khorne\": {name: \"Hand of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"One of the character’s hands swells to two or three times its\\nformer size and the nails become distended and as hard as\\niron. The Hand of Khorne is the tool by which the Blood\\nGod’s will is enacted, and that will is nothing less than the\\nslaughter of every living soul in existence.\\nAttacks made with the Hand of Khorne do not count as\\nUnarmed and deal 2d10 plus Strength Bonus Damage with a\\nPenetration of 8. (see page 243).\"},\r\n    \"Mark of Khorne\": {name: \"Mark of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"The fell skull rune of Khorne is branded on the character’s\\nfl esh, claiming his soul for the Blood God for all time and\\nmarking him as one of Khorne’s Chosen.\\nThe character gains the Resistance (Psychic Powers)\\nTalent, the Brutal Charge Trait, and Unnatural Strength (+2)\\nif he does not already have them. In addition to these Talents,\\nthe Mark may grant further bonuses as determined by the\\nGM and may be a pre-requisite when performing rituals and\\ninteracting with various beings of the warp, etc.\"},\r\n    \"Purity of Aggression\": {name: \"Purity of Aggression\", tier: -2, devotion: EGods.KHORNE, description: \"The character is blessed with the utter clarity of Khorne’s will,\\nall emotions other than those that fuel bloodshed driven from\\nhis mind. No foe is beyond his hatred, and the feeling is mutual.\\nThe character gains the Enemy (Everyone) Talent, as well\\nas the Hatred (Everyone) Talent.\"},\r\n    // TZEENTCH\r\n    \"Changing of the Ways\": {name: \"Changing of the Ways\", tier: -2, devotion: EGods.TZEENTCH, description: \"Exposure to the raw, unknowable will of Tzeentch causes the\\ncharacter to undergo a complete change in his outward appearance\\nand he assumes a form more pleasing to the God of Change.\\nThe character loses consciousness for d10 hours, and when\\nhe awakens fi nds that all of the gifts he has previously been\\ngranted are gone, and replaced with new ones. Randomly\\ngenerate replacements for each gift, ensuring that the new\\ngifts fall under the same categories as those they are replacing.\\nIf the character does not have any mutations, reroll.\"},\r\n    \"Tzeentch Daemon Weapon\": {name: \"Tzeentch Daemon Weapon\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receive—a Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound\\nwith the essence of a Horror, as described on page 192.\"},\r\n    \"Tzeentch Daemonic Name\": {name: \"Tzeentch Daemonic Name\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character calls upon Tzeentch and Tzeentch recognises\\none of his own, revealing to the recipient the name by which\\nhe is known in the Realm of Chaos.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Ecstatic Duplication\": {name: \"Ecstatic Duplication\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is granted a most bizarre reward—one that\\ntruly befi ts Tzeentch’s inscrutable ways. Upon his death,\\nthe character’s body dissolves and melts, running in greater\\nshimmering rivulets until its mass reforms into two Blue\\nHorrors, the lesser daemons of Tzeentch.\\nIf the character dies, he is immediately replaced by two\\nBlue Horrors (see page 354), which the player may control for\\nthe remainder of the Encounter. Don’t forget that these two\\nlesser daemons each become two Pink Horrors should they be\\nslain. The character may still burn Infamy to survive, in which\\ncase he returns at the beginning of the next game session after\\ncongealing out of the remains of the daemons he became.\"},\r\n    \"Face of Tzeentch\": {name: \"Face of Tzeentch\", tier: -2, devotion: EGods.TZEENTCH, description: \"The God of Change grants the character a face resembling\\nhis own. His features pucker and take on something of\\nthe inscrutable visage of Tzeentch, they shift and change\\nconstantly, his eyes, nose, and mouth moving around his face\\nin a most disturbing manner.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if\\nhe already has it), plus the Peer (Mortal Followers of\\nTzeentch) Talent.\"},\r\n    \"Flaming Arm\": {name: \"Flaming Arm\", tier: -2, devotion: EGods.TZEENTCH, description: \"One of the character’s arms is replaced with the arm of a\\nFlamer of Tzeentch, and he is able to project from its blunt tip\\na stream of mutating fl ame.\\nOne randomly determined arm is replaced by that of a\\nFlamer of Tzeentch, a twisting limb capped with a hand that can\\nbecome a gaping, tooth-ringed mouth that belches fl ame. The\\nCharacter may use it to make ranged attacks as if it was a weapon\\nwith the following profi le: (10m; S/–/–; 1d10+Intelligence\\nBonus E Damage; Pen 0; Spray, Tainted, Warp Weapon).\"},\r\n    \"Massive Intellect\": {name: \"Massive Intellect\", tier: -2, devotion: EGods.TZEENTCH, description: \"Exposure to the will of Tzeentch gifts the character with a\\nvastly swollen intellect, enabling him to perceive something\\nof the God of Change’s great scheme and align his own\\nthoughts and deeds with it.\\nWhenever the character passes a Logic Skill Test, double\\nthe number of Degrees of Success by which it is passed.\"},\r\n    \"Mark of Tzeentch\": {name: \"Mark of Tzeentch\", tier: -2, devotion: EGods.TZEENTCH, description: \"Tzeentch shares with the character but a minute portion of his\\ngrand scheme for the universe, just enough to empower the\\nrecipient without blasting his soul to a cinder. The character\\nis marked forever, the arcane rune of Tzeentch burned into his\\nfl esh and his soul claimed by the God of Change.\\nThe character gains the Unnatural Willpower (+1) Trait and\\nthe Psy Rating (+1) Talent. If he does not already have it, he\\nalso gains the Psyker Trait. He now counts as a Bound psyker,\\nas the reward binds him to Tzeentch. In addition to these\\nTalents, the Mark may grant further bonuses as determined by\\nthe GM, and may be a prerequisite when performing rituals\\nand interacting with various beings of the warp.\"},\r\n    \"Warpsmith\": {name: \"Warpsmith\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is rewarded with the ability to manipulate the\\ntides of the warp as if he were born in its unknowable depths\\nand not the mortal realm.\\nThe character gains the Psy Rating (+2) Talent, plus the\\nPsyker Trait if he does not already have it. He now counts as\\na Bound psyker, as the reward binds him to Tzeentc\"},\r\n    // \"ADDICTION\": {name: \"ADDICTION\", tier: -1, devotion: EGods.TZEENTCH, description: \"\"},\r\n\r\n\r\n} as ITalentState\r\n\r\n\r\n// export const allEffects\r\n\r\n\r\nexport const allWeapons: IWeaponState = {\r\n    'Autopistol': { name: 'Autopistol', category: EItemCategory.WEAPON, count: 1, weaponCategory: EWeaponCategory.PISTOL, damage: '1d10+2', range: 30, rof: 's/-/6', clip: 18, rld: 'FULL', type: EDamageType.IMPACT, pen: 0, weight: 1.5 } as IWeapon,\r\n    \"Chaindagger\": { name: 'Chaindagger', category: EItemCategory.WEAPON, count: 1, weaponCategory: EWeaponCategory.CHAIN, damage: '1d10+1', range: 0, rof: '', clip: 0, rld: '', type: EDamageType.RENDING, pen: 0, weight: 1.5 } as IWeapon,\r\n    \"Splinter Rifle\": { name: \"Splinter Rifle\", category: EItemCategory.WEAPON, count: 1, damage: \"1d10+2\", clip: 200, range: 100, pen: 3, rof: \"s/3/5\", rld: \"FULL\", description: \"Toxic (4) - (-40 Thougness Test or 1d10 pure)\", weaponCategory: EWeaponCategory.PISTOL, type: EDamageType.LASER, weight: 0 } as IWeapon,\r\n\r\n\r\n//    SPELLS\r\n    \"Doombolt\" : { name: \"Doombolt\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 + Psy Rating\", pen: 8, type: EDamageType.ENERGY, exp: 200, prerequisites: \"None\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"20m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"Known by a variety of names, the Doombolt is a common destructive power utilised by a great many Chaos magos to strike down their foes. Formed from the coalesced spite and loathing of the Sorcerer, they are corrosive bolts of dark energy, raining down like black hail upon the enemy. As the Sorcerer conjures these bitter projectiles with clenched fi sts, he fi lls the air with the stench of brimstone and the booming roar of daemons for the brief moment of the power’s manifestation. Doombolt is a Psychic Barrage that deals 1d10+ Psy Rating Energy Damage with a Pen of 8.\" } as ISpell,\r\n    \"Rain of Foulness\" : { name: \"Rain of Foulness\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+7\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Nurgle\", action: \"Half\", focusPower: \"Challenging (+0) WP\", sustained: true, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"At the Sorcerer’s command, the skies fi ll with brooding, discoloured clouds that split open and pour filth and rotten blood down upon the Sorcerer’s foes. Few can do little more than fl ee from this downpour of vileness. The most devout of Nurgle’s sorcerers speak of this power as being agift from Grandfather Nurgle, bestowed upon the world from the Plague Lord’s domain. This power is a Psychic Blast with a radius of 1+ the Degrees of Success on the Focus Power Test. Anyone caught within the area of effect suffers 1d10+7 I Damage with a Penequal to Psy Rating and the Toxic (3) Quality, and must take a Pinning Test.\" } as ISpell\r\n    // \"Foul Cage\": {name: \"Foul Cage\",  }\r\n}\r\n\r\n\r\n\r\nexport const allArmour: {[name: string]: IArmour} = {\r\n    \"Light Carapace\": {\r\n        name: \"Light Carapace\",\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        armL: 5,\r\n        legL: 5,\r\n        legR: 5,\r\n        armR: 5,\r\n        body: 5\r\n    },\r\n    \"Carapace Helm\": {\r\n        name: \"Carapace Helm\",\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        head: 4\r\n    },\r\n}\r\n\r\nexport const allItems: IInventory = {\r\n    'Medipack': {\r\n        name: \"Medipack\",\r\n        count: 3,\r\n        category: EItemCategory.MISC,\r\n        description: \"Basic Medi-Pack kits will usually contain drugs and bandages to treat a variety of injuries and illnesses, such as cataplasm patches and contraseptics. More advanced models might include a diagnostic Cogitator with bio-scanner and probes to determine the patient's ailments. The most advanced types, available to the elite of the Imperium, can include cast sprays, tox wands, synthskin applicators and more.\"\r\n    },\r\n    'Data Slate': {\r\n        name: 'Data Slate',\r\n        count: 1,\r\n        category: EItemCategory.MISC,\r\n        description: 'Data Slate which can contain various informations.'\r\n    },\r\n    ...allWeapons,\r\n    ...allArmour,\r\n}\r\n\r\n\r\n\r\n","export enum ETabNames {\r\n    CHARACTERISTICS,\r\n    SKILLS,\r\n    TALENTS,\r\n    ARMOURY,\r\n    INVENTORY,\r\n    SETTINGS,\r\n    EXPERIENCE,\r\n    SEARCH\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allItems } from \"../character/resources\";\r\nimport { EWeaponCategory, EDamageType, IArmour, IWeapon } from \"../armoury/armourySlice\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\n\r\nexport interface IItem {\r\n    name: string,\r\n    count: number,\r\n    category: EItemCategory\r\n    description?: string\r\n}\r\n\r\nexport type TItem = IItem | IWeapon | IArmour;\r\n\r\nexport interface IInventory {\r\n    [name: string]: TItem\r\n}\r\n\r\nexport const itemsInitialState = {\r\n    'Data Slate': {\r\n        name: 'Data Slate',\r\n        count: 1,\r\n        category: EItemCategory.MISC,\r\n        description: 'Data Slate which can contain various informations.'\r\n    },\r\n    'Autopistol': {\r\n        name: 'Autopistol',\r\n        category: EItemCategory.WEAPON,\r\n        count: 1,\r\n        weaponCategory: EWeaponCategory.PISTOL,\r\n        damage: '1d10+2',\r\n        range: 30,\r\n        rof: 's/-/6',\r\n        clip: 18,\r\n        rld: 'FULL',\r\n        type: EDamageType.IMPACT,\r\n        pen: 0,\r\n        weight: 1.5\r\n    },\r\n    [`Chaindagger`]: {\r\n        name: 'Chaindagger',\r\n        category: EItemCategory.WEAPON,\r\n        count: 1,\r\n        weaponCategory: EWeaponCategory.CHAIN,\r\n        damage: '1d10+1',\r\n        range: 0,\r\n        rof: '',\r\n        clip: 0,\r\n        rld: '',\r\n        type: EDamageType.RENDING,\r\n        pen: 0,\r\n        weight: 1.5\r\n    },\r\n    ['DummyArmour']: {\r\n        name: 'DummyArmour',\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        body: 95\r\n\r\n    }\r\n} as IInventory\r\n\r\nexport const inventorySlice = createSlice({\r\n    name: 'items',\r\n    initialState: itemsInitialState,\r\n    reducers: {\r\n        addItem: (state, action: PayloadAction<IItem>) => {\r\n            const { name } = action.payload;\r\n            const oldCount = state[name]?.count\r\n            state[name] = { ...action.payload, count: oldCount ? oldCount + 1 : 1 };\r\n        },\r\n        addItemByName: (state, action: PayloadAction<string>) => {\r\n            const itemname = action.payload;\r\n            if (state[itemname]) {\r\n                state[itemname].count++;\r\n            } else {\r\n                const item = allItems[itemname];\r\n\r\n                item ? state[itemname] = item\r\n                    : state[itemname] = { name: itemname, count: 1, category: EItemCategory.NONE };\r\n            }\r\n        },\r\n        changeWeaponName: (state, action: PayloadAction<IWeapon & { oldName: string }>) => {\r\n            state[action.payload.name] = action.payload;\r\n            delete state[action.payload.oldName]\r\n        },\r\n        editWeapon: (state, action: PayloadAction<IWeapon>) => {\r\n            state[action.payload.name] = action.payload;\r\n        },\r\n        editArmour: (state, action: PayloadAction<IArmour>) => {\r\n            state[action.payload.name] = action.payload;\r\n        },\r\n        removeItem: (state, action: PayloadAction<TItem>) => {\r\n            const item = action.payload;\r\n            if (item.count === 1) {\r\n                delete state[item.name];\r\n            } else {\r\n                state[item.name].count--;\r\n            }\r\n        },\r\n        editDescription: (state, action: PayloadAction<IItem>) => {\r\n            const item = action.payload;\r\n            state[item.name].description = item.description\r\n        },\r\n        editCategory: (state, action: PayloadAction<IItem>) => {\r\n            const item = action.payload;\r\n            state[item.name].category = item.category\r\n        },\r\n        importInventory: (state, action) => {\r\n            const inventory = action.payload;\r\n            //clear existing\r\n            for(const item in state) {\r\n                delete state[item];\r\n            }\r\n            for (const name in inventory) {\r\n                state[name] = inventory[name];\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n    addItem,\r\n    addItemByName,\r\n    changeWeaponName,\r\n    editWeapon,\r\n    editArmour,\r\n    removeItem,\r\n    editDescription,\r\n    editCategory,\r\n    importInventory\r\n} = inventorySlice.actions\r\nexport default inventorySlice.reducer\r\n\r\n","import {\r\n    Alert,\r\n    Badge,\r\n    Button,\r\n    Card,\r\n    Col, Container,\r\n    Dropdown, DropdownButton,\r\n    FormControl,\r\n    InputGroup,\r\n    OverlayTrigger,\r\n    Row,\r\n    Tooltip\r\n} from \"react-bootstrap\";\r\nimport {\r\n    BiCrosshair,\r\n    BiQuestionMark, FaDiceD20,\r\n    GiAncientSword,\r\n    GiArrowScope, GiBulletImpacts,\r\n    GiChainsaw, GiElectric,\r\n    GiLaserPrecision,\r\n    GiMachineGunMagazine,\r\n    GiPistolGun,\r\n    GiReloadGunBarrel,\r\n    GiShieldImpact,\r\n    GiWeight,\r\n    IoMdCheckmarkCircle\r\n} from \"react-icons/all\";\r\nimport React, { useState } from \"react\";\r\nimport './weaponCard.scss';\r\nimport { EWeaponCategory, EDamageType, IWeapon, removeWeapon } from \"./armourySlice\";\r\nimport { addItem, editWeapon, changeWeaponName } from \"../inventory/inventorySlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport {\r\n    IDamageRoll,\r\n    IRollResult,\r\n    IStatRoll,\r\n    rollAimAndSendToDiscord,\r\n    rollDamageAndSendToDiscord,\r\n    rollStatAndSendToDiscord\r\n} from \"../character/Rolls\";\r\nimport { getHitLocation } from \"./armoury\";\r\n\r\n\r\nexport const WeaponCard = ({ weapon, editMode = false }: { weapon: IWeapon, editMode?: boolean }) => {\r\n    const [newName, setNewName] = useState(weapon.name);\r\n\r\n    const weaponEquipped = useAppSelector(state => state.armoury.weapons[weapon.name]);\r\n    const character = useAppSelector(state => state.character);\r\n    const characteristics = useAppSelector(state => state.characteristics);\r\n    const [testModifier, setTestModifier] = useState(10);\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [text, setText] = useState('');\r\n    const [variant, setVariant] = useState('success');\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n\r\n    function getJSXForWeaponCategory(cat: EWeaponCategory) {\r\n        switch (cat) {\r\n            case EWeaponCategory.SWORD:\r\n                return <GiAncientSword/>;\r\n            case EWeaponCategory.PISTOL:\r\n                return <GiPistolGun/>\r\n            case EWeaponCategory.CHAIN:\r\n                return <GiChainsaw/>\r\n        }\r\n        return <BiQuestionMark/>\r\n    }\r\n\r\n\r\n    function getJSXForWeaponType(weaponType: EDamageType) {\r\n        switch (weaponType) {\r\n            case EDamageType.IMPACT:\r\n                return <GiBulletImpacts/>\r\n            case EDamageType.RENDING:\r\n                return <GiChainsaw/>\r\n            case EDamageType.SCHOCK:\r\n                return <GiElectric/>\r\n            case EDamageType.LASER:\r\n                return <GiLaserPrecision/>\r\n\r\n        }\r\n\r\n        return <BiQuestionMark/>;\r\n    }\r\n\r\n    function getWeaponTypeDropdown() {\r\n        return <Dropdown>\r\n            <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                {getJSXForWeaponCategory(weapon.weaponCategory)}\r\n            </Dropdown.Toggle>\r\n\r\n            <Dropdown.Menu>\r\n                {Object.values(EWeaponCategory).map((value, index) => {\r\n                        // @ts-ignore\r\n                        const e = EWeaponCategory[index]\r\n                        return e ? <Dropdown.Item\r\n                            key={`category-dropdown-${e}`}\r\n                            onClick={() => {\r\n                                dispatch(editWeapon({ ...weapon, weaponCategory: index }))\r\n                            }}>{e}</Dropdown.Item> : null\r\n                    }\r\n                )}\r\n            </Dropdown.Menu>\r\n        </Dropdown>\r\n    }\r\n\r\n    function getWeightField(col = 2) {\r\n        return editMode ?\r\n            <Col md={col}> <GiWeight/> <FormControl size={\"sm\"}\r\n                                                    value={weapon.weight}\r\n                                                    placeholder={\"1\"}\r\n                                                    aria-label=\"Weight\"\r\n                                                    onChange={(event) => dispatch(editWeapon({\r\n                                                        ...weapon,\r\n                                                        weight: parseInt(event.target.value)\r\n                                                    }))}/> </Col>\r\n            : <Col md={col}> <GiWeight/> {weapon.weight} </Col>\r\n    }\r\n\r\n\r\n    function getDamageField() {\r\n        return editMode ?\r\n            <Col md={4}>\r\n                Damage\r\n                <FormControl size={\"sm\"}\r\n                             value={weapon.damage}\r\n                             placeholder={\"xd10+y\"}\r\n                             aria-label=\"Damage in Form xd10 + y\"\r\n                             onChange={(event) => dispatch(editWeapon({ ...weapon, damage: event.target.value }))}/>\r\n                <div>\r\n                    <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                           onClick={() => dispatch(editWeapon({\r\n                               ...weapon,\r\n                               pen: weapon.pen ? weapon.pen + 1 : 1\r\n                           }))}>+</Badge>\r\n                    <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {weapon.pen ? weapon.pen : 0} </Badge>\r\n                    <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                           onClick={() => dispatch(editWeapon({\r\n                               ...weapon,\r\n                               pen: weapon.pen ? Math.max(weapon.pen - 1, 0) : 0\r\n                           }))}>-</Badge>\r\n                </div>\r\n\r\n                <Dropdown>\r\n                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                        {getJSXForWeaponType(weapon.type)}\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                        {Object.values(EDamageType).map((value, index) => {\r\n                                // @ts-ignore\r\n                                const e = EDamageType[index]\r\n                                return e ? <Dropdown.Item\r\n                                    key={`category-dropdown-${e}`}\r\n                                    onClick={() => {\r\n                                        dispatch(editWeapon({ ...weapon, type: index }))\r\n                                    }}\r\n                                >{e}</Dropdown.Item> : null\r\n                            }\r\n                        )}\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n\r\n            </Col>\r\n            : <Col md={4}>{weapon.damage} <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {weapon.pen}\r\n            </Badge> </Col>\r\n    }\r\n\r\n    function getRangeField() {\r\n        return editMode ?\r\n            <Col> <GiArrowScope/> Range<FormControl size={\"sm\"}\r\n                                                    placeholder={\"30\"}\r\n                                                    value={weapon.range}\r\n                                                    aria-label=\"Range in m\"\r\n                                                    onChange={(event) => dispatch(editWeapon({\r\n                                                        ...weapon,\r\n                                                        range: parseInt(event.target.value)\r\n                                                    }))}/>\r\n                Rate of Fire\r\n                <FormControl size={\"sm\"}\r\n                             value={weapon.rof}\r\n                             placeholder={\"s/-/6\"}\r\n                             aria-label=\"Rate of Fire\"\r\n                             onChange={(event) => dispatch(editWeapon({ ...weapon, rof: event.target.value }))}/>\r\n            </Col>\r\n            : <Col> <GiArrowScope/> {weapon.range}m - {weapon.rof} </Col>\r\n    }\r\n\r\n    function getMagazineField() {\r\n        return editMode ?\r\n            <Col> <GiMachineGunMagazine/> Magazine <FormControl size={\"sm\"}\r\n                                                                value={weapon.clip}\r\n                                                                placeholder={\"8\"}\r\n                                                                aria-label=\"Magazine\"\r\n                                                                onChange={(event) => dispatch(editWeapon({\r\n                                                                    ...weapon,\r\n                                                                    clip: parseInt(event.target.value)\r\n                                                                }))}/>\r\n                <GiReloadGunBarrel/> Reload <FormControl size={\"sm\"}\r\n                                                         value={weapon.rld}\r\n                                                         placeholder={\"FULL | HALF\"}\r\n                                                         aria-label=\"Magazine\"\r\n                                                         onChange={(event) => dispatch(editWeapon({\r\n                                                             ...weapon,\r\n                                                             rld: event.target.value\r\n                                                         }))}/>\r\n\r\n            </Col>\r\n            : <Col> <GiMachineGunMagazine/> {weapon.clip} <GiReloadGunBarrel/> {weapon.rld} </Col>\r\n    }\r\n\r\n    function getRemoveFromArmoury() {\r\n        return weaponEquipped ?\r\n            <Col md={1}>\r\n                <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                       onClick={() => {\r\n                           dispatch(removeWeapon(weapon));\r\n                           dispatch(addItem(weapon))\r\n                       }}>-\r\n                </Badge>\r\n            </Col> : <></>\r\n    }\r\n\r\n    function getNameField() {\r\n        return <Col>\r\n            <OverlayTrigger\r\n                key={`weaponCardTooltip-${weapon.name}`}\r\n                overlay={\r\n                    <Tooltip\r\n                        id={`tooltip-${weapon.name}`}>{weapon.description ? weapon.description : \"Add description\"}</Tooltip>\r\n                }>\r\n                {editMode ? <Row>\r\n                        {!isMeeleWeapon() ?\r\n                            <Col md={4}>\r\n                                {getWeaponTypeDropdown()}\r\n                            </Col>\r\n                            : <></>\r\n                        }\r\n                        <Col>\r\n                            {isMeeleWeapon() ? getWeaponTypeDropdown() : <></>}\r\n                            <InputGroup>\r\n                                <FormControl size={\"sm\"}\r\n                                             value={newName}\r\n                                             placeholder={\"Description\"}\r\n                                             aria-label=\"Description\"\r\n                                             onChange={(event) => setNewName(event.target.value)}/>\r\n                                <InputGroup.Append>\r\n                                    <Button size={\"sm\"}\r\n                                            placeholder={\"Name\"}\r\n                                            onClick={(event) => {\r\n                                                dispatch(changeWeaponName({\r\n                                                    ...weapon,\r\n                                                    name: newName,\r\n                                                    oldName: weapon.name\r\n                                                }))\r\n                                            }}>\r\n                                        <IoMdCheckmarkCircle cursor={\"pointer\"} color={\"white\"}/>\r\n                                    </Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    :\r\n                    <div>{getJSXForWeaponCategory(weapon.weaponCategory)} {getJSXForWeaponType(weapon.type)} {weapon.name}</div>\r\n                }\r\n\r\n            </OverlayTrigger>\r\n        </Col>\r\n    }\r\n\r\n    function getRollDice() {\r\n        const characteristic = isMeeleWeapon() ? characteristics[\"WS\"] : characteristics[\"BS\"];\r\n        const dropItems = [<Dropdown.Header key={`aim-header-${weapon.name}`}>Aim Modifier</Dropdown.Header>];\r\n\r\n        // dropItems.push();\r\n        for (let i = 60; i > -70; i -= 10) {\r\n            dropItems.push(<Dropdown.Item key={`${weapon.name}-modifier-${i}`} onClick={() => setTestModifier(i)}>{i}</Dropdown.Item>);\r\n        }\r\n\r\n        return <Row>\r\n            <Col>\r\n                <DropdownButton size=\"sm\" title={testModifier} variant={'secondary'}>\r\n                    {dropItems}\r\n                </DropdownButton>\r\n            </Col>\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => showAimAlert(rollAimAndSendToDiscord(character.discord[character.discord.active], character.characterName, characteristic, testModifier))}\r\n                >\r\n                    <BiCrosshair style={{ cursor: \"pointer\" }}\r\n                    /> Aim\r\n                </Button>\r\n            </Col>\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => showDamageAlert(rollDamageAndSendToDiscord(character.discord[character.discord.active], character.characterName, weapon))}\r\n                >\r\n                    <FaDiceD20 color={\"darkred\"}\r\n                               style={{ cursor: \"pointer\" }}\r\n                    /> Damage\r\n                </Button>\r\n            </Col>\r\n        </Row>;\r\n    }\r\n\r\n    function showAimAlert(rollResult: IStatRoll) {\r\n        setVariant(rollResult.result ? 'success' : 'danger');\r\n        setShow(true);\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`Stat ${rollResult.characteristics.value + rollResult.modifier} Rolled ${rollResult.rollSum} = Test ${rollResult.result ? 'success' : 'failed'} \r\n        ${getHitLocation(rollResult.rollSum)}`)\r\n    }\r\n\r\n    function showDamageAlert(rollResult: IDamageRoll) {\r\n        setShow(false);\r\n        setShow(true);\r\n        setVariant('info')\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`Damage: ${rollResult.rollSum + rollResult.damage} - Pen: ${rollResult.pen} - Rolls: ${JSON.stringify(rollResult.rolls)}`)\r\n    }\r\n\r\n    function isMeeleWeapon() {\r\n        return weapon.weaponCategory > EWeaponCategory._\r\n    }\r\n\r\n    function getWeaponCard() {\r\n        if (isMeeleWeapon()) {\r\n            return getWeaponCardMeele()\r\n        } else {\r\n            return getWeaponCardRange()\r\n        }\r\n    }\r\n\r\n    function getWeaponCardMeele() {\r\n        return <Card key={`weaponCard${weapon.name}`}>\r\n            <Card.Header>\r\n                <Row>\r\n                    {getNameField()}\r\n                    {getDamageField()}\r\n                    {getWeightField()}\r\n                    {getRemoveFromArmoury()}\r\n                </Row>\r\n            </Card.Header>\r\n            <Card.Body style={{ padding: 10 }}>\r\n                {getRollDice()}\r\n                <Alert onClose={() => setShow(false)} show={show} variant={variant}>\r\n                    {text}\r\n                </Alert>\r\n            </Card.Body>\r\n        </Card>;\r\n    }\r\n\r\n\r\n    function getWeaponCardRange() {\r\n        return <Card key={`weaponCard${weapon.name}`}>\r\n            <Card.Header>\r\n                <Row>\r\n                    {getNameField()}\r\n                    {getDamageField()}\r\n                    {getWeightField()}\r\n                    {getRemoveFromArmoury()}\r\n                </Row>\r\n            </Card.Header>\r\n            <Card.Body style={{ padding: 5 }}>\r\n                <Row>\r\n                    {getRangeField()}\r\n                    {getMagazineField()}\r\n                </Row>\r\n                {getRollDice()}\r\n                <Alert onClose={() => setShow(false)} show={show} variant={variant}>\r\n                    {text}\r\n                </Alert>\r\n            </Card.Body>\r\n        </Card>;\r\n    }\r\n\r\n    return getWeaponCard()\r\n\r\n}\r\n","import { ISkill } from \"../skills/skillSlice\";\r\nimport { EDamageType, ISpell, IWeapon } from \"../armoury/armourySlice\";\r\nimport { ICharacteristics } from \"../characteristics/characteristicsSlice\";\r\nimport { getHitLocation } from \"../armoury/armoury\";\r\n\r\nenum ERollType {\r\n    NONE,\r\n    TEST,\r\n    STAT,\r\n    INIT,\r\n    DAMAGE,\r\n    AIM\r\n}\r\n\r\nexport interface IRollResult {\r\n    rollType: ERollType,\r\n    rolls: number[],\r\n    rollSum: number,\r\n    amount: number,\r\n    limit: number,\r\n}\r\n\r\nexport interface IStatRoll extends IRollResult {\r\n    characteristics: ICharacteristics,\r\n    modifier: number,\r\n    result?: boolean,\r\n}\r\n\r\nexport interface ITestRoll extends IRollResult {\r\n    stat?: number,\r\n    level?: number,\r\n    sum?: number,\r\n    result?: boolean,\r\n}\r\n\r\nexport interface IDamageRoll extends IRollResult {\r\n    damage: number,\r\n    type: EDamageType,\r\n    pen: number,\r\n\r\n}\r\n\r\nexport interface IInitRoll extends IRollResult {\r\n    bonus: number,\r\n}\r\n\r\nexport function rollTestAndSendToDiscord(discordServer: string, username: string, characteristics: number, skill?: ISkill, amount: number = 1, limit: number = 100, bonus: number = 0): IRollResult {\r\n    const rollResult = rollTest(characteristics, amount, limit, bonus, skill);\r\n    const message = skill ? `tried ${skill.name} Test` : \"\"\r\n\r\n    sendMessage(discordServer, message, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollAndSendToDiscord(discordServer: string, username: string, amount: number = 1, limit: number = 100) {\r\n    const rollResult = roll(amount, limit);\r\n    sendMessage(discordServer, ` made custom roll`, getEmbedsForRollType(rollResult), username);\r\n    return rollResult;\r\n}\r\n\r\nexport function rollDamageAndSendToDiscord(discordServer: string, username: string, weapon: IWeapon | ISpell): IDamageRoll {\r\n\r\n    // Damage Calc\r\n    const d = weapon.damage.split(\"d\")\r\n    const amount = parseInt(d[0]);\r\n    const limit = parseInt(d[1].split(\"+\")[0]);\r\n    const damage = parseInt(d[1].split(\"+\")[1]);\r\n\r\n    const rollResult: IDamageRoll = { ...roll(amount, limit), rollType: ERollType.DAMAGE, ...weapon, damage };\r\n\r\n    sendMessage(discordServer, `attacks with ${weapon.name} `, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollInitAndSendToDiscord(discordServer: string, username: string, bonus: number, amount: number = 1, limit: number = 100): IRollResult {\r\n    const rollResult: IInitRoll = { ...roll(amount, limit), rollType: ERollType.INIT, bonus };\r\n\r\n    sendMessage(discordServer, \"rolled Init\", getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollStatAndSendToDiscord(discordServer: string, username: string, characteristics: ICharacteristics, modifier: number = 0, amount: number = 1, limit: number = 100): IRollResult {\r\n    const rollResult: IStatRoll = { ...roll(amount, limit), rollType: ERollType.STAT, characteristics, modifier };\r\n    rollResult.result = rollResult.rollSum < characteristics.value + rollResult.modifier;\r\n\r\n    sendMessage(discordServer, `rolled for ${characteristics.name}`, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollAimAndSendToDiscord(discordServer: string, username: string, characteristics: ICharacteristics, modifier: number = 0, amount: number = 1, limit: number = 100): IStatRoll {\r\n    const rollResult: IStatRoll = { ...roll(amount, limit), rollType: ERollType.AIM, characteristics, modifier };\r\n    rollResult.result = rollResult.rollSum < characteristics.value + rollResult.modifier;\r\n\r\n    sendMessage(discordServer, `rolled for ${characteristics.name}`, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\n\r\nfunction getEmbedsForRollType(roll: IRollResult) {\r\n    const colorCodeRed = 14159922;\r\n    const colorCodeGreen = 4113681;\r\n\r\n    switch (roll.rollType) {\r\n        case ERollType.NONE: {\r\n            const rollResult = roll\r\n            return [{\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.INIT: {\r\n            const rollResult = roll as IInitRoll\r\n            return [{\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Roll\", value: `${rollResult.rolls}`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum} ${rollResult.bonus < 0 ? rollResult.bonus : `+ ${rollResult.bonus}`} = **${rollResult.rollSum + rollResult.bonus}**`, inline: true},\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.TEST: {\r\n            const rollResult = roll as ITestRoll;\r\n            const r = rollResult.result ? '>' : '<';\r\n            return [\r\n                {\r\n                    color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                    fields: [\r\n                        { name: \"Roll\", value: `${rollResult.amount}d${ rollResult.limit }`, inline: true },\r\n                        { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                        { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                        { name: \"Stat\", value: `${rollResult.stat}`, inline: true },\r\n                        { name: \"Level\", value: `${rollResult.level}`, inline: true },\r\n                        { name: \"Sum\", value: `${rollResult.sum}`, inline: true },\r\n                        { name: \"**Result**\", value: `${rollResult.sum} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}` },\r\n\r\n                    ],\r\n                },\r\n            ]\r\n        }\r\n        case ERollType.DAMAGE: {\r\n            const rollResult = roll as IDamageRoll\r\n            return [\r\n                {\r\n                    fields: [\r\n                        { name: \"Roll\", value: `${rollResult.amount}d${ rollResult.limit }`, inline: true },\r\n                        { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                        { name: \"Damage\", value: `${rollResult.damage}`, inline: true },\r\n                        { name: \"Sum\", value: `**${rollResult.rollSum + rollResult.damage}**`, inline: true },\r\n                        { name: \"Pen\", value: `${rollResult.pen}`, inline: true },\r\n                        { name: \"Type\", value: `${EDamageType[rollResult.type]}`, inline: true },\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n        case ERollType.STAT: {\r\n            const rollResult = roll as IStatRoll\r\n            const r = rollResult.result ? '>' : '<';\r\n            return [{\r\n                color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${ rollResult.limit }`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                    { name: \"Stat\", value: `${rollResult.characteristics.value} ${rollResult.modifier < 0 ? rollResult.modifier : `+${rollResult.modifier}`}`, inline: true },\r\n                    { name: \"**Result**\",value: `${rollResult.characteristics.value + rollResult.modifier} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}` },\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.AIM: {\r\n            const rollResult = roll as IStatRoll\r\n            const r = rollResult.result ? '>' : '<';\r\n            return [{\r\n                color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${ rollResult.limit }`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                    { name: \"Stat\", value: `${rollResult.characteristics.value} ${rollResult.modifier < 0 ? rollResult.modifier : `+${rollResult.modifier}`}`, inline: true },\r\n                    { name: \"**Result**\",value: `${rollResult.characteristics.value + rollResult.modifier} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}` },\r\n                    { name: \"Hit Location\", value: `${getHitLocation(rollResult.rollSum)}` },\r\n                ]\r\n            }]\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction sendMessage(discord: string, message: string, embeds: any, username?: string) {\r\n    console.log(JSON.stringify({\r\n        username: username,\r\n        content: message,\r\n        embeds: embeds\r\n    }));\r\n    fetch(discord,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                username: username,\r\n                content: message,\r\n                embeds: embeds\r\n            })\r\n        });\r\n\r\n}\r\n\r\nexport function getRndInteger(min: number, max: number) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction roll(amount: number, limit: number): IRollResult {\r\n    const rollResult: ITestRoll = { rollType: ERollType.NONE, rolls: [], rollSum: 0, amount, limit };\r\n    for (let count = 0; count < rollResult.amount; count++) {\r\n        const roll = getRndInteger(0, rollResult.limit);\r\n        rollResult.rolls[count] = roll;\r\n        rollResult.rollSum += roll;\r\n    }\r\n    return rollResult\r\n}\r\n\r\n\r\nfunction rollTest(characteristics: number, amount: number, limit: number, bonus: number, skill?: ISkill): IRollResult {\r\n    const rollResult: ITestRoll = roll(amount, limit);\r\n    rollResult.rollType = ERollType.TEST\r\n\r\n    rollResult.stat = characteristics + bonus + (skill?.bonus ? skill?.bonus : 0);\r\n    rollResult.level = skill ? (skill.level === 0 ? -20 : (skill.level - 1) * 10) : 0\r\n    rollResult.sum = rollResult.level + rollResult.stat;\r\n    rollResult.result = rollResult.rollSum - rollResult.sum < 0\r\n\r\n    return rollResult\r\n}\r\n\r\n\r\n","import { Badge, Button, Card, Col, OverlayTrigger, Row, Tooltip } from \"react-bootstrap\";\r\nimport { ISpell } from \"./armourySlice\";\r\nimport { FaDiceD20, FcElectricity, GiArrowScope, GiShieldImpact, RiFocus3Line } from \"react-icons/all\";\r\nimport React from \"react\";\r\nimport { rollDamageAndSendToDiscord } from \"../character/Rolls\";\r\nimport { useAppSelector } from \"../../general/hooks\";\r\n\r\n\r\nexport const SpellCard = ({ spell }: { spell: ISpell }) => {\r\n\r\n    const character = useAppSelector(state => state.character);\r\n\r\n    return <Card>\r\n        <Card.Header>\r\n            <OverlayTrigger\r\n                key={`spellCardTooltip-${spell.name}`}\r\n                overlay={\r\n                    <Tooltip\r\n                        id={`tooltip-${spell.name}`}>{spell.description ? spell.description : \"Add description\"}</Tooltip>\r\n                }>\r\n                <div>\r\n                    <FcElectricity/>{spell.name}\r\n                </div>\r\n            </OverlayTrigger>\r\n        </Card.Header>\r\n        <Card.Body>\r\n            <Row>\r\n                <Col>{spell.damage} <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {spell.pen} </Badge> </Col>\r\n                <Col> <GiArrowScope/> {spell.range} </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col><RiFocus3Line/> {spell.focusPower}</Col>\r\n                <Col>Sustained: {spell.sustained ? \"Yes\" : \"No\"}</Col>\r\n            </Row>\r\n\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => rollDamageAndSendToDiscord(character.discord[character.discord.active], character.characterName, spell)}>\r\n                    <FaDiceD20 color={\"darkred\"}\r\n                               style={{ cursor: \"pointer\" }}\r\n                    /> Damage\r\n                </Button>\r\n            </Col>\r\n\r\n        </Card.Body>\r\n    </Card>\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods, godStringMap } from \"../talents/talentSlice\";\r\nimport { ETabNames } from \"./ETabNames\";\r\n\r\ninterface ICharacterState {\r\n    characterName: string,\r\n    devotion?: EGods,\r\n    discord: {\r\n        active: string,\r\n        prod: string,\r\n        debug: string,\r\n        [key: string]: string,\r\n    }\r\n    layout: {\r\n        left: number[],\r\n        main: number[],\r\n        right: number[],\r\n        [key: string]: number[]\r\n    },\r\n}\r\n\r\nexport const characterSlice = createSlice({\r\n    name: 'character',\r\n    initialState: {\r\n        characterName: 'Character Name',\r\n        discord: {\r\n            active: 'prod',\r\n            prod: '',\r\n            debug: '',\r\n\r\n        },\r\n        layout: {\r\n            left: [ETabNames.SEARCH],\r\n            main: [ETabNames.CHARACTERISTICS, 1, 2, 3, 4, 5],\r\n            right: [ETabNames.EXPERIENCE]\r\n        },\r\n    } as ICharacterState,\r\n    reducers: {\r\n        importCharacter: (state, action) => {\r\n            const { characterName, discord, layout, devotion } = action.payload\r\n            state.characterName = characterName;\r\n            state.discord = discord;\r\n            state.layout = layout;\r\n            state.devotion = devotion;\r\n        },\r\n        setCharacterName: (state, action) => {\r\n            state.characterName = action.payload;\r\n        },\r\n        setDiscordServer: (state, action) => {\r\n            state.discord.prod = action.payload\r\n        },\r\n        setDiscordServerDebug: (state, action) => {\r\n            state.discord.debug = action.payload\r\n        },\r\n        setDiscordActive: (state, action) => {\r\n            state.discord.active = action.payload\r\n        },\r\n        setDevotion: (state, action: PayloadAction<string>) => {\r\n            state.devotion = godStringMap[action.payload]\r\n        },\r\n        setLayout: (state, action) => {\r\n            console.log(action.payload)\r\n            state.layout = action.payload\r\n        },\r\n        changeLayout: (state, action: PayloadAction<{field: string, index: number}>) => {\r\n            const {field, index} = action.payload;\r\n\r\n            if (state.layout.left.indexOf(index) >= 0) { state.layout.left.splice(state.layout.left.indexOf(index), 1) }\r\n            if (state.layout.main.indexOf(index) >= 0) { state.layout.main.splice(state.layout.main.indexOf(index), 1) }\r\n            if (state.layout.right.indexOf(index) >= 0) { state.layout.right.splice(state.layout.right.indexOf(index), 1) }\r\n\r\n            state.layout[field].push(index);\r\n            state.layout[field].sort();\r\n\r\n        }\r\n    },\r\n});\r\n\r\nexport const { importCharacter, setCharacterName, setDiscordActive, setDiscordServer, setDiscordServerDebug, setDevotion, setLayout, changeLayout } = characterSlice.actions\r\nexport default characterSlice.reducer\r\n","import { Badge, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { useAppSelector } from \"../../general/hooks\";\r\nimport React from \"react\";\r\nimport { ITalent } from \"./talentSlice\";\r\n\r\n\r\nexport const TalentEntryFunction = ({\r\n                                        name = 'TALENTNAME',\r\n                                        setActiveTalent\r\n                                    }: { name: string, setActiveTalent: React.Dispatch<React.SetStateAction<ITalent>> }) => {\r\n    const talents = useAppSelector(state => state.talents);\r\n    // const dispatch = useAppDispatch()\r\n\r\n    const talent = talents[name];\r\n\r\n    function getTierDescription(tier: number) {\r\n        switch (tier) {\r\n            case -2: return \"Reward\";\r\n            case -1: return \"Gift\";\r\n            case 0: return \"Trait\";\r\n            default: return `T${tier}`;\r\n        }\r\n    }\r\n\r\n    return <OverlayTrigger\r\n        key={`talent-${talent.name}`}\r\n        placement={'bottom'}\r\n        overlay={\r\n            <Tooltip id={`tooltip-${talent.name}`}>\r\n                {talent.description}\r\n            </Tooltip>\r\n        }\r\n    >\r\n        <div onClick={() => setActiveTalent(talent)}>\r\n            <Badge>{`${getTierDescription(talent.tier)} ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>\r\n\r\n            {/*{talent.tier === 0*/}\r\n            {/*    ? <Badge>{`Trait ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*    : talent.tier === -1 ? <Badge>{`Gift ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*        : <Badge>{`T${talent.tier} ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*}*/}\r\n        </div>\r\n    </OverlayTrigger>\r\n\r\n}\r\n","import { WeaponCard } from \"./weaponCard\";\r\nimport {\r\n    Badge,\r\n    Button,\r\n    Card,\r\n    Col,\r\n    Dropdown,\r\n    DropdownButton,\r\n    FormControl,\r\n    FormGroup,\r\n    FormLabel,\r\n    OverlayTrigger,\r\n    ProgressBar,\r\n    Row,\r\n    Tooltip\r\n} from \"react-bootstrap\";\r\nimport React, { useState } from \"react\";\r\nimport \"./armoury.scss\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addItem } from \"../inventory/inventorySlice\";\r\nimport { ISpell, IWeapon, removeGear, setMaxWounds, setWounds } from \"./armourySlice\";\r\nimport { SpellCard } from \"./spellCard\";\r\nimport { BiTargetLock, FaDiceD20, IoReloadCircle } from \"react-icons/all\";\r\nimport { rollInitAndSendToDiscord } from \"../character/Rolls\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\nimport { addTalent, removeTalent, EGods } from \"../talents/talentSlice\";\r\nimport { setDevotion } from \"../character/characterSlice\";\r\nimport { TalentEntryFunction } from \"../talents/talentEntry\";\r\nimport { allTalents } from \"../character/resources\";\r\nimport { ICharacteristics, incrementBonus } from \"../characteristics/characteristicsSlice\";\r\n\r\nexport const Armoury = () => {\r\n\r\n    const imageHead = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M257.375%2032.03C139.957%2087.197%2042.343%20247.886%2017.5%20367.75c71.742%200%20124.22%2022.845%20162.094%2063.03l10.47-11.436c-28.06-28.873-64.935-52.446-113.564-75.906%2026.142-65.033%2066.028-163.458%20116.72-169.188%2019.835-2.243%2041.05%209.735%2064.155%2043.438%2072.33-120.27%20141.014%2038.54%20180.875%20125.75-47.687%2025.854-84.5%2049.463-112.97%2078.718l9.25%2010.406c37.335-39.758%2089.657-64.812%20162.72-64.812C467.784%20249.384%20377.24%2090.37%20257.375%2032.03zm-79.72%20243.314c-15.3-.083-26.405%206.436-26.405%2016.656%200%2012.58%2016.834%2026.038%2037.594%2030.063%2020.76%204.024%2037.594-2.92%2037.594-15.5s-16.835-26.038-37.594-30.063c-3.893-.755-7.657-1.137-11.188-1.156zm156.345%200c-3.53.02-7.295.4-11.188%201.156-20.76%204.025-37.593%2017.483-37.593%2030.063%200%2012.58%2016.833%2019.524%2037.592%2015.5%2020.76-4.025%2037.594-17.484%2037.594-30.063%200-10.22-11.105-16.74-26.406-16.656z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageBody = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(-1%2C-7)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M208%2056.643l-16%2064-98.568%2014.082L256%20175.365l162.568-40.64L320%20120.643l-16-64-27.268%2018.18-12.002%2048.003h-17.46l-12.002-48.004zm-138.621%2090.62L16%20200.644l48%2064%2025.77-25.77%2026.619-79.857zm373.242%200l-47.01%2011.753%2026.62%2079.857L448%20264.643l48-64zm-308.717%2016.132l-20.123%2060.369%2013.81%2055.246L247%20345.348V191.67zm244.192%200L265%20191.67v153.678l119.408-66.338%2013.81-55.246zM144%20308.715v56.314l103%2030.627v-29.719zm224%200l-103%2057.223v29.718l103-30.627zm-224%2075.54v56.388l103%2014.714V414.88zm224%200L265%20414.88v40.478l103-14.714z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageArmL = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(-1%2C-7)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M256%2026C192%2058%20112%2080%2032%2080c0%2046.047%204.726%2089.503%2013.02%20129.69%2025.495-2.558%2053.13-2.433%2081.86-1.06l-7.61-30.446-2.022-8.086%2065.898-21.967%2010.866%2065.194c28.32%202.336%2056.907%204.82%2084.9%206.238%2014.357-4.67%2028.073-8.33%2040.43-14.36l7.78-46.682%201.732-10.39%2065.898%2021.968-9.578%2038.316c9.207%204.926%2020.403%2014.91%2023.97%2022.346%203.352%207.302%202.696%2015.333.256%2024.154%202.27%206.21%202.31%2012.947.43%2019.287-1.65%205.57-4.95%2010.974-9.844%2014.974.41%2010.106-5.414%2019.52-14.597%2023.353-5.045%2010.42-15.085%2022.05-25.146%2025.678a35.325%2035.325%200%200%201-7.943%201.7l-10.29%2041.16-47.98-23.99%207.107-42.647c-7.178-2.867-14.753-6.176-23.147-9.758-22.506%202.868-45.05%205.7-67.385%208.213l7.366%2044.193-47.98%2023.99-15.668-62.668c-25.372%202.034-50.16%203.29-73.943%203.288C126.423%20426.23%20197.21%20490%20256%20490c96%200%20224-170%20224-410-80%200-160-22-224-54zm-87.146%20145.87l-30.102%2010.034%2043.258%20173.028%2016.02-8.008-29.176-175.055zm174.292%200l-3.927%2023.562c9.757-4.082%2021.374-8.826%2031.514-3.473l2.514-10.058-30.102-10.033zm17.692%2035.696c-5.508.754-15.244%204.655-25.35%209.72-18.843%2011.052-35.297%2013.47-53.963%2020.448-29.314-1.518-59.264-3.89-84.43-5.912l10.538%2063.23c25.773-2.928%2050.59-5.99%2072.93-8.845%208.035%203.372%2016.415%207.06%2023.603%2010.05l5.156-30.943-.492-16.046c31.396-.965%2040.955-17.8%2046.625-26.14%202.25-3.306%204.94-9.64%205.424-13.554.162-1.32.03-1.567-.042-2.008zm14.598%2016.305c-2.703%205.724-5.283%209.687-7.97%2014.567%207.198%203.907%2015.487%205.786%2025.923%206.215.426-2.995.116-4.813-.605-6.382-1.195-2.604-5.27-6.648-13.826-12.715-1.51-.91-2.674-1.404-3.524-1.684zm-284.63%202.026c-22.55-.09-43.69%201.063-62.732%204.256-10.604%2021.43-9.975%2044.448%201.57%2071.08%2036.332%203.616%2077.178%202.643%20120.223-.662l-18.35-73.406c-13.955-.738-27.575-1.215-40.71-1.268zm263.41%2025.303a71.374%2071.374%200%200%201-5.972%204.34c2.293%209.34%2010.7%2011.83%2019.822%2013.91%207.76%201.73%2016.358%202.576%2023.13%202.802a14.133%2014.133%200%200%200%201.376-3.166c.653-2.202.702-4.555.38-6.48-14.655-.713-27.626-4.258-38.737-11.407zm-21.835%2012.025a73.26%2073.26%200%200%201-4.694%201.41l-2.053%2012.32a25.18%2025.18%200%200%201%208.056-10.383%2031.58%2031.58%200%200%201-1.31-3.347zm12.872%2017.345c-1.468.894-2.713%202.34-3.195%203.817-.638%201.953-1.09%203.368%201.755%205.533%203.645%202.138%209.51%204.437%2015.745%205.613%205.123.967%2010.54%201.276%2014.804%201.205l2.876-.467c1.974-.318%204.624-3.515%204.752-6.553-5.69-.506-11.804-1.355-17.836-2.7-6.592-1.47-13.14-3.327-18.9-6.447zm-21.23%206.04l-10.05%2060.314%2016.018%208.008%204.72-18.88c-9.425-5.795-14.6-14.962-14.468-23.888.085-5.812%202.58-11.444%206.653-15.617-1.686-3.174-2.65-6.586-2.872-9.936zm15.933%2021.91c-1.2.71-1.687%202-1.715%203.908-.04%202.678%201.262%206.588%208.574%209.61.664.133%203.335.59%207.618-.87%202.824-.963%206.072-2.797%209.226-6.81a108.078%20108.078%200%200%201-7.44-1.137c-5.542-1.045-11.13-2.444-16.263-4.7z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageArmR = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C-6)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M122.1%2017.52L186.6%20161l104.5-44.9-44.5-98.58h-51.1l35.8%2080.75-16.4%207.23-39-87.98zm265.2%2077.75L110.4%20215.2l12%2028.2%20278.1-119.8zm-69.7%2098.53l-23.9%2011.5c12.8%205.4%2026%2013.7%2038.3%2015.6%2018.1-13.1-4.9-30.5-14.4-27.1zm-60.7%2011.1l-36.2%2016.7c-11.9%2018.4-14.8%2046-18.2%2069.7%2020.6%2030.1%2030.5%2062.4%2039.5%2094%2017.9-3.7%2032.2-6.8%2048.7-11.5-24.4-38.7-42.2-78.4-53.6-118.9%200%200%205.6-10.5%208.4-15.8%2011.9%207.3%2024.9%2012.4%2036.6%209.9%2010-4.1%2021.5-7.9%2027.7-16.6-17.6-6.9-37.1-17.5-52.9-27.5zm92.6%2026.6c-10.8%205.8-23%2011.2-31.9%2018.9-5.3%204.7-12.1%208.8-20.5%2012.3%201.1%207.3-.1%2019.6%208.1%2018.8%2020.5-6.2%2040.5-15%2059.7-28.4-.1-9.2-8-24.1-15.4-21.6zm-90.2%2034.2c11.3%2034.8%2027.6%2069%2049.3%20102.6%204.7-1.6%209.3-3.3%2013.5-5-7.3-6.2-11.7-15.9-12-25.3-16.6-4.1-20.8-29.4-17.2-41.6-9.5-7-13.6-18.1-14.2-28.7-7.2.7-13.6-.1-19.4-2zm103.3%2010.4c-13.6%208.1-27.6%2014.3-41.6%2019.2l-9%204.4c-4.4%204.6-4.5%2015.6%201%2020.3%209.7%203.5%2050.1-21.2%2057.7-27.9%201.3-5.8-3.5-14.9-8.1-16zm-178.1%2021.2L19.1%20335.8V495c95.7-25.3%20146.9-47.1%20209.7-90.2-10.8-38-20.5-74.8-44.3-107.5zm187.8%2016.9c-13.6%2010.2-27.2%2016.2-42.9%2021.4-.4%206.7%202.5%2018.1%2012.1%2016%2019.9-4.3%2036.3-17.5%2036.6-24.6.2-3.7-2-10.5-5.8-12.8zm-7.5%2048.6c-14.3%208.2-31.5%2015.9-46.7%2021.4l18.7%2031.8%2039.3-18.8zm22.2%2049.1L342.9%20433l3.1%2021.9c15.1.5%2046.6-11.3%2055.4-26.1v-.1z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%20transform%3D%22translate(512%2C%200)%20scale(-1%2C%201)%20rotate(0%2C%20256%2C%20256)%20skewX(0)%20skewY(0)%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageLegR = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M269%2023.95l-87.7.1c1.1%2061.4-2.4%20116.05-14%20159.45-9%2034-23.6%2061.6-45.2%2079-.1%209.5-.8%2019-2.1%2028.6-3.1%2022.9-13.5%2043.2-22.75%2065%2023.55-1.3%2043.55-11.6%2065.35-24.8%2020.6-12.5%2042.4-27.5%2068.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2%204.1-83.2C243%20147.6%20257.9%2081.05%20269%2023.95zm-105.7.1H80.65c-1.6%2036.5%2010.1%2076.15%2021.65%20119.15%208.3%2030.4%2016.5%2062.3%2019%2095.7%2012.6-14.3%2021.8-34.4%2028.6-60%2010.8-40.6%2014.4-94.15%2013.4-154.85zm41.8%2014.9a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-2.4%2052.5a9%209%200%200%201%20.1%200%209%209%200%200%201%209%208.95%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-8.95zm-5.9%2056.25a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-16%2060.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-32%2048.1a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm85.7%2055.3c-22.6%209.6-42.3%2022.9-62.6%2035-24.6%2014.9-50.5%2027.9-81.85%2027.5-8.2%2022.7-13.8%2048-10%2079.9h82.35c13.2-41.4%2042.9-78%2095.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2%2046.7c-52.1%2026.2-80.4%2058.5-93.6%2095.7h127.4c0-14.3.6-29%203.9-43.6%202.6-11.5%207-22.9%2014-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8%2021.8c-8.2%2010.9-12.8%2022.3-15.5%2034.3-2.8%2012.5-3.5%2025.8-3.5%2039.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3%2010.5a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zm-254.05%2035a9%209%200%200%201%20.1%200%209%209%200%200%201%208.95%209%209%209%200%200%201-8.95%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm44.85.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm201.5.1a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zM72.05%20470v18.1H440V470z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%20transform%3D%22translate(512%2C%200)%20scale(-1%2C%201)%20rotate(0%2C%20256%2C%20256)%20skewX(0)%20skewY(0)%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageLegL = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M269%2023.95l-87.7.1c1.1%2061.4-2.4%20116.05-14%20159.45-9%2034-23.6%2061.6-45.2%2079-.1%209.5-.8%2019-2.1%2028.6-3.1%2022.9-13.5%2043.2-22.75%2065%2023.55-1.3%2043.55-11.6%2065.35-24.8%2020.6-12.5%2042.4-27.5%2068.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2%204.1-83.2C243%20147.6%20257.9%2081.05%20269%2023.95zm-105.7.1H80.65c-1.6%2036.5%2010.1%2076.15%2021.65%20119.15%208.3%2030.4%2016.5%2062.3%2019%2095.7%2012.6-14.3%2021.8-34.4%2028.6-60%2010.8-40.6%2014.4-94.15%2013.4-154.85zm41.8%2014.9a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-2.4%2052.5a9%209%200%200%201%20.1%200%209%209%200%200%201%209%208.95%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-8.95zm-5.9%2056.25a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-16%2060.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-32%2048.1a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm85.7%2055.3c-22.6%209.6-42.3%2022.9-62.6%2035-24.6%2014.9-50.5%2027.9-81.85%2027.5-8.2%2022.7-13.8%2048-10%2079.9h82.35c13.2-41.4%2042.9-78%2095.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2%2046.7c-52.1%2026.2-80.4%2058.5-93.6%2095.7h127.4c0-14.3.6-29%203.9-43.6%202.6-11.5%207-22.9%2014-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8%2021.8c-8.2%2010.9-12.8%2022.3-15.5%2034.3-2.8%2012.5-3.5%2025.8-3.5%2039.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3%2010.5a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zm-254.05%2035a9%209%200%200%201%20.1%200%209%209%200%200%201%208.95%209%209%209%200%200%201-8.95%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm44.85.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm201.5.1a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zM72.05%20470v18.1H440V470z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n\r\n    const stats = useAppSelector(state => state.characteristics);\r\n    const infamyStat = stats['INF'];\r\n    const toughnessStat = stats[\"T\"];\r\n    const agilityStat = stats[\"AG\"];\r\n    const armouryState = useAppSelector(state => state.armoury);\r\n    const character = useAppSelector(state => state.character);\r\n    const talents = useAppSelector(state => state.talents)\r\n    const experience = useAppSelector(state => state.experience)\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [agilityBonus, setAgilityBonus] = useState(2);\r\n\r\n    const agility = Math.floor(agilityStat.value / 10 + agilityStat.bonus + agilityBonus);\r\n    const armour = armouryState.armour;\r\n    const maxHealth = armouryState.character.maxWounds;\r\n    const maxInfamy: number = Math.floor(infamyStat.value / 10 + infamyStat.bonus);\r\n    const maxFatigue: number = Math.floor(toughnessStat.value / 10 + toughnessStat.bonus);\r\n\r\n    const [infamy, setInfamy] = useState(maxInfamy);\r\n    const [fatigue, setFatigue] = useState(0);\r\n    const [showTarget, setShowTarget] = useState(true);\r\n    const [maxWoundsEditable, setMaxWoundsEditable] = useState(false)\r\n\r\n    const health = armouryState.character.currentWounds;\r\n\r\n    function calcWoundLabel() {\r\n        const heavilyWounded = (health > (toughnessStat.value / 10 + toughnessStat.bonus) * 2) ? \"Heavy Wounded - \" : \"\";\r\n        return `${heavilyWounded}${health > maxHealth ? `CRIT: ${health - maxHealth}` : `${health}/${maxHealth}`}`;\r\n    }\r\n\r\n    const dropItems = [<Dropdown.Header key={`init-modifier-header`}>Init Modifier</Dropdown.Header>];\r\n    for (let i = 10; i > -10; i -= 1) {\r\n        dropItems.push(<Dropdown.Item key={`init-modifier-${i}`} onClick={() => setAgilityBonus(i)}>{i}</Dropdown.Item>);\r\n    }\r\n\r\n    function resetDevotion() {\r\n        const h = Object.entries(calcDevotion())\r\n            .filter(value => value[0] !== \"Unaligned\")\r\n            .sort((a, b) => b[1] - a[1])\r\n        ;\r\n\r\n\r\n// If the highest devotion is 5 greater than the second the character is aligned\r\n        if (h[0][1] - h[1][1] >= 5) {\r\n            const newDevotion = h[0][0];\r\n            if (newDevotion !== character.devotion) {\r\n                // Remove old Mark\r\n                dispatch(removeTalent(talents[`Mark of ${character.devotion}`]))\r\n                dispatch(setDevotion(newDevotion))\r\n            }\r\n            if (h[0][1] >= 20) {\r\n                if (!talents[`Mark of ${newDevotion}`]) { // Only grant once\r\n                    grantAdditionalBenefits(newDevotion);\r\n                    dispatch(addTalent(allTalents[`Mark of ${newDevotion}`]));\r\n                }\r\n            }\r\n        } else {\r\n            dispatch(setDevotion(\"Unaligned\"));\r\n            dispatch(removeTalent(talents[`Mark of ${character.devotion}`]))\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Additional Benefits:\r\n     * Khorne: The character gains the Resistance (Psychic Powers), Talent, the Brutal Charge Trait, and Unnatural Strength (+2)\r\n     * Nurgle: The character gains the Stuff of Nightmares and Unnatural Toughness (+1) Traits\r\n     * Slaanesh: The character gains the Heightened Senses (All) Talent and the Unnatural Fellowship (+2) Trait\r\n     * Tzeentch: The character gains the Unnatural Willpower (+1) Trait and the Psy Rating (+1) Talent\r\n     */\r\n    function grantAdditionalBenefits(devotion: string) {\r\n        switch (devotion) {\r\n            case EGods.NURGLE:\r\n                dispatch(addTalent(allTalents[\"The Stuff of Nightmares\"]));\r\n                grantUnnaturalStat(toughnessStat)\r\n                break;\r\n            case EGods.KHORNE:\r\n                dispatch(addTalent(allTalents[\"Brutal Charge\"]));\r\n                const name = \"Resistance\"\r\n                const t = talents[name] || allTalents[name]\r\n                dispatch(addTalent({...t, specialization: [\"Psychic Powers\" + t.specialization].join()}));\r\n                grantUnnaturalStat(stats[\"S\"], 2)\r\n                break;\r\n            case EGods.SLAANESH:\r\n                const ts = allTalents[\"Heightened Senses\"]\r\n                dispatch(addTalent({...ts, specialization: \"all\"}));\r\n                grantUnnaturalStat(stats[\"FEL\"], 2)\r\n                break;\r\n            case EGods.TZEENTCH:\r\n                const namet = \"Psy Rating\";\r\n                const tt = talents[namet] || allTalents[namet]\r\n                dispatch(addTalent({...tt, specialization: increaseSpecialization(tt.specialization)}));\r\n                grantUnnaturalStat(stats[\"WP\"])\r\n                break;\r\n            default: return\r\n        }\r\n\r\n    }\r\n\r\n    function grantUnnaturalStat(stat: ICharacteristics, amount: number = 1) {\r\n        const name = `Unnatural ${stat.name}`\r\n        let talent = talents[name];\r\n        if (talent) {\r\n            // Stat already present increase by one\r\n            talent = {...talent, specialization: increaseSpecialization(talent.specialization)}\r\n        } else {\r\n            talent = allTalents[\"Unnatural Characteristic\"];\r\n            talent = {...talent, name, specialization: \"1\"}\r\n        }\r\n        dispatch(addTalent(talent));\r\n        for (let i = 0; i < amount; i++) {\r\n            dispatch(incrementBonus(stat.short));\r\n        }\r\n    }\r\n\r\n    function increaseSpecialization(spec: string | undefined): string {\r\n        return \"\" + (parseInt(spec || \"0\") + 1);\r\n    }\r\n\r\n    function calcDevotion() {\r\n        const counts = {\r\n            [EGods.UNALIGNED]: 0,\r\n            [EGods.SPECIAL]: 0,\r\n            [EGods.KHORNE]: 0,\r\n            [EGods.SLAANESH]: 0,\r\n            [EGods.TZEENTCH]: 0,\r\n            [EGods.NURGLE]: 0,\r\n        }\r\n        Object.values(talents).flatMap(t => t.devotion)\r\n            .filter((v => v))\r\n            .forEach(value => counts[value]++);\r\n        // Only aligned Talent which can be taken multiple times\r\n        const t = talents[\"Sound Constitution\"]\r\n        if (t) {\r\n            for (let i = 1; i < parseInt(t.specialization || \"1\"); i++) {\r\n                counts[\"Nurgle\"]++\r\n            }\r\n        }\r\n        experience.entries.filter(v => v.devotion).forEach(e => {\r\n            if (e.type === \"CHAR\" || e.type === \"SPELL\" || e.type === \"SKILL\") {\r\n                counts[e.devotion]++\r\n            }\r\n        });\r\n        return counts;\r\n    }\r\n\r\n    return <div>\r\n        <Row>\r\n            <Col>\r\n                <h3>Armoury</h3>\r\n            </Col>\r\n        </Row>\r\n        <Row>\r\n            <Col>\r\n                {/* BEGIN WEAPONS*/}\r\n                <Row>\r\n                    <Col>\r\n                        {Object.values(armouryState.weapons).map(((weapon) =>\r\n                                <div key={`wp-${weapon.name}`}>\r\n                                    {weapon.category === EItemCategory.WEAPON ? <WeaponCard weapon={weapon as IWeapon}/>\r\n                                        : weapon.category === EItemCategory.SPELL ?\r\n                                            <SpellCard spell={weapon as ISpell}/> : <></>\r\n                                    }\r\n                                </div>\r\n                        ))}\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n            <Col>\r\n                <Row>\r\n                    <Col md={5}>\r\n                        {Object.values(armouryState.gear).map(gear => (\r\n                            <Row key={`gear-${gear.name}`}>\r\n                                <Col md={10}>{gear.name}</Col>\r\n                                <Col md={2}> <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                                    onClick={() => {\r\n                                                        dispatch(removeGear(gear));\r\n                                                        dispatch(addItem(gear))\r\n                                                    }}>-</Badge>\r\n                                </Col>\r\n                            </Row>\r\n                        ))}\r\n                    </Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageHead}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.head}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(1-10)</Badge> : undefined}\r\n                        </Card.ImgOverlay></Card>\r\n                    </Col>\r\n                    <Col>\r\n                        <Row>\r\n                            <Col>\r\n                                <Row>\r\n                                    <Button variant={showTarget ? \"primary\" : \"secondary\"} onClick={() => setShowTarget(!showTarget)}><BiTargetLock/>\r\n                                    </Button>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Button\r\n                                        onClick={() => rollInitAndSendToDiscord(character.discord[character.discord.active], character.characterName, agility, 1, 10)}\r\n                                        variant={\"light\"}><FaDiceD20 color={\"darkred\"} style={{ cursor: \"pointer\" }}/> Init\r\n                                    </Button>\r\n                                    <DropdownButton size=\"sm\" title={agilityBonus} variant={'secondary'}>\r\n                                        {dropItems}\r\n                                    </DropdownButton>\r\n                                </Row>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={{ offset: 2, span: 3 }}><Card> <Card.Img src={imageArmR}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"badge-armoury badge-secondary\"} pill>{armour.armR} </Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(11-20)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageBody}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.body}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(31-70)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageArmL}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.armL}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(21-30)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={{ offset: 3, span: 3 }}><Card> <Card.Img src={imageLegR}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.legR}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(71-85)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ offset: 1, span: 3 }}><Card> <Card.Img src={imageLegL}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.legL}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(86-100)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                </Row>\r\n\r\n                {/* WOUNDS */}\r\n                <Row>\r\n                    <Col md={2}>Wounds:</Col>\r\n                    <Col md={8}>\r\n                        {maxWoundsEditable ?\r\n                            <FormGroup as={Row}>\r\n                                <FormLabel column sm={5}>Max Wounds:</FormLabel>\r\n                                <Col sm={7}>\r\n\r\n                                    <FormControl value={maxHealth}\r\n                                                 onChange={(event) => dispatch(setMaxWounds(event.target.value))}\r\n                                                 onMouseLeave={() => setMaxWoundsEditable(false)}\r\n                                                 autoFocus/>\r\n                                </Col>\r\n                            </FormGroup>\r\n                            :\r\n                            <ProgressBar>\r\n                                <ProgressBar variant={\"danger\"} animated={health > maxHealth} now={health}\r\n                                             max={maxHealth}\r\n                                             label={health >= maxHealth / 2 ? calcWoundLabel() : undefined}\r\n                                             onClick={() => setMaxWoundsEditable(true)}/>\r\n                                <ProgressBar variant={\"secondary\"}\r\n                                             label={health < maxHealth / 2 ? calcWoundLabel() : undefined}\r\n                                             now={maxHealth + 10 - health} max={maxHealth + 10}\r\n                                             onClick={() => setMaxWoundsEditable(true)}/>\r\n                            </ProgressBar>\r\n                        }\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(setWounds(Math.max(health - 1, 0)))}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(setWounds(Math.min(health + 1, maxHealth + 10)))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* INFAMY */}\r\n                <Row>\r\n                    <Col md={2}>Infamy: </Col>\r\n                    <Col md={8}>\r\n                        <ProgressBar>\r\n                            <ProgressBar variant={\"success\"} now={infamy} max={maxInfamy}\r\n                                         label={`${infamy}/${maxInfamy}`}/>\r\n                            <ProgressBar variant={\"secondary\"} now={maxInfamy - infamy} max={maxInfamy}/>\r\n                        </ProgressBar>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setInfamy(infamy - 1)}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setInfamy(Math.min(infamy + 1, maxInfamy))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* FATIGUE */}\r\n                <Row>\r\n                    <Col md={2}>Fatigue: </Col>\r\n                    <Col md={8}>\r\n                        <ProgressBar>\r\n                            <ProgressBar variant={\"warning\"} now={fatigue} max={maxFatigue}\r\n                                         label={`${fatigue}/${maxFatigue}`}/>\r\n                            <ProgressBar variant={\"secondary\"} now={maxFatigue - fatigue} max={maxFatigue}/>\r\n                        </ProgressBar>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setFatigue(fatigue - 1)}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setFatigue(Math.min(fatigue + 1, maxFatigue))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* DEVOTION */}\r\n                <Row>\r\n                    <Col md={2}>Devotion:</Col>\r\n                    <Col md={2}>\r\n                        <OverlayTrigger\r\n                            overlay={\r\n                                <Tooltip id={`remove`}>\r\n                                    {JSON.stringify(Object.entries(calcDevotion()))}\r\n                                </Tooltip>\r\n                            }>\r\n                            <Badge pill style={{\r\n                                backgroundColor: 'brown',\r\n                                color: 'white'\r\n                            }}>{character.devotion ? character.devotion : EGods.UNALIGNED}</Badge>\r\n                        </OverlayTrigger>\r\n                    </Col>\r\n                    <Col md={2}><IoReloadCircle style={{ cursor: 'pointer' }} color={'green'} onClick={() => resetDevotion()}/> </Col>\r\n                </Row>\r\n\r\n                {/* MOVEMENT */}\r\n                <Row>\r\n                    <Col md={2}>Movement:</Col>\r\n                    <Col md={5}>\r\n                        <Row>\r\n                            <Col>HALF ({agilityStat.value / 10 + agilityStat.bonus}) </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>FULL ({(agilityStat.value / 10 + agilityStat.bonus) * 2}) </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Row>\r\n                            <Col>CHARGE ({(agilityStat.value / 10 + agilityStat.bonus) * 3}) </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>RUN ({(agilityStat.value / 10 + agilityStat.bonus) * 4}) </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Gift of the Gods */}\r\n                <Row>\r\n                    <Col>\r\n                        Gift of the Gods\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {Object.values(talents).filter(value => value.tier < 0)\r\n                        .map(value => <TalentEntryFunction key={`armoury-talent-entry-${value.name}`} {...value} setActiveTalent={() => null}/>)\r\n                    }\r\n                </Row>\r\n\r\n            </Col>\r\n\r\n        </Row>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport function reverseNumber(value: number) {\r\n    const s = value.toString().length === 1 ? '0' + value.toString() : value.toString()\r\n\r\n    return parseInt(s.split(\"\").reverse().join(\"\"));\r\n}\r\n\r\nexport function getHitLocation(rollValue: number) {\r\n    const reverse = reverseNumber(rollValue);\r\n\r\n    if (reverse < 11) {\r\n        return \"Head\";\r\n    } else if (reverse < 21) {\r\n        return \"Right Hand\";\r\n    } else if (reverse < 31) {\r\n        return \"Left Hand\";\r\n    } else if (reverse < 71) {\r\n        return \"Body\";\r\n    } else if (reverse < 86) {\r\n        return \"Right Leg\";\r\n    } else {\r\n        return \"Left Leg\"\r\n    }\r\n\r\n\r\n}\r\n\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport interface IExpEntry {\r\n    description: string,\r\n    amount: number,\r\n    devotion: EGods,\r\n    type: string, // SKILL, ADV, SPELL, CHAR\r\n}\r\n\r\ninterface IExpState {\r\n    entries: IExpEntry[],\r\n    expSum: number\r\n}\r\n\r\nexport const experienceSlice = createSlice({\r\n    name: 'experience',\r\n    initialState: {\r\n        entries: [\r\n            {description: \"Adventure1\", amount: 1500, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill1\", amount: -150, devotion: EGods.NURGLE, type: \"ADV\"},\r\n            {description: \"Skill2\", amount: -300, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill3\", amount: -200, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Adventure2\", amount: 150, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill4\", amount: -1000, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n        ],\r\n        expSum: 0\r\n    } as IExpState,\r\n    reducers : {\r\n        importExperience: (state, action: PayloadAction<IExpState>) => {\r\n            const { entries, expSum } = action.payload\r\n            state.entries = entries;\r\n            state.expSum = expSum;\r\n        },\r\n        addEntry: (state, action: PayloadAction<IExpEntry>) => {\r\n            state.expSum += action.payload.amount;\r\n            state.entries.push(action.payload);\r\n        },\r\n        removeEntry: (state, action: PayloadAction<number>) => {\r\n            state.expSum -= state.entries.splice(action.payload, 1)[0]?.amount\r\n        },\r\n    }\r\n})\r\n\r\nexport const { importExperience, addEntry, removeEntry } = experienceSlice.actions\r\nexport default experienceSlice.reducer\r\n","import { Badge, Col, Container, Row } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { decrement, decrementBonus, expMapCharacteristics, increment, incrementBonus, incrementFive } from './characteristicsSlice'\r\nimport { rollStatAndSendToDiscord } from \"../character/Rolls\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { devotionMap, EGods } from \"../talents/talentSlice\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\n\r\nexport const CharacteristicsCounter = ({ short = '' }) => {\r\n    const [hideBtns, toggleBtns] = React.useState(true);\r\n\r\n    const characteristic = useAppSelector(state => state.characteristics[short]);\r\n    const experience = useAppSelector(state => state.experience);\r\n    const character = useAppSelector(state => state.character);\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    function learnCharacteristics(short: string) {\r\n        dispatch(incrementFive(characteristic.short));\r\n\r\n        const characterDevotion = character.devotion ? character.devotion : EGods.UNALIGNED;\r\n        const characteristicsDevotion = characteristic.devotion ? characteristic.devotion : EGods.UNALIGNED;\r\n\r\n        const lv = experience.entries.reduce((sum, {\r\n            type,\r\n            description\r\n        }) => description.includes(characteristic.name) && type === \"CHAR\" ? sum + 1 : sum, 0);\r\n\r\n        const exp = expMapCharacteristics[devotionMap[characteristicsDevotion][characterDevotion]][Math.min(lv, 3)];\r\n        dispatch(addEntry({ description: `${characteristic.name} Level ${lv}`, amount: -exp, type: \"CHAR\", devotion: characteristicsDevotion }))\r\n\r\n\r\n    }\r\n\r\n    return <Container id={`stat-${characteristic.name}`} style={{ backgroundColor: \"lightgrey\", padding: 0 }}>\r\n        <Row onClick={() => toggleBtns(!hideBtns)}>\r\n            <Col>\r\n                <Badge variant=\"secondary\" pill style={{ cursor: 'pointer' }}>\r\n                    {characteristic.name}\r\n                </Badge>\r\n            </Col>\r\n        </Row>\r\n        <Row style={{ alignItems: 'stretch' }}>\r\n            <Col>\r\n                {!hideBtns\r\n                    ? <>\r\n                        <div>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(incrementBonus(characteristic.short))}>+</Badge>\r\n                            <Badge variant={'secondary'}>\r\n                                {characteristic.bonus ? characteristic.bonus : 0}\r\n                            </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(decrementBonus(characteristic.short))}>-</Badge>\r\n                        </div>\r\n                        <div>\r\n                            <Badge pill variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(increment(characteristic.short))}>+</Badge>\r\n                            <Badge\r\n                                variant={\"dark\"}\r\n                                pill\r\n                                onClick={() => toggleBtns(!hideBtns)}>\r\n                                {characteristic.value}\r\n                            </Badge>\r\n                            <Badge pill variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(decrement(characteristic.short))}>-</Badge>\r\n\r\n                        </div>\r\n                        <div>\r\n                            <Badge pill variant={\"primary\"} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => learnCharacteristics(characteristic.short)}\r\n                            >Learn +5</Badge>\r\n                        </div>\r\n                    </>\r\n                    : <>\r\n                        <FaDiceD20\r\n                            onClick={() => rollStatAndSendToDiscord(character.discord[character.discord.active], character.characterName, characteristic)}\r\n                            color={\"darkred\"} style={{ cursor: \"pointer\" }}/>\r\n\r\n                        {characteristic.bonus ?\r\n                            <Badge variant={'secondary'}>\r\n                                {characteristic.bonus}\r\n                            </Badge>\r\n                            : <></>}\r\n                        <Badge\r\n                            variant={\"dark\"}\r\n                            pill\r\n                            onClick={() => toggleBtns(!hideBtns)}>\r\n                            {characteristic.value}\r\n                        </Badge>\r\n                    </>\r\n                }\r\n\r\n            </Col>\r\n        </Row>\r\n    </Container>;\r\n}\r\n","import { Badge, Card, Col, Row } from \"react-bootstrap\";\r\nimport { editArmour } from \"../inventory/inventorySlice\";\r\nimport React from \"react\";\r\nimport { IArmour } from \"./armourySlice\";\r\nimport { useAppDispatch } from \"../../general/hooks\";\r\n\r\n\r\nexport const ArmourCard = ({ armour }: { armour: IArmour }) => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    return <Card>\r\n        <Card.Header>\r\n            {armour.name}\r\n        </Card.Header>\r\n        <Card.Body>\r\n\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Head:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       head: armour.head ? armour.head + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.head ? armour.head : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, head: armour.head ? Math.max(armour.head - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}/>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Body:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       body: armour.body ? armour.body + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.body ? armour.body : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, body: armour.body ? Math.max(armour.body - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Left:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       armL: armour.armL ? armour.armL + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.armL ? armour.armL : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, armL: armour.armL ? Math.max(armour.armL - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}>Arm</Col>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Right:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       armR: armour.armR ? armour.armR + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.armR ? armour.armR : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, armR: armour.armR ? Math.max(armour.armR - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Left:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       legL: armour.legL ? armour.legL + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.legL ? armour.legL : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, legL: armour.legL ? Math.max(armour.legL - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}>Leg</Col>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Right:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       legR: armour.legR ? armour.legR + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.legR ? armour.legR : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, legR: armour.legR ? Math.max(armour.legR - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n        </Card.Body>\r\n    </Card>;\r\n}\r\n","import {\r\n    Button,\r\n    ButtonGroup,\r\n    ButtonToolbar,\r\n    Col,\r\n    Dropdown,\r\n    FormControl,\r\n    InputGroup,\r\n    ListGroup,\r\n    Row,\r\n    Tab\r\n} from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport React, { useState } from \"react\";\r\nimport { GearFill, Pencil, PlusCircle, ShieldFill } from \"react-bootstrap-icons\";\r\nimport {\r\n    addItemByName,\r\n    editCategory,\r\n    editDescription,\r\n    IInventory,\r\n    IItem,\r\n    importInventory,\r\n    removeItem,\r\n    TItem\r\n} from \"./inventorySlice\";\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport { allItems } from \"../character/resources\";\r\nimport { IArmour, ISpell, IWeapon, setGear, setWeapon } from \"../armoury/armourySlice\";\r\nimport { AiOutlineSortAscending, GiCrossedSwords, GiOrbWand } from \"react-icons/all\";\r\nimport { WeaponCard } from \"../armoury/weaponCard\";\r\nimport { ArmourCard } from \"../armoury/armourCard\";\r\nimport { SpellCard } from \"../armoury/spellCard\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\n\r\nexport const InventoryFunction = () => {\r\n    const [readonly, toggleReadonly] = useState(true);\r\n    const [newItem, setNewItem] = useState('');\r\n    const [activeFilter, setFilter] = useState('-');\r\n\r\n\r\n    const items = useAppSelector(state => state.inventory);\r\n    const armoury = useAppSelector(state => state.armoury)\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    const itemOptions = [];\r\n    for (const item in allItems) {\r\n        itemOptions.push(item);\r\n    }\r\n\r\n\r\n    function createListItems() {\r\n        const result: JSX.Element[] = [];\r\n        for (const name in items) {\r\n            if (EItemCategory.NONE === activeFilter || items[name].category === activeFilter)\r\n                result.push(<ListGroup.Item action href={`#link${name}`} key={`listitem-${name}`}>\r\n                    {name}\r\n                </ListGroup.Item>)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function createTabPanes() {\r\n        const result: JSX.Element[] = [];\r\n\r\n        function getItemButton(item: TItem) {\r\n            switch (item.category) {\r\n                case EItemCategory.WEAPON:\r\n                    const weapon = item as IWeapon;\r\n                    return <Button\r\n                        disabled={!!armoury.weapons[weapon.name]}\r\n                        onClick={() => {\r\n                            dispatch(setWeapon(weapon))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.ARMOUR:\r\n                    const armour = item as IArmour;\r\n                    return <Button\r\n                        disabled={!!armoury.gear[armour.name]}\r\n                        onClick={() => {\r\n                            dispatch(setGear(armour))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.SPELL:\r\n                    const spell = item as ISpell;\r\n\r\n                    return <Button\r\n                        disabled={!!armoury.weapons[spell.name]}\r\n                        onClick={() => {\r\n                            dispatch(setWeapon(spell))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.MISC:\r\n                case EItemCategory.NONE:\r\n                    return <Button onClick={() => dispatch(removeItem(item))}>USE</Button>\r\n            }\r\n\r\n\r\n            return undefined;\r\n        }\r\n\r\n\r\n        function getTypeCard(item: IItem) {\r\n            switch (item.category) {\r\n                case EItemCategory.WEAPON:\r\n                    return <Col><WeaponCard weapon={item as IWeapon} editMode={!readonly}/></Col>\r\n                case EItemCategory.ARMOUR:\r\n                    return <Col><ArmourCard armour={item as IArmour}/></Col>\r\n                case EItemCategory.SPELL:\r\n                    return <Col><SpellCard spell={item as ISpell}/></Col>\r\n            }\r\n        }\r\n\r\n        for (const name in items) {\r\n            const item: IItem = items[name];\r\n            result.push(<Tab.Pane eventKey={`#link${name}`} key={`tabpane-${name}`}>\r\n                <Row>\r\n                    <Col>\r\n                        {item.name} - Count: {item.count}\r\n                    </Col>\r\n                    <Col>\r\n                        <ButtonGroup>\r\n                            {readonly ? <Button disabled>{item.category}</Button>\r\n                                : <Dropdown>\r\n                                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                                        {item.category}\r\n                                    </Dropdown.Toggle>\r\n\r\n                                    <Dropdown.Menu>\r\n                                        {Object.values(EItemCategory).map((value, index) =>\r\n                                            // <Dropdown.Item href={`#/action-${index}`}>{value}</Dropdown.Item>)}\r\n                                            <Dropdown.Item\r\n                                                key={`category-dropdown-${value}`}\r\n                                                onClick={() => {\r\n                                                    dispatch(editCategory({ ...item, category: value }))\r\n                                                }}>{value}</Dropdown.Item>)}\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                            }\r\n                            <Button variant={\"outline-secondary\"}\r\n                                    onClick={() => toggleReadonly(!readonly)}><Pencil/></Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n\r\n\r\n                    <Col md={item.category === EItemCategory.NONE || item.category === EItemCategory.MISC ? 12 : 5}>\r\n\r\n                        <InputGroup>\r\n                            <FormControl as=\"textarea\" readOnly={readonly} size={\"sm\"} rows={10}\r\n                                         value={item.description}\r\n                                         aria-label=\"Description\"\r\n                                         onChange={(event) => {\r\n                                             dispatch(editDescription({ ...item, description: event.target.value }))\r\n                                         }}/>\r\n                        </InputGroup>\r\n                    </Col>\r\n                    {getTypeCard(item)}\r\n                </Row>\r\n                {getItemButton(item)}\r\n            </Tab.Pane>)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function getJSXForItemCategory(value: string) {\r\n        switch (value) {\r\n            case EItemCategory.NONE:\r\n                return 'ALL';\r\n            case EItemCategory.MISC:\r\n                return <GearFill/>\r\n            case EItemCategory.ARMOUR:\r\n                return <ShieldFill/>\r\n            case EItemCategory.WEAPON:\r\n                return <GiCrossedSwords/>\r\n            case EItemCategory.SPELL:\r\n                return <GiOrbWand/>\r\n        }\r\n        return <Pencil/>;\r\n    }\r\n\r\n    function sortInventory() {\r\n        const itemsSorted: IInventory = {};\r\n        Object.keys(items).sort((a, b) => a.localeCompare(b)).map(key => itemsSorted[key] = items[key])\r\n\r\n        console.log(items)\r\n        console.log(itemsSorted)\r\n\r\n        dispatch(importInventory(itemsSorted))\r\n\r\n    }\r\n\r\n    return <Tab.Container id=\"list-group-tabs-example\" defaultActiveKey=\"#link1\">\r\n        <Row>\r\n            <Col sm={3}>\r\n                <ListGroup variant=\"flush\">\r\n\r\n                    <ListGroup.Item>\r\n                        <ButtonToolbar>\r\n\r\n                            <ButtonGroup size={\"sm\"}\r\n                                         className={\"mr-2\"}\r\n                            >\r\n\r\n                                <Button onClick={() => sortInventory()}><AiOutlineSortAscending/></Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup size=\"sm\">\r\n                                {Object.values(EItemCategory).map((value: string) =>\r\n                                    <Button key={`filter-btn-${value}`}\r\n                                            variant={activeFilter === value ? \"primary\" : \"secondary\"}\r\n                                            onClick={() => {\r\n                                                setFilter(value);\r\n                                            }}>{getJSXForItemCategory(value)}</Button>)}\r\n                            </ButtonGroup>\r\n                        </ButtonToolbar>\r\n                    </ListGroup.Item>\r\n\r\n                    {createListItems()}\r\n                    {/* Add Button */}\r\n                    <ListGroup.Item>\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend>\r\n                                <Button onClick={() => dispatch(addItemByName(newItem))}\r\n                                        variant=\"outline-primary\">\r\n                                    {items[newItem] ? <Pencil/> : <PlusCircle/>}\r\n                                </Button>\r\n                            </InputGroup.Prepend>\r\n\r\n                            {/*<FormControl aria-describedby=\"basic-addon1\"*/}\r\n                            {/*             onChange={(event => setNewItem(event.target.value))}/>*/}\r\n\r\n                            <div style={{ width: '9.87em' }}>\r\n                                <Typeahead\r\n                                    id=\"basic-typeahead-single\"\r\n                                    // options={['John', 'Paul', 'George', 'Ringo']}\r\n                                    options={itemOptions}\r\n                                    onInputChange={(name) => setNewItem(name)}\r\n                                    // onChange={(value: string) => console.log(value, 'Simple typeahead')}\r\n                                    onChange={(selection) => setNewItem(selection[0]?.toString())}\r\n                                />\r\n                            </div>\r\n                        </InputGroup>\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n            </Col>\r\n            <Col sm={9}>\r\n                <Tab.Content>\r\n                    {createTabPanes()}\r\n                </Tab.Content>\r\n            </Col>\r\n        </Row>\r\n    </Tab.Container>\r\n\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allSkills } from \"../character/resources\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\nexport interface ISkill {\r\n    name: string,\r\n    level: number,\r\n    type: string,\r\n    bonus: number,\r\n    parent?: ISkill\r\n    devotion: EGods;\r\n}\r\n\r\nexport interface ISkillState {\r\n    [name: string]: ISkill\r\n}\r\n\r\n/**\r\n * Devotion -> Level Map\r\n */\r\nexport const expMapSkills = [\r\n    [100, 200, 400, 600],\r\n    [200, 350, 500, 750],\r\n    [250, 500, 750, 1000]\r\n];\r\n\r\nexport const skillSlice = createSlice({\r\n    name: 'skills',\r\n    initialState: allSkills,\r\n    reducers: {\r\n        setLevel: (state, action: PayloadAction<ISkill>) => {\r\n            const { name, parent } = action.payload;\r\n            const key = parent ? `${parent.name} - ${name}` : name;\r\n            if (state[key].level === action.payload.level) {\r\n                state[key].level = 0;\r\n            } else {\r\n                state[key].level = action.payload.level;\r\n            }\r\n        },\r\n        setBonus: (state, action: PayloadAction<ISkill>) => {\r\n            const {name, bonus, parent} = action.payload;\r\n            const key = parent ? `${parent.name} - ${name}` : name;\r\n            state[key].bonus = bonus;\r\n        },\r\n        importSkills: (state, action) => {\r\n            const skills = action.payload;\r\n            for (const name in skills) {\r\n                state[name] = skills[name];\r\n                // Migration\r\n                if (!state[name].bonus) {\r\n                    state[name].bonus = 0\r\n                }\r\n            }\r\n        },\r\n        addSkill: (state, action: PayloadAction<ISkill>) => {\r\n            const {name, parent} = action.payload;\r\n            if (parent) {\r\n                state[`${parent.name} - ${name}`] = action.payload\r\n            } else {\r\n                state[name] = action.payload;\r\n            }\r\n\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setLevel, setBonus, importSkills, addSkill } = skillSlice.actions\r\nexport default skillSlice.reducer\r\n\r\n","import { Button, FormControl, InputGroup, OverlayTrigger, Row, Table, Tooltip } from \"react-bootstrap\";\r\nimport React, { CSSProperties, useState } from \"react\";\r\nimport { GiCrossMark } from \"react-icons/all\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addEntry, IExpEntry, removeEntry } from \"./experienceSlice\";\r\nimport { PlusCircle } from \"react-bootstrap-icons\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport const ExperienceView = () => {\r\n    const experience = useAppSelector(state => state.experience);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [newEntry, setNewEntry] = useState({} as IExpEntry);\r\n\r\n    function calcExpSum(index: number, array: IExpEntry[]) {\r\n        return array.slice(0, index + 1).reduce((sum, { amount }) => sum + amount, 0);\r\n    }\r\n\r\n\r\n    return <Row>\r\n        <Table striped borderless hover size={\"sm\"}>\r\n            <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Comment</th>\r\n                <th>Amount</th>\r\n                <th>Sum</th>\r\n                <th>-</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n            {experience.entries.map((value, index, array) =>\r\n                <tr key={`tr-${index}-${value.description}`}>\r\n                    <td style={getStyleForDevotion(value.devotion)}>{index}</td>\r\n                    <td>{value.description}</td>\r\n                    <td>{value.amount}</td>\r\n                    <td>{calcExpSum(index, array)}</td>\r\n                    <td style={{ cursor: 'pointer' }}>\r\n                        <OverlayTrigger\r\n                            overlay={\r\n                                <Tooltip id={`remove`}>\r\n                                    Remove entry\r\n                                </Tooltip>\r\n                            }>\r\n                            <GiCrossMark onClick={() => dispatch(removeEntry(index))} color={\"red\"}/>\r\n                        </OverlayTrigger>\r\n                    </td>\r\n                </tr>\r\n            )}\r\n            <tr>\r\n                <td colSpan={2}><b>Remaining</b></td>\r\n                <td colSpan={2}><b>{experience.expSum}</b></td>\r\n            </tr>\r\n\r\n            </tbody>\r\n        </Table>\r\n        <InputGroup>\r\n            <FormControl\r\n                placeholder={\"Comment\"}\r\n                value={newEntry.description ? newEntry.description : \"\"}\r\n                size={\"lg\"}\r\n                onChange={(event => setNewEntry({\r\n                    ...newEntry,\r\n                    description: event.target.value\r\n                }))}\r\n            />\r\n            <FormControl\r\n                placeholder={\"Amount\"}\r\n                value={newEntry.amount ? newEntry.amount : \"\"}\r\n                size={\"lg\"}\r\n                onChange={(event => setNewEntry({\r\n                    ...newEntry,\r\n                    amount: Number(event.target.value)\r\n                }))}\r\n            />\r\n            <Button\r\n                onClick={() => dispatch(addEntry(newEntry))}\r\n                variant=\"outline-primary\">\r\n                <PlusCircle/>\r\n            </Button>\r\n        </InputGroup>\r\n    </Row>;\r\n\r\n\r\n\r\n}\r\n\r\n    export function getStyleForDevotion(devotion: EGods): CSSProperties {\r\n        switch (devotion) {\r\n            case EGods.NURGLE: return {backgroundColor: \"brown\", color: \"white\"}\r\n            case EGods.KHORNE: return {backgroundColor: \"red\"}\r\n            case EGods.SLAANESH: return {backgroundColor: \"pink\"}\r\n            case EGods.TZEENTCH: return {backgroundColor: \"lightskyblue\"}\r\n            default: return {backgroundColor: \"lightgrey\"}\r\n        }\r\n    }\r\n\r\n","import { Badge, Button, Col, Container, Dropdown, DropdownButton, FormControl, InputGroup, ListGroup, Row } from \"react-bootstrap\";\r\nimport { addTalent, devotionMap, EGods, expMapTalents, ITalent, ITalentState, removeTalent } from \"./talentSlice\";\r\nimport { Pencil, PlusCircle, Trash } from \"react-bootstrap-icons\";\r\nimport React, { useState } from \"react\";\r\nimport { TalentEntryFunction } from \"./talentEntry\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { allTalents } from \"../character/resources\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\nimport { getStyleForDevotion } from \"../character/experienceView\";\r\n\r\n\r\nexport const TalentView = ({ sidebar = false }) => {\r\n    const talents = useAppSelector(state => state.talents);\r\n    const devotion = useAppSelector(state => state.character.devotion)\r\n    const remainingExp = useAppSelector(state => state.experience.expSum)\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [activeTalent, setActiveTalent] = useState({ name: '', description: '', tier: 0 } as ITalent);\r\n\r\n    const talentOptions: any[] = [];\r\n\r\n    Object.keys(allTalents).forEach(value => talentOptions.push(value));\r\n\r\n\r\n    function getEditFields() {\r\n        function hasPrerequisite(prerequisit: string) {\r\n            return !!talents[prerequisit];\r\n        }\r\n\r\n        return (<div>\r\n            <Row>\r\n                {createTalentObject(talents, setActiveTalent)}\r\n            </Row>\r\n            <Row>\r\n                {/*<Col md={12}>*/}\r\n                    <InputGroup size={\"lg\"} className=\"mb-3 col-md-12\" >\r\n                        <InputGroup.Prepend>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    dispatch(addTalent(activeTalent));\r\n                                    if (activeTalent.tier > 0) {\r\n                                        dispatch(addEntry({\r\n                                            devotion: activeTalent.devotion,\r\n                                            type: \"TALENT\",\r\n                                            amount: -calcNeededExp(activeTalent, devotion),\r\n                                            description: activeTalent.name\r\n                                        }));\r\n                                    }\r\n                                }}\r\n                                variant=\"outline-primary\">\r\n                                {talents[activeTalent.name] ? <Pencil/> : <PlusCircle/>}\r\n                            </Button>\r\n                        </InputGroup.Prepend>\r\n                        <Row>\r\n\r\n\r\n                            <Col md={5} style={{ paddingRight: 0 }}>\r\n                                <Typeahead\r\n                                    flip\r\n                                    placeholder={'Talentname'}\r\n                                    id=\"basic-typeahead-talents\"\r\n                                    options={Object.values(allTalents)}\r\n                                    labelKey=\"name\"\r\n                                    paginationText={\"More...\"}\r\n                                    size={\"large\"}\r\n                                    onInputChange={(name) => setActiveTalent({ ...activeTalent, name: name })}\r\n                                    onChange={(selection) => setActiveTalent({\r\n                                        // ...activeTalent,\r\n                                        ...allTalents[selection[0]?.name],\r\n                                        name: selection[0]?.name,\r\n                                    })\r\n                                    }\r\n                                    selected={allTalents[activeTalent.name] ? [activeTalent] : []}\r\n                                    renderMenuItemChildren={(option, props, index) => {\r\n                                        return <Row>\r\n                                            <Col md={1}>\r\n                                                <Badge style={{ ...getStyleForDevotion(option.devotion) }} pill>{option.tier}</Badge>\r\n                                            </Col>\r\n                                            <Col md={10}>{option.name}</Col>\r\n                                        </Row>\r\n                                    }}\r\n                                />\r\n                            </Col>\r\n                            <Col md={3} style={{ padding: 0 }}>\r\n                                <FormControl placeholder={\"Specialization or count\"}\r\n                                             value={activeTalent.specialization ? activeTalent.specialization : \"\"}\r\n                                             size={\"lg\"}\r\n                                             onChange={(event => setActiveTalent({\r\n                                                 ...activeTalent,\r\n                                                 specialization: event.target.value\r\n                                             }))}\r\n                                />\r\n                            </Col>\r\n                            <Col md={2} style={{ paddingLeft: 0 }}>\r\n                                <DropdownButton size={\"lg\"} variant=\"success\" title={`Tier: ${activeTalent.tier || \"-\"}`}>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 1 })}>1</Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 2 })}>2</Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 3 })}>3</Dropdown.Item>\r\n                                </DropdownButton>\r\n                            </Col>\r\n                        </Row>\r\n                        <InputGroup.Append>\r\n                            <Button\r\n                                onClick={() => dispatch(removeTalent(activeTalent))}\r\n                                variant=\"outline-primary\"><Trash/></Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                {/*</Col>*/}\r\n            </Row>\r\n            <Row>\r\n                <Col md={8}>\r\n\r\n                    <FormControl placeholder={'Description'} aria-describedby=\"basic-addon1\"\r\n                                 as=\"textarea\" size={\"sm\"} rows={10}\r\n                                 value={activeTalent.description}\r\n                                 onChange={(event => setActiveTalent({\r\n                                     ...activeTalent,\r\n                                     description: event.target.value\r\n                                 }))}/>\r\n                </Col>\r\n                <Col>\r\n                    Prerequisites to Skill\r\n                    <ListGroup>\r\n                        {activeTalent.prerequisites?.split(\",\").map((prerequisit: string) =>\r\n                            <ListGroup.Item style={{ backgroundColor: hasPrerequisite(prerequisit) ? \"white\" : \"orangered\" }}\r\n                                            key={`prerequisit-${prerequisit}`}>{prerequisit}</ListGroup.Item>\r\n                        )}\r\n                        {activeTalent.tier > 0 ? <ListGroup.Item\r\n                                style={{ backgroundColor: remainingExp > calcNeededExp(activeTalent, devotion) ? \"white\" : \"orangered\" }}> Needed\r\n                                Exp: {calcNeededExp(activeTalent, devotion)} </ListGroup.Item>\r\n                            : <></> // => Traits and Gifts do not have exp\r\n                        }\r\n                    </ListGroup>\r\n                    Alignment: {activeTalent.devotion}\r\n                </Col>\r\n            </Row>\r\n        </div>);\r\n    }\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col>\r\n                    <h3>Talents & Traits</h3>\r\n                </Col>\r\n            </Row>\r\n            {sidebar ? createSimpleTalent(talents, setActiveTalent) : getEditFields()}\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nfunction calcNeededExp(activeTalent: ITalent, devotion?: EGods): number {\r\n    const characterDevotion = devotion ? devotion : EGods.UNALIGNED;\r\n    const talentDevotion = activeTalent.devotion ? activeTalent.devotion : EGods.UNALIGNED;\r\n\r\n    return expMapTalents[activeTalent.tier - 1][devotionMap[talentDevotion][characterDevotion]];\r\n}\r\n\r\nfunction createSimpleTalent(talents: ITalentState, setNewTalent: React.Dispatch<React.SetStateAction<ITalent>>) {\r\n    return <Row>{Object.keys(talents).map(value => <TalentEntryFunction key={`talent-entry-${value}`} {...talents[value]}\r\n                                                                        setActiveTalent={setNewTalent}/>)}</Row>\r\n}\r\n\r\nfunction createTalentObject(talents: ITalentState, setNewTalent: React.Dispatch<React.SetStateAction<ITalent>>) {\r\n    const result: JSX.Element[] = [];\r\n    for (const name in talents) {\r\n        result.push(\r\n            <Col key={`talent-${name}`} style={{ padding: \"5px\" }}>\r\n                <TalentEntryFunction {...talents[name]} setActiveTalent={setNewTalent}/>\r\n            </Col>\r\n        )\r\n    }\r\n    return result;\r\n}\r\n","import React, { useCallback, useMemo } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { FormControl, InputGroup } from \"react-bootstrap\";\r\n\r\nconst baseStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderWidth: 2,\r\n    borderRadius: 2,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#bdbdbd',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n\r\nconst activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n\r\nconst acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n\r\nconst rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n\r\nexport const FileUploadDrop = ({ importState, setImportState }\r\n                                   : { importState: string, setImportState: React.Dispatch<React.SetStateAction<string>> }) => {\r\n\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        acceptedFiles.forEach((file: any) => {\r\n            const reader = new FileReader()\r\n\r\n            reader.onabort = () => console.log('file reading was aborted')\r\n            reader.onerror = () => console.log('file reading has failed')\r\n            reader.onload = () => {\r\n                // Do whatever you want with the file contents\r\n                const binaryStr = reader.result;\r\n                const result: string = binaryStr as string\r\n                setImportState(result)\r\n            }\r\n            reader.readAsText(file)\r\n        })\r\n\r\n    }, [])\r\n    const {\r\n        getRootProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject\r\n    } = useDropzone({ onDrop, accept: 'application/json' })\r\n\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n    }), [\r\n        isDragActive,\r\n        isDragReject,\r\n        isDragAccept\r\n    ]);\r\n\r\n    return (\r\n        <div {...getRootProps()} style={style}>\r\n\r\n            <InputGroup>\r\n                {/*<input {...getInputProps()} />*/}\r\n                <FormControl as=\"textarea\" size={\"sm\"} rows={10}\r\n                             placeholder={\"Drag 'n' drop some files here and click on load\"}\r\n                             aria-label=\"Importfield\"\r\n                             value={importState}\r\n                             onChange={(event) => {\r\n                                 setImportState(event.target.value)\r\n                             }}/>\r\n            </InputGroup>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n","import { Alert, Button, Col, Container, FormControl, InputGroup, Row } from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addSkill, expMapSkills, setBonus, setLevel } from \"./skillSlice\";\r\nimport React, { useState } from \"react\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { devotionMap, EGods } from \"../talents/talentSlice\";\r\nimport { allSkills } from \"../character/resources\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\n\r\n\r\nexport const SkillEntryFunction = ({\r\n                                       skillName = 'SKILLNAME',\r\n                                       showType = true,\r\n                                       showSkilled = false,\r\n                                       callbackRoll\r\n                                   }: { skillName: string, showType: boolean, showSkilled: boolean, callbackRoll: any }) => {\r\n    const skills = useAppSelector(state => state.skills);\r\n    const characteristics = useAppSelector(state => state.characteristics);\r\n    const characterName = useAppSelector(state => state.character.characterName);\r\n    const devotion = useAppSelector(state => state.character.devotion);\r\n    const discordServer = useAppSelector(state => state.character.discord[state.character.discord.active]);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [text, setText] = useState('');\r\n    const [variant, setVariant] = useState('success');\r\n    const [newLore, setNewLore] = useState('');\r\n\r\n    const skill = skills[skillName];\r\n    if (!skill) {\r\n        console.error(`No skill for name '${skillName}' found`);\r\n        return <></>;\r\n    }\r\n    const { name, level, type, bonus, parent } = skill;\r\n\r\n    const description = showType ? `${parent ? `-> ${name}` : name} (${type})` : `${parent ? `-> ${name}` : name}`\r\n\r\n    if (showSkilled && level === 0) {\r\n        return <></>\r\n    }\r\n\r\n    function roll() {\r\n        const rollResult = callbackRoll(discordServer, characterName, characteristics[type.toUpperCase()]?.value, skill)\r\n\r\n        setVariant(rollResult.result ? 'success' : 'danger');\r\n        setShow(true);\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`${name} Test: rolled ${rollResult.rolls} your level: ${rollResult.sum} = Test ${rollResult.result ? 'success' : 'failed'}`)\r\n\r\n\r\n    }\r\n\r\n    function getDiceCol() {\r\n        return <Col md={1}><FaDiceD20 onClick={() => roll()} color={\"darkred\"} style={{ cursor: \"pointer\" }}/></Col>\r\n    }\r\n\r\n    function getNameCol() {\r\n        return <Col md={5}>\r\n            {description} </Col>;\r\n    }\r\n\r\n    function getEditRow() {\r\n\r\n        if (name.endsWith(\"Lore\") || name === \"Trade\" ) {\r\n            return <>\r\n                {getElement()}\r\n                <Row style={{ padding: 0 }}>\r\n                    <Col>\r\n                        <Button size={\"sm\"} onClick={() => dispatch(addSkill({ name: newLore, level: 1, type, bonus: 0, parent: skill, devotion: EGods.UNALIGNED}))}>+</Button>\r\n                    </Col>\r\n                    <Col md={10} style={{ padding: 0 }}>\r\n                        <FormControl size={'sm'} placeholder=\"New Lore\"\r\n                                     onChange={(event => setNewLore(event.target.value))}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        }\r\n\r\n\r\n        function getElement() {\r\n            function changeLevel(level: number) {\r\n                dispatch(setLevel({ ...skill, level }));\r\n\r\n                // calcNeededExp\r\n                const characterDevotion = devotion ? devotion : EGods.UNALIGNED;\r\n                const skillDevotion = skill.devotion ? skill.devotion : allSkills[skill.name].devotion;\r\n\r\n                for (let lv = skill.level; lv < level; lv++) {\r\n                    const exp = expMapSkills[devotionMap[skillDevotion][characterDevotion]][lv];\r\n                    dispatch(addEntry({description: `${skill.name} Level ${lv}`, amount: -exp, type: \"SKILL\", devotion: skillDevotion}))\r\n                }\r\n            }\r\n\r\n            return <Row style={{ padding: 0 }}>\r\n                {getNameCol()}\r\n                <Col md={5} style={{ padding: 0 }}>\r\n                    <InputGroup>\r\n                        <InputGroup.Checkbox checked={level > 0} onChange={() => changeLevel(1)}/>\r\n                        <InputGroup.Checkbox checked={level > 1} onChange={() => changeLevel(2)}/>\r\n                        <InputGroup.Checkbox checked={level > 2} onChange={() => changeLevel(3)}/>\r\n                        <InputGroup.Checkbox checked={level > 3} onChange={() => changeLevel(4)}/>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Col md={2} style={{ padding: 0 }}>\r\n                    <FormControl size={'sm'} value={bonus}\r\n                                 onChange={(event => dispatch(setBonus({ ...skill, bonus: parseInt(event.target.value) })))}\r\n                    />\r\n                </Col>\r\n            </Row>;\r\n        }\r\n\r\n        return getElement();\r\n    }\r\n\r\n    function getSkilledRow() {\r\n        return <Row>\r\n            {getDiceCol()}\r\n            {getNameCol()}\r\n            <Col>{(level - 1) * 10}</Col>\r\n            <Col>{characteristics[type.toUpperCase()]?.value}</Col>\r\n            <Col>{bonus}</Col>\r\n            <Col><b>{(level - 1) * 10 + characteristics[type.toUpperCase()]?.value + bonus}</b></Col>\r\n        </Row>;\r\n    }\r\n\r\n    return <Container style={{ padding: 0 }}>\r\n        {showSkilled ? getSkilledRow() : getEditRow()}\r\n        <Alert dismissible onClose={() => setShow(false)} show={show} variant={variant}>\r\n            {text}\r\n        </Alert>\r\n    </Container>\r\n\r\n}\r\n","import { SkillEntryFunction } from \"./skillEntry\";\r\nimport { Button, Col, Container, Jumbotron, Row } from \"react-bootstrap\";\r\nimport { rollTestAndSendToDiscord } from \"../character/Rolls\";\r\nimport React, { useState } from \"react\";\r\nimport { mapElements } from \"../character/character\";\r\nimport { useAppSelector } from \"../../general/hooks\";\r\n\r\nexport const SkillView = ({ cols = 2, showTypeDef = true, showSkilledDef = false, showSettings = true }) => {\r\n\r\n    const [skillCols, setSkillCols] = useState(cols);\r\n    const [showType, toggleShowType] = useState(showTypeDef);\r\n    const [showSkilled, toggleShowSkilled] = useState(showSkilledDef);\r\n    const skills = useAppSelector(state => state.skills)\r\n\r\n\r\n    function createSkillMatrix(colCount: number = 2, showType: boolean, showSkilled: boolean, callbackRoll: any) {\r\n        const skillObjects: JSX.Element[] = [];\r\n        const skillNames: string[] = showSkilled ? Object.values(skills).filter(value => value.level > 0).map(skill => skill.parent ? `${skill.parent.name} - ${skill.name}` : skill.name) : Object.keys(skills);\r\n        skillNames.sort((a, b) => a.localeCompare(b))\r\n\r\n        skillNames.forEach(skillName => {\r\n            skillObjects.push(\r\n                <SkillEntryFunction key={`skill-${skillName}`}  {...{\r\n                    skillName,\r\n                    showType,\r\n                    showSkilled,\r\n                    callbackRoll\r\n                }} />\r\n            )\r\n        });\r\n        return mapElements(skillObjects, colCount);\r\n    }\r\n\r\n\r\n    return <Jumbotron key={\"jumbo-skills\"}>\r\n        <Row>\r\n            <Col>\r\n                <h3>Skills</h3>\r\n            </Col>\r\n        </Row>\r\n        {showSettings ? <Row>Col: {skillCols}\r\n            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\" size=\"sm\"\r\n                    onClick={() => setSkillCols(skillCols - 1)}>-</Button>\r\n            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\" size=\"sm\"\r\n                    onClick={() => setSkillCols(skillCols + 1)}>+</Button>\r\n            <Button size={\"sm\"} style={{ padding: 0, height: '25px' }}\r\n                    onClick={() => toggleShowType(!showType)}>Type</Button>\r\n            <Button size={\"sm\"} style={{ padding: 0, height: '25px' }}\r\n                    onClick={() => toggleShowSkilled(!showSkilled)}>Skilled</Button>\r\n        </Row> : <></>}\r\n        <Container fluid>\r\n            <Row>\r\n                {createSkillMatrix(skillCols, showType, showSkilled, rollTestAndSendToDiscord).map((skillCols, index) => (\r\n                    <Col key={`skillcol-${index}`}>\r\n                        <Col>\r\n                            {showSkilled ? <Row>\r\n                                    <Col md={1}>{/* EMPTY */}</Col>\r\n                                    <Col md={5}><b>Skillname</b></Col>\r\n                                    <Col>T</Col>\r\n                                    <Col>C</Col>\r\n                                    <Col>B</Col>\r\n                                    <Col><b>Sum</b></Col>\r\n                                </Row>\r\n                                : <Row>\r\n                                    <Col md={5}><b>Skillname</b></Col>\r\n                                    <Col md={5} style={{ padding: 0 }}>\r\n                                        <span style={{ paddingLeft: 0, paddingRight: 12 }}><b>T</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+10</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+20</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+30</b></span>\r\n                                    </Col>\r\n                                    <Col md={2}>Bonus</Col>\r\n                                </Row>\r\n                            }\r\n                        </Col>\r\n                        {skillCols}\r\n                    </Col>\r\n                ))}\r\n            </Row>\r\n        </Container>\r\n    </Jumbotron>\r\n}\r\n","import { Col, Container, FormControl, InputGroup, Row } from \"react-bootstrap\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { allItems, allTalents } from \"../character/resources\";\r\nimport React, { createRef, useState } from \"react\";\r\nimport { IItem } from \"../inventory/inventorySlice\";\r\nimport { ITalent } from \"../talents/talentSlice\";\r\nimport { log } from \"util\";\r\n\r\n\r\nexport type ISearchable = IItem | ITalent\r\n\r\nexport const SearchView = () => {\r\n    const emptyTalent = {} as ITalent\r\n\r\n    const testRef = createRef<HTMLTextAreaElement>()\r\n\r\n    const [activeSearch, setActiveSearch] = useState({ name: '', description: '' } as ISearchable);\r\n\r\n    const searchOptions: string[] = [];\r\n\r\n    // Object.keys(allTalents).forEach(value => searchOptions.push(value));\r\n    // Object.keys(allItems).forEach(value => searchOptions.push(value));\r\n    Object.keys({ ...allTalents, ...allItems }).forEach(value => searchOptions.push(value));\r\n\r\n    return <Container>\r\n        <Row>\r\n            <Col>\r\n                <Typeahead\r\n                    placeholder={'Search'}\r\n                    id=\"basic-typeahead-search\"\r\n                    options={searchOptions}\r\n                    paginationText={\"More...\"}\r\n                    size={\"large\"}\r\n                    onInputChange={(name) => setActiveSearch({ ...emptyTalent, name: name })}\r\n                    onChange={(selection) => setActiveSearch({\r\n                        ...activeSearch, ...allTalents[selection[0]?.toString()], ...allItems[selection[0]?.toString()],\r\n                        name: selection[0]?.toString()\r\n                    })\r\n                    }\r\n                    selected={{ ...allTalents, ...allItems }[activeSearch.name] ? [activeSearch.name] : []}\r\n                />\r\n            </Col>\r\n        </Row>\r\n        {{ ...allTalents, ...allItems }[activeSearch.name] ?\r\n            <Row>\r\n                <Col>\r\n                    <FormControl placeholder={'Description'} aria-describedby=\"basic-addon1\"\r\n                                 as=\"textarea\" size={\"sm\"} rows={10}\r\n                                 value={JSON.stringify(activeSearch, null, \"\\t\")\r\n                                     .replaceAll('\\\\n', \"\\n\")\r\n                                     .replaceAll('\"', '')\r\n                                 }\r\n                                 autoFocus\r\n                                 plaintext={true}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n            : undefined\r\n        }\r\n    </Container>\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Col, Container, Form, FormControl, FormGroup, FormLabel, Jumbotron, Row } from \"react-bootstrap\";\r\nimport { CharacteristicsCounter } from \"../characteristics/characteristicsCounter\";\r\nimport './character.scss';\r\nimport { allArmour, allItems, allWeapons } from \"./resources\";\r\nimport { characteristicsInitialState, ICharacteristicsState, importCharacteristics } from \"../characteristics/characteristicsSlice\";\r\nimport { importTalents } from \"../talents/talentSlice\";\r\nimport { InventoryFunction } from \"../inventory/inventory\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { RootState } from \"../../general/store\";\r\nimport { importSkills } from \"../skills/skillSlice\";\r\nimport { IInventory, IItem, importInventory } from \"../inventory/inventorySlice\";\r\nimport { TalentView } from \"../talents/talentView\";\r\nimport { Armoury } from \"../armoury/armoury\";\r\nimport { IArmour, importArmoury, IWeapon, IWeaponState } from \"../armoury/armourySlice\";\r\nimport { FileUploadDrop } from \"./fileUploadDrop\";\r\nimport { changeLayout, importCharacter, setCharacterName, setDiscordActive, setDiscordServer, setDiscordServerDebug } from \"./characterSlice\";\r\nimport { rollAndSendToDiscord } from \"./Rolls\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { EItemCategory } from \"./EItemCategory\";\r\nimport { SkillView } from \"../skills/skillView\";\r\nimport { ETabNames } from \"./ETabNames\";\r\nimport { ExperienceView } from \"./experienceView\";\r\nimport { SearchView } from \"../search/searchView\";\r\nimport { importExperience } from \"./experienceSlice\";\r\n\r\n\r\nexport const CharacterFunction = () => {\r\n    const [mainCols, setMainCols] = useState(1);\r\n    const [importState, setImportState] = useState('');\r\n    const [editCharacterName, setEditCharacterName] = useState(false);\r\n    const [editDiscord, setEditDiscord] = useState(false);\r\n    const [editDiscordDebug, setEditDiscordDebug] = useState(false);\r\n    const [customAmount, setCustomAmount] = useState(1)\r\n    const [customLimit, setCustomLimit] = useState(100)\r\n    const [lastSafe, setLastSafe] = useState(new Date(0))\r\n\r\n    const completeState = useAppSelector(state => state);\r\n    const dispatch = useAppDispatch()\r\n\r\n    function importStateFromJson(importState: string) {\r\n        if (!importState) {\r\n            return;\r\n        }\r\n        const state = JSON.parse(importState) as RootState;\r\n\r\n        dispatch(importCharacter(state.character))\r\n\r\n        dispatch(importCharacteristics(state.characteristics))\r\n        dispatch(importInventory(state.inventory))\r\n        dispatch(importSkills(state.skills))\r\n        dispatch(importTalents(state.talents))\r\n        dispatch(importArmoury(state.armoury))\r\n        dispatch(importExperience(state.experience))\r\n    }\r\n\r\n    function getDiscordServer() {\r\n        return completeState.character.discord[completeState.character.discord.active];\r\n    }\r\n\r\n    function getCharacteristicsPane() {\r\n        return <Jumbotron key={\"jumbo-characteristics\"}>\r\n            <Container style={{ padding: 0 }}>\r\n                <Row>\r\n                    <Col>\r\n                        {editCharacterName ?\r\n                            <FormControl\r\n                                onMouseLeave={() => setEditCharacterName(false)}\r\n                                value={completeState.character.characterName}\r\n                                onChange={(event => dispatch(setCharacterName(event.target.value)))}\r\n                                autoFocus={true}/>\r\n                            :\r\n                            <h1 style={{ fontFamily: 'CloisterBlack', fontSize: \"xxx-large\" }}\r\n                                onClick={() => setEditCharacterName(true)}\r\n                            >{completeState.character.characterName}</h1>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {createCharacteristicsObjects(characteristicsInitialState)}\r\n                </Row>\r\n                <Row>\r\n\r\n                    <Form>\r\n                        <Form.Row>\r\n\r\n                            <Col md={3}>\r\n                                <h3>Custom Roll:</h3>\r\n                            </Col>\r\n\r\n                            <Col md={3}>\r\n\r\n                                <FormGroup as={Row}>\r\n                                    <FormLabel column md={4}>Amount</FormLabel>\r\n                                    <Col md={8}>\r\n                                        <FormControl size={\"sm\"} value={customAmount}\r\n                                                     onChange={event => setCustomAmount(parseInt(event.target.value))}/>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col>d</Col>\r\n                            <Col md={3}>\r\n\r\n                                <FormGroup as={Row}>\r\n                                    <FormLabel column md={4}>Limit</FormLabel>\r\n                                    <Col md={8}>\r\n                                        <FormControl size={\"sm\"} value={customLimit}\r\n                                                     onChange={event => setCustomLimit(parseInt(event.target.value))}/>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button\r\n                                    onClick={() => rollAndSendToDiscord(getDiscordServer(), completeState.character.characterName, customAmount, customLimit)}\r\n                                    variant={\"light\"}> Roll <FaDiceD20 color={\"darkred\"} style={{ cursor: \"pointer\" }}/>\r\n                                </Button>\r\n                            </Col>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Row>\r\n            </Container>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getSkillsPane(layout: string) {\r\n        const sidebarSettings = { cols: 1, showSkilledDef: true, showSettings: false }\r\n        return layout === 'main' ? <SkillView key={'skillView'}/> : <SkillView key={'skillView'} {...sidebarSettings} />\r\n    }\r\n\r\n    function getTalentsPane(layout: string) {\r\n        return <Jumbotron key={\"jumbo-talents\"}>\r\n            <TalentView sidebar={layout !== 'main'}/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getInventoryPane() {\r\n        return <Jumbotron key={\"jumbo-inventory\"}>\r\n            <Row>\r\n                <Col>\r\n                    <h3>{getNameForTabKey(ETabNames.INVENTORY)}</h3>\r\n                </Col>\r\n            </Row>\r\n            <InventoryFunction/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getArmouryPane() {\r\n        return <Jumbotron key={\"jumbo-armoury\"}>\r\n            <Armoury/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getSettingsPane() {\r\n\r\n        function calcNewItems() {\r\n            const result = {\r\n                items: {},\r\n                weapons: {},\r\n                armour: {}\r\n            }\r\n\r\n            const items: IInventory = {};\r\n            const weapons: IWeaponState = {};\r\n            const armour: { [name: string]: IArmour } = {};\r\n\r\n            const inventory = completeState.inventory;\r\n            for (const itemName in inventory) {\r\n                if (!(itemName in allItems || itemName in allWeapons || itemName in allArmour)) {\r\n                    const item: IItem = inventory[itemName];\r\n                    if (item.category === EItemCategory.WEAPON) {\r\n                        weapons[itemName] = item as IWeapon;\r\n                    } else if (item.category === EItemCategory.ARMOUR) {\r\n                        armour[itemName] = item as IArmour;\r\n                    } else {\r\n                        items[itemName] = item;\r\n                    }\r\n                }\r\n            }\r\n            result.items = items;\r\n            result.weapons = weapons;\r\n            result.armour = armour;\r\n            return result\r\n        }\r\n\r\n        return <Jumbotron key={\"jumbo-settings\"}>\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <h3>{getNameForTabKey(ETabNames.SETTINGS)}</h3>\r\n                    </Col>\r\n                </Row>\r\n                <Row><Col>{`Last safe - ${lastSafe}`}</Col></Row>\r\n                <Row>\r\n                    <Col sm={2}>\r\n                        <Row>\r\n                            <Col>\r\n                                <Button size={\"sm\"}\r\n                                        onClick={() =>{\r\n                                            const char = JSON.stringify(completeState);\r\n                                            setImportState(char);\r\n                                            localStorage.setItem(\"char\", char);\r\n                                        }}>Export</Button>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button size={\"sm\"} onClick={() => importStateFromJson(importState)}>Load</Button>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <a href={`data:text/json;charset=utf-8,${encodeURIComponent(\r\n                                    JSON.stringify(completeState)\r\n                                )}`}\r\n                                   download={completeState.character.characterName ? completeState.character.characterName + \".json\" : \"DnD-Character.json\"}>\r\n                                    <Button>Download</Button>\r\n                                </a>\r\n                            </Col>\r\n                            <Col>\r\n\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            Cols: {mainCols}\r\n                            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setMainCols(mainCols - 1)}>-</Button>\r\n                            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => setMainCols(mainCols + 1)}>+</Button>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <Button onClick={() => setImportState(JSON.stringify(calcNewItems()))}>Export New\r\n                                    Items</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col sm={10}>\r\n                        <FileUploadDrop {...{ importState, setImportState }} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col md={3}>\r\n                        <Row>\r\n                            <Col>\r\n\r\n                        <Form.Check label=\"Prod\" name=\"group1\" type={'radio'} id={`discord-inline-radio-1`}\r\n                                    checked={completeState.character.discord.active === 'prod'}\r\n                                    onChange={() => dispatch(setDiscordActive('prod'))}\r\n                        />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                        <Form.Check label=\"Debug\" name=\"group1\" type={'radio'} id={`discord-inline-radio-2`}\r\n                                    checked={completeState.character.discord.active === 'debug'}\r\n                                    onChange={() => dispatch(setDiscordActive('debug'))}\r\n                        />\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col md={9}>\r\n                        <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n                            {editDiscord ?\r\n                                <FormControl\r\n                                    onMouseLeave={() => setEditDiscord(false)}\r\n                                    value={completeState.character.discord.prod}\r\n                                    onChange={(event => dispatch(setDiscordServer(event.target.value)))}\r\n                                    autoFocus={true}/>\r\n                                :\r\n                                <h4\r\n                                    onClick={() => setEditDiscord(true)}\r\n                                >{completeState.character.discord.prod ? completeState.character.discord.prod : 'Click to set Discord'}</h4>\r\n                            }\r\n                        </Row>\r\n\r\n                        <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n                            {editDiscordDebug ?\r\n                                <FormControl\r\n                                    onMouseLeave={() => setEditDiscordDebug(false)}\r\n                                    value={completeState.character.discord.debug}\r\n                                    onChange={(event => dispatch(setDiscordServerDebug(event.target.value)))}\r\n                                    autoFocus={true}/>\r\n                                :\r\n                                <h4\r\n                                    onClick={() => setEditDiscordDebug(true)}\r\n                                >{completeState.character.discord.debug ? completeState.character.discord.debug : 'Click to set Discord - debug'}</h4>\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {Object.keys(ETabNames)\r\n                    .flatMap((value, index) => {\r\n                        if (isNaN(Number(value))) {\r\n                            return [];\r\n                        }\r\n\r\n                        return <Row key={`layout-${value}`}>\r\n                            <Col xs={3}>{getNameForTabKey(index)}</Col>\r\n                            <Col xs={9} style={{padding:0}}>\r\n                                <Form>\r\n                                    <div key={`inline-radio`} className=\"mb-3\">\r\n                                        <Form.Check inline label=\"Left Sidebar\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-1`}\r\n                                                    checked={completeState.character.layout.left.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'left', index }))}\r\n                                        />\r\n                                        <Form.Check inline label=\"Main\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-2`}\r\n                                                    checked={completeState.character.layout.main.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'main', index }))}\r\n                                        />\r\n                                        <Form.Check inline label=\"Right Sidebar\" type={'radio'} id={`${value}-inline-radio-3`}\r\n                                                    checked={completeState.character.layout.right.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'right', index }))}\r\n                                        />\r\n                                    </div>\r\n                                </Form>\r\n                            </Col>\r\n                        </Row>\r\n                    }\r\n                )}\r\n            </Container>\r\n        </Jumbotron>\r\n    }\r\n\r\n\r\n    const MINUTE_MS = 60000;\r\n    useEffect(() => {\r\n        const storedChar = localStorage.getItem(\"char\")\r\n        if (storedChar) {\r\n            importStateFromJson(storedChar)\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            localStorage.setItem(\"char\", JSON.stringify(completeState));\r\n            setLastSafe(new Date());\r\n            console.log(`Saved char - ${lastSafe}`);\r\n        }, MINUTE_MS);\r\n\r\n        return () => clearInterval(interval);\r\n\r\n    },[]);\r\n\r\n    function getExperiencePane() {\r\n        return <Jumbotron key={\"jumbo-experience\"}>\r\n            <Row>\r\n                <Col>\r\n                    <h3>{getNameForTabKey(ETabNames.EXPERIENCE)}</h3>\r\n                </Col>\r\n            </Row>\r\n            <ExperienceView/>\r\n        </Jumbotron>;\r\n    }\r\n\r\n    function getSearchPane() {\r\n        return <Jumbotron key={\"jumbo-search\"}>\r\n            <Row>\r\n                <Col>\r\n                    <SearchView />\r\n                </Col>\r\n            </Row>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getNameForTabKey(key: ETabNames) {\r\n        switch (key) {\r\n            case ETabNames.CHARACTERISTICS:\r\n                return 'Characteristics';\r\n            case ETabNames.SKILLS:\r\n                return 'Skills';\r\n            case ETabNames.TALENTS:\r\n                return 'Talents';\r\n            case ETabNames.ARMOURY:\r\n                return 'Armoury';\r\n            case ETabNames.INVENTORY:\r\n                return 'Inventory';\r\n            case ETabNames.SETTINGS:\r\n                return 'Settings';\r\n            case ETabNames.EXPERIENCE:\r\n                return \"Experience\"\r\n            case ETabNames.SEARCH:\r\n                return \"Search\"\r\n            default:\r\n                return `No name for no. ${key}`\r\n        }\r\n    }\r\n\r\n    function getTabForKey(key: ETabNames, layout: string) {\r\n        switch (key) {\r\n            case ETabNames.CHARACTERISTICS:\r\n                return getCharacteristicsPane();\r\n            case ETabNames.SKILLS:\r\n                return getSkillsPane(layout);\r\n            case ETabNames.TALENTS:\r\n                return getTalentsPane(layout);\r\n            case ETabNames.ARMOURY:\r\n                return getArmouryPane();\r\n            case ETabNames.INVENTORY:\r\n                return getInventoryPane();\r\n            case ETabNames.SETTINGS:\r\n                return getSettingsPane();\r\n            case ETabNames.EXPERIENCE:\r\n                return getExperiencePane();\r\n            case ETabNames.SEARCH:\r\n                return getSearchPane();\r\n            default:\r\n                return <Jumbotron>{`No tab for no. ${key}`}</Jumbotron>\r\n        }\r\n    }\r\n\r\n    function getTabs(layout = 'main') {\r\n        const panes = completeState.character.layout[layout].map(name => getTabForKey(name, layout))\r\n        return <>\r\n            {mainCols === 1\r\n                ? <div>{mapElements(panes, mainCols)}</div>\r\n                : <Row>\r\n                    {mapElements(panes, mainCols).map((elementCol, index) => (\r\n                        <Col key={`skillcol-${index}`} md={6}>\r\n                            {elementCol}\r\n                        </Col>\r\n                    ))}\r\n                </Row>\r\n            }</>\r\n    }\r\n\r\n\r\n    return <Row>\r\n        <Col xs={3} id=\"sidebar-wrapper\">\r\n            {getTabs('left')}\r\n        </Col>\r\n        <Col xs={6} id=\"page-content-wrapper\">\r\n            <div>\r\n                {getTabs()}\r\n            </div>\r\n        </Col>\r\n        <Col xs={3} id=\"sidebar-wrapper\">\r\n            {getTabs('right')}\r\n        </Col>\r\n    </Row>\r\n\r\n} // END OF FUNCTION\r\n\r\n\r\nfunction createCharacteristicsObjects(characteristics: ICharacteristicsState): JSX.Element[] {\r\n    const result: JSX.Element[] = [];\r\n    for (const short in characteristics) {\r\n        result.push(\r\n            <Col key={`stat-${short}`} style={{ padding: \"5px\" }}>\r\n                <CharacteristicsCounter short={short}/>\r\n            </Col>\r\n        )\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nexport function mapElements(objects: JSX.Element[], colCount: number) {\r\n    const matrix: any[] = [];\r\n    for (let j = 0; j < colCount; j++) {\r\n        const part = ((objects.length - 1) / colCount + 1 | 0);\r\n        matrix[j] = new Array(part);\r\n        for (let i = part * j; i < part * (j + 1); i++) {\r\n            matrix[j].push(objects[i]);\r\n        }\r\n    }\r\n    return matrix;\r\n}\r\n","import React from 'react';\nimport './App.scss';\nimport { CharacterFunction } from \"./components/character/character\";\nimport { Container } from \"react-bootstrap\";\n\n\nfunction App() {\n    return (\n        <Container fluid className=\"App\" style={{ backgroundColor: \"black\" }}>\n\n            <CharacterFunction/>\n\n        </Container>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { characteristicsSlice } from \"../components/characteristics/characteristicsSlice\";\r\nimport { skillSlice } from \"../components/skills/skillSlice\";\r\nimport { talentSlice } from \"../components/talents/talentSlice\";\r\nimport { inventorySlice } from \"../components/inventory/inventorySlice\";\r\nimport { characterSlice } from \"../components/character/characterSlice\";\r\nimport { armourySlice } from \"../components/armoury/armourySlice\";\r\nimport { experienceSlice } from \"../components/character/experienceSlice\";\r\n\r\n/**\r\n * Creates the Redux store and adds the default middlewares from redux toolkit as well as the router middleware\r\n */\r\nconst store = configureStore({\r\n    reducer: {\r\n        character: characterSlice.reducer,\r\n        characteristics: characteristicsSlice.reducer,\r\n        skills: skillSlice.reducer,\r\n        talents: talentSlice.reducer,\r\n        inventory: inventorySlice.reducer,\r\n        armoury: armourySlice.reducer,\r\n        experience: experienceSlice.reducer,\r\n    },\r\n    middleware: [...getDefaultMiddleware()],\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport default store\r\n","export default __webpack_public_path__ + \"static/media/CloisterBlack.0a8dea1a.ttf\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./general/store\";\nimport '../src/fonts/CloisterBlack.ttf'\n\nReactDOM.render(\n    <React.Fragment>\n        <Provider store={store}>\n            <link\n                rel=\"stylesheet\"\n                href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css\"\n                integrity=\"sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l\"\n                crossOrigin=\"anonymous\"\n            />\n            <App/>\n        </Provider>\n    </React.Fragment>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}