{"version":3,"sources":["components/armoury/armourySlice.ts","general/hooks.ts","components/characteristics/characteristicsSlice.ts","components/talents/talentSlice.ts","components/character/EItemCategory.ts","components/character/resources.ts","components/character/ETabNames.ts","components/inventory/inventorySlice.ts","components/armoury/weaponCard.tsx","components/character/Rolls.tsx","components/armoury/spellCard.tsx","components/character/characterSlice.ts","components/talents/talentEntry.tsx","components/armoury/armoury.tsx","components/character/experienceSlice.ts","components/characteristics/characteristicsCounter.tsx","components/armoury/armourCard.tsx","components/inventory/inventory.tsx","components/skills/skillSlice.ts","components/character/experienceView.tsx","components/talents/talentView.tsx","components/skills/skillEntry.tsx","components/skills/skillView.tsx","components/search/searchView.tsx","components/character/fileUploadDrop.tsx","components/settings/settings.tsx","components/character/character.tsx","App.tsx","reportWebVitals.ts","general/store.ts","fonts/CloisterBlack.ttf","index.tsx"],"names":["EWeaponCategory","ESpellType","EDamageType","useAppDispatch","useDispatch","useAppSelector","useSelector","expMapCharacteristics","characteristicsInitialState","name","value","short","bonus","devotion","characteristicsSlice","createSlice","initialState","reducers","increment","state","action","payload","incrementFive","decrement","incrementBonus","decrementBonus","importCharacteristics","characteristics","stat","actions","EGods","armourySlice","armour","head","body","armR","armL","legR","legL","gear","weapons","character","currentWounds","maxWounds","currentInfamy","setGear","removeGear","setWeapon","count","removeWeapon","setWounds","setMaxWounds","importArmoury","EItemCategory","godStringMap","KHORNE","NURGLE","SLAANESH","TZEENTCH","UNALIGNED","SPECIAL","expMapTalents","devotionMap","talentsInitialState","tier","prerequisites","description","talentSlice","addTalent","talent","allTalents","removeTalent","importTalents","talents","ETabNames","allSkills","level","type","allWeapons","category","WEAPON","weaponCategory","PISTOL","damage","range","rof","clip","rld","IMPACT","pen","weight","CHAIN","RENDING","LASER","SPELL","ENERGY","exp","focusPower","sustained","subtype","CONCENTRATION","ATTACK","BUFF","CURSE","EXPLOSIVE","allArmour","ARMOUR","allItems","MISC","itemsInitialState","inventorySlice","addItem","oldCount","addItemByName","itemname","item","NONE","changeWeaponName","oldName","editWeapon","editArmour","removeItem","editDescription","editCategory","importInventory","inventory","WeaponCard","weapon","editMode","useState","newName","setNewName","weaponEquipped","armoury","testModifier","setTestModifier","bonusRolls","setBonusRolls","show","setShow","text","setText","variant","setVariant","dispatch","getJSXForWeaponCategory","cat","SWORD","getJSXForWeaponType","weaponType","SCHOCK","getWeaponTypeDropdown","Dropdown","Toggle","id","Menu","Object","values","map","index","e","Item","onClick","getWeightField","col","Col","md","FormControl","size","placeholder","aria-label","onChange","event","parseInt","target","getDamageField","Badge","style","cursor","pill","Math","max","getRangeField","getMagazineField","getRemoveFromArmoury","getNameField","OverlayTrigger","overlay","Tooltip","Row","isMeeleWeapon","InputGroup","Append","Button","color","getRollDice","characteristic","bonusDrop","Header","bonusRollDrop","i","push","DropdownButton","title","rollResult","discordServer","username","modifier","amount","limit","roll","rollType","ERollType","AIM","result","rollSum","sendMessage","getEmbedsForRollType","rollAimAndSendToDiscord","discord","active","characterName","setTimeout","getHitLocation","rollDamageAndSendToDiscord","JSON","stringify","rolls","_","Card","Body","padding","Alert","onClose","SpellCard","spell","equipped","characterSlice","prod","debug","layout","left","SEARCH","main","CHARACTERISTICS","right","EXPERIENCE","importCharacter","setCharacterName","setDiscordServer","setDiscordServerDebug","setDiscordActive","setDevotion","setLayout","console","log","changeLayout","field","indexOf","splice","sort","TalentEntryFunction","setActiveTalent","placement","getTierDescription","specialization","Armoury","stats","infamyStat","toughnessStat","agilityStat","armouryState","experience","agilityBonus","setAgilityBonus","agility","floor","maxHealth","maxInfamy","maxFatigue","infamy","setInfamy","fatigue","setFatigue","showTarget","setShowTarget","maxWoundsEditable","setMaxWoundsEditable","health","calcWoundLabel","heavilyWounded","dropItems","resetDevotion","h","entries","calcDevotion","filter","a","b","newDevotion","grantUnnaturalStat","t","join","ts","namet","tt","increaseSpecialization","grantAdditionalBenefits","spec","counts","flatMap","v","forEach","span","Img","src","ImgOverlay","className","undefined","INIT","rollInitAndSendToDiscord","offset","FormGroup","as","FormLabel","column","sm","onMouseLeave","autoFocus","ProgressBar","animated","now","label","min","backgroundColor","rollValue","reverse","s","toString","length","split","reverseNumber","rollTestAndSendToDiscord","skill","rollTest","message","TEST","rollResultTest","strength","d","w","DAMAGE","slice","reduce","getRollResultText","r","sum","colorCodeRed","colorCodeGreen","fields","inline","STAT","embeds","content","fetch","method","headers","ceil","random","experienceSlice","expSum","importExperience","addEntry","removeEntry","CharacteristicsCounter","React","hideBtns","toggleBtns","Container","alignItems","rollStatAndSendToDiscord","characterDevotion","characteristicsDevotion","lv","includes","learnCharacteristics","ArmourCard","InventoryFunction","readonly","toggleReadonly","newItem","setNewItem","activeFilter","setFilter","items","itemOptions","getJSXForItemCategory","Tab","defaultActiveKey","ListGroup","ButtonToolbar","ButtonGroup","itemsSorted","keys","localeCompare","key","sortInventory","href","createListItems","Prepend","width","options","onInputChange","selection","Content","getItemButton","disabled","getTypeCard","Pane","eventKey","readOnly","rows","createTabPanes","expMapSkills","skillSlice","setLevel","parent","setBonus","importSkills","skills","addSkill","removeSkill","ExperienceView","newEntry","setNewEntry","calcExpSum","array","Table","striped","borderless","hover","getStyleForDevotion","colSpan","Number","TalentView","sidebar","remainingExp","activeTalent","talentOptions","fluid","createSimpleTalent","hasPrerequisite","prerequisit","createTalentObject","calcNeededExp","paddingRight","flip","labelKey","paginationText","selected","renderMenuItemChildren","option","props","paddingLeft","aria-describedby","getEditFields","talentDevotion","setNewTalent","SkillEntryFunction","skillName","showType","showSkilled","callbackRoll","newLore","setNewLore","error","getDiceCol","toUpperCase","getNameCol","getSkilledRow","endsWith","getElement","changeLevel","skillDevotion","Checkbox","checked","getEditRow","dismissible","SkillView","cols","showTypeDef","showSkilledDef","showSettings","skillCols","setSkillCols","toggleShowType","toggleShowSkilled","Jumbotron","height","colCount","skillObjects","skillNames","mapElements","createSkillMatrix","SearchView","emptyTalent","activeSearch","setActiveSearch","searchOptions","replaceAll","plaintext","baseStyle","flex","display","borderWidth","borderRadius","borderColor","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","FileUploadDrop","importState","setImportState","onDrop","useCallback","acceptedFiles","file","reader","FileReader","onabort","onerror","onload","binaryStr","readAsText","useDropzone","accept","getRootProps","isDragActive","isDragAccept","isDragReject","useMemo","Settings","importStateFromJson","getNameForTabKey","editDiscord","setEditDiscord","editDiscordDebug","setEditDiscordDebug","completeState","encodeURIComponent","download","filename","attachments","formData","FormData","append","Blob","saveCharToDiscord","itemName","calcNewItems","Form","Check","border","margin","isNaN","xs","CharacterFunction","isMobile","mainCols","setMainCols","editCharacterName","setEditCharacterName","customAmount","setCustomAmount","customLimit","setCustomLimit","Date","lastSafe","setLastSafe","parse","saveCharToLocalStorage","getCharacteristicsPane","fontFamily","fontSize","createCharacteristicsObjects","rollAndSendToDiscord","localStorage","setItem","SKILLS","TALENTS","ARMOURY","INVENTORY","SETTINGS","getTabForKey","getSkillsPane","getTalentsPane","getTabs","panes","elementCol","useEffect","storedChar","getItem","interval","setInterval","clearInterval","objects","matrix","j","part","Array","App","window","innerWidth","setWidth","handleWindowSizeChange","addEventListener","removeEventListener","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","Fragment","rel","integrity","crossOrigin","document","getElementById"],"mappings":"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","file":"static/js/main.9ec7f428.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IItem } from \"../inventory/inventorySlice\";\r\n\r\nexport enum EWeaponCategory {\r\n    PISTOL,\r\n    _,\r\n    SWORD,\r\n    CHAIN,\r\n}\r\n\r\n\r\nexport interface IWeapon extends IItem{\r\n    weaponCategory: EWeaponCategory,\r\n    damage: string,\r\n    range: number,\r\n    rof: string,\r\n    clip: number,\r\n    rld: string\r\n    type: EDamageType,\r\n    pen: number,\r\n    weight: number,\r\n    additionalRolls?: number,\r\n}\r\n\r\nexport enum ESpellType {\r\n    ATTACK = \"Attack\",\r\n    CONCENTRATION = \"Concentration\"\r\n}\r\n\r\nexport interface ISpell extends IItem {\r\n    exp: number,\r\n    prerequisites: string,\r\n    action: string,\r\n    focusPower: string,\r\n    range: string,\r\n    sustained: boolean | string,\r\n    subtype: ESpellType[],\r\n    pen: number,\r\n    damage: string,\r\n    type: EDamageType,\r\n}\r\n\r\nexport interface IWeaponState {\r\n    [name: string]: IWeapon | ISpell\r\n}\r\n\r\nexport enum EDamageType {\r\n    IMPACT,\r\n    RENDING,\r\n    SCHOCK,\r\n    LASER,\r\n    ENERGY,\r\n    EXPLOSIVE,\r\n\r\n    MISC,\r\n    BUFF,\r\n    CURSE,\r\n}\r\n\r\n\r\nexport interface IArmourStats {\r\n    head?: number,\r\n    body?: number,\r\n    armR?: number,\r\n    armL?: number,\r\n    legR?: number,\r\n    legL?: number\r\n}\r\n\r\nexport interface IArmour extends IItem, IArmourStats {}\r\n\r\nexport interface IArmouryState {\r\n    armour: IArmourStats,\r\n    gear: {[name: string]: IArmour},\r\n    weapons: IWeaponState,\r\n    character: {\r\n        currentWounds: number,\r\n        maxWounds: number,\r\n        currentInfamy: number,\r\n    }\r\n}\r\n\r\nexport const armouryInitalState = {\r\n    armour: {\r\n        head: 0,\r\n        body: 0,\r\n        armR: 0,\r\n        armL: 0,\r\n        legR: 0,\r\n        legL: 0,\r\n    },\r\n    gear: { },\r\n    weapons: {},\r\n    character: {\r\n        currentWounds: 5,\r\n        maxWounds: 7,\r\n        currentInfamy: 2\r\n    }\r\n} as IArmouryState\r\n\r\nexport const armourySlice = createSlice({\r\n    name: 'armoury',\r\n    initialState: armouryInitalState,\r\n    reducers: {\r\n        setGear: (state, action: PayloadAction<IArmour>) =>  {\r\n            const { head, body, armL, armR, legL, legR, name } = action.payload;\r\n\r\n            state.armour.head = head ? head : state.armour.head\r\n            state.armour.body = body ? body : state.armour.body\r\n            state.armour.armL = armL ? armL : state.armour.armL\r\n            state.armour.armR = armR ? armR : state.armour.armR\r\n            state.armour.legL = legL ? legL : state.armour.legL\r\n            state.armour.legR = legR ? legR : state.armour.legR\r\n\r\n          state.gear[name] = action.payload;\r\n        },\r\n        removeGear: (state, action: PayloadAction<IArmour>) =>  {\r\n            const { head, body, armL, armR, legL, legR, name } = action.payload;\r\n\r\n            state.armour.head = head ? 0 : state.armour.head\r\n            state.armour.body = body ? 0 : state.armour.body\r\n            state.armour.armL = armL ? 0 : state.armour.armL\r\n            state.armour.armR = armR ? 0 : state.armour.armR\r\n            state.armour.legL = legL ? 0 : state.armour.legL\r\n            state.armour.legR = legR ? 0 : state.armour.legR\r\n\r\n            delete state.gear[name]\r\n        },\r\n        setWeapon: (state, action: PayloadAction<IWeapon | ISpell>) => {\r\n            state.weapons[action.payload.name] = {...action.payload, count: 1};\r\n        },\r\n        removeWeapon: (state, action: PayloadAction<IWeapon | ISpell>) => {\r\n            delete state.weapons[action.payload.name];\r\n        },\r\n        setWounds: (state, action: PayloadAction<number>) => {\r\n            state.character.currentWounds = action.payload\r\n        },\r\n        setMaxWounds: (state, action) => {\r\n            state.character.maxWounds = action.payload\r\n        },\r\n        importArmoury: (state, action: PayloadAction<IArmouryState>) => {\r\n            const { armour, gear, weapons, character  } = action.payload;\r\n            state.armour = armour;\r\n            state.gear = gear;\r\n            state.weapons = weapons;\r\n            state.character = character;\r\n        }\r\n    },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setGear, removeGear, setWeapon, removeWeapon, setWounds, setMaxWounds, importArmoury } = armourySlice.actions\r\nexport default armourySlice.reducer\r\n\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"./store\";\r\n\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport interface ICharacteristics {\r\n    name: string;\r\n    value: number;\r\n    short: string;\r\n    bonus: number;\r\n    devotion: EGods;\r\n}\r\n\r\nexport interface ICharacteristicsState {\r\n    [short: string]: ICharacteristics\r\n}\r\n\r\nexport const expMapCharacteristics = [\r\n    [100, 250, 500, 750],\r\n    [250, 500, 750, 1000],\r\n    [500, 750, 1000, 2500]\r\n]\r\n\r\nexport const characteristicsInitialState = {\r\n    'WS': { name: \"Weapon Skill\", value: 30, short: 'WS', bonus: 0, devotion: \"Unaligned\"  },\r\n    'BS': { name: \"Ballistic Skill\", value: 30, short: 'BS', bonus: 0, devotion: \"Unaligned\" },\r\n    'S': { name: \"Strength\", value: 30, short: 'S', bonus: 0, devotion: \"Khorne\" },\r\n    'T': { name: \"Toughness\", value: 30, short: 'T', bonus: 0, devotion: \"Nurgle\" },\r\n    'AG': { name: \"Agility\", value: 30, short: 'AG', bonus: 0, devotion: \"Unaligned\" },\r\n    'INT': { name: \"Intelligence\", value: 30, short: 'INT', bonus: 0, devotion: \"Unaligned\" },\r\n    'PER': { name: \"Perception\", value: 30, short: 'PER', bonus: 0, devotion: \"Unaligned\" },\r\n    'WP': { name: \"Willpower\", value: 30, short: 'WP', bonus: 0, devotion: \"Tzeentch\" },\r\n    'FEL': { name: \"Fellowship\", value: 30, short: 'FEL', bonus: 0, devotion: \"Slaanesh\" },\r\n    'INF': { name: \"Infamy\", value: 30, short: 'INF', bonus: 0, devotion: \"Unaligned\" },\r\n    'COR': { name: \"Corruption\", value: 0, short: 'COR', bonus: 0, devotion: \"Unaligned\"}\r\n} as ICharacteristicsState\r\n\r\n\r\nexport const characteristicsSlice = createSlice({\r\n    name: 'characteristics',\r\n    initialState: characteristicsInitialState,\r\n    reducers: {\r\n        increment: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value += 1\r\n        },\r\n        incrementFive: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value += 5\r\n        },\r\n        decrement: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].value -= 1\r\n        },\r\n        incrementBonus: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].bonus += 1\r\n        },\r\n        decrementBonus: (state, action: PayloadAction<string>) => {\r\n            state[action.payload].bonus > 0 ? state[action.payload].bonus -= 1 : state[action.payload].bonus = 0;\r\n        },\r\n        importCharacteristics: (state, action) => {\r\n            const characteristics = action.payload;\r\n            for (const stat in characteristics) {\r\n                state[stat] = characteristics[stat]\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, incrementFive, decrement, incrementBonus, decrementBonus, importCharacteristics } = characteristicsSlice.actions\r\nexport default characteristicsSlice.reducer\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allTalents } from \"../character/resources\";\r\n\r\nexport interface ITalent {\r\n    name: string,\r\n    tier: number,\r\n    prerequisites?: string,\r\n    devotion: EGods,\r\n    description?: string,\r\n    specialization?: string\r\n}\r\n\r\nexport enum EGods {\r\n    KHORNE = \"Khorne\",\r\n    NURGLE = \"Nurgle\",\r\n    SLAANESH = \"Slaanesh\",\r\n    TZEENTCH = \"Tzeentch\",\r\n    UNALIGNED = \"Unaligned\",\r\n    SPECIAL = \"Special\",\r\n}\r\n\r\nexport interface IGodMap {\r\n    \"Khorne\": EGods.KHORNE,\r\n    \"Nurgle\": EGods.NURGLE,\r\n    \"Slaanesh\": EGods.SLAANESH,\r\n    \"Tzeentch\": EGods.TZEENTCH,\r\n    \"Unaligned\": EGods.UNALIGNED,\r\n    \"Special\": EGods.SPECIAL,\r\n    [idx: string]: EGods\r\n}\r\n\r\nexport const godStringMap =  {\r\n    \"Khorne\": EGods.KHORNE,\r\n    \"Nurgle\": EGods.NURGLE,\r\n    \"Slaanesh\": EGods.SLAANESH,\r\n    \"Tzeentch\": EGods.TZEENTCH,\r\n    \"Unaligned\": EGods.UNALIGNED,\r\n    \"Special\": EGods.SPECIAL,\r\n} as IGodMap\r\n\r\n/**\r\nTier 1 Talente (T:200xp/A:250xp/O:500xp)\r\nTier 2 Talents (T:300xp/A:500xp/O:750xp)\r\nTier 3 Talents (T:400xp/A:750xp/O:1000xp)\r\n */\r\nexport const expMapTalents = [\r\n    [200, 250, 500],\r\n    [300, 500, 750],\r\n    [400, 750, 1000]\r\n];\r\n\r\nexport const devotionMap = {\r\n    [EGods.UNALIGNED]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 1,\r\n    },\r\n    [EGods.KHORNE]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 0,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 2,\r\n        [EGods.SLAANESH]: 2,\r\n    },\r\n    [EGods.NURGLE]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 0,\r\n        [EGods.TZEENTCH]: 2,\r\n        [EGods.SLAANESH]: 2,\r\n    },\r\n    [EGods.TZEENTCH]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 2,\r\n        [EGods.NURGLE]: 2,\r\n        [EGods.TZEENTCH]: 0,\r\n        [EGods.SLAANESH]: 1,\r\n    },\r\n    [EGods.SLAANESH]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 2,\r\n        [EGods.NURGLE]: 2,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 0,\r\n    },\r\n    [EGods.SPECIAL]: {\r\n        [EGods.UNALIGNED]: 1,\r\n        [EGods.SPECIAL]: 1,\r\n        [EGods.KHORNE]: 1,\r\n        [EGods.NURGLE]: 1,\r\n        [EGods.TZEENTCH]: 1,\r\n        [EGods.SLAANESH]: 1,\r\n    }\r\n};\r\n\r\nexport interface ITalentState {\r\n    [name: string]: ITalent\r\n}\r\n\r\nexport const talentsInitialState = {\r\n    'Total Recall': { name: \"Total Recall\", tier: 1, devotion: EGods.UNALIGNED, prerequisites: \"-\", description: \"The character can automatically remember trivial facts or pieces of information the character might feasibly have picked up in the past. When dealing with more detailed, complex or obscure facts, such as the exact layout of a defence network, the GM may require a successful Intelligence Test to recall the information.\" },\r\n} as ITalentState\r\n\r\nexport const talentSlice = createSlice({\r\n    name: 'skills',\r\n    initialState: talentsInitialState,\r\n    reducers: {\r\n        addTalent: (state, action: PayloadAction<ITalent>) => {\r\n            const talent = action.payload;\r\n            if (talent.name !== '') {\r\n                state[talent.name] = talent\r\n\r\n                if (!allTalents[talent.name]) {\r\n                    allTalents[talent.name] = talent;\r\n                }\r\n\r\n            }\r\n        },\r\n        removeTalent: (state, action) => {\r\n                delete state[action.payload?.name];\r\n        },\r\n        importTalents: (state, action) => {\r\n            const talents = action.payload;\r\n            for (const name in talents) {\r\n                state[name] = talents[name];\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { addTalent, removeTalent, importTalents } = talentSlice.actions\r\nexport default talentSlice.reducer\r\n\r\n","export enum EItemCategory {\r\n    NONE = \"-\",\r\n    WEAPON = \"Weapon\",\r\n    ARMOUR = \"Armour\",\r\n    SPELL = \"Spells\",\r\n    MISC = \"Misc\",\r\n}\r\n","import { ISkillState } from \"../skills/skillSlice\";\r\nimport { IInventory } from \"../inventory/inventorySlice\";\r\nimport { EDamageType, ESpellType, EWeaponCategory, IArmour, ISpell, IWeapon, IWeaponState } from \"../armoury/armourySlice\";\r\nimport { EGods, ITalentState } from \"../talents/talentSlice\";\r\nimport { EItemCategory } from \"./EItemCategory\";\r\n\r\nexport const allSkills: ISkillState = {\r\n    'Acrobatics': { name: 'Acrobatics', level: 0, type: 'Ag', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Athletics': { name: 'Athletics', level: 0, type: 'S', bonus: 0, devotion: EGods.KHORNE },\r\n    'Awareness': { name: 'Awareness', level: 0, type: 'Per', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Charm': { name: 'Charm', level: 0, type: 'Fel', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Command': { name: 'Command', level: 0, type: 'Fel', bonus: 0, devotion: EGods.KHORNE },\r\n    'Commerce': { name: 'Commerce', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Common Lore': { name: 'Common Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Deceive': { name: 'Deceive', level: 0, type: 'Fel', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Dodge': { name: 'Dodge', level: 0, type: 'Ag', bonus: 0, devotion: EGods.SLAANESH },\r\n    'Forbidden Lore': { name: 'Forbidden Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Inquiry': { name: 'Inquiry', level: 0, type: 'Fel', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Interrogate': { name: 'Interrogate', level: 0, type: 'Fel', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Intimidate': { name: 'Intimidate', level: 0, type: 'S', bonus: 0, devotion: EGods.NURGLE },\r\n    'Linguistics': { name: 'Linguistics', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Logic': { name: 'Logic', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Medicae': { name: 'Medicae', level: 0, type: 'Int', bonus: 0, devotion: EGods.NURGLE },\r\n    'Navigation (Surface)': { name: 'Navigation (Surface)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Navigation (Stellar)': { name: 'Navigation (Stellar)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Navigation (Warp)': { name: 'Navigation (Warp)', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Aeronaut)': { name: 'Operate (Aeronaut)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Surface)': { name: 'Operate (Surface)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Operate (Voidship)': { name: 'Operate (Voidship)', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Parry': { name: 'Parry', level: 0, type: 'Ws', bonus: 0, devotion: EGods.KHORNE },\r\n    'Psyniscience': { name: 'Psyniscience', level: 0, type: 'Per', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Scholastic Lore': { name: 'Scholastic Lore', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Scrutiny': { name: 'Scrutiny', level: 0, type: 'Per', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Security': { name: 'Security', level: 0, type: 'Int', bonus: 0, devotion: EGods.TZEENTCH },\r\n    'Sleight of Hand': { name: 'Sleight of Hand', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Stealth': { name: 'Stealth', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Tech-Use': { name: 'Tech-Use', level: 0, type: 'Int', bonus: 0, devotion: EGods.UNALIGNED },\r\n    'Survival': { name: 'Survival', level: 0, type: 'Per', bonus: 0, devotion: EGods.NURGLE },\r\n    'Trade': { name: 'Trade', level: 0, type: 'Ag', bonus: 0, devotion: EGods.UNALIGNED },\r\n}\r\n\r\nexport const allTalents = {\r\n    'Air of Authority': { name: \"Air of Authority\", tier: 1, prerequisites: \"Fel 30\", devotion: EGods.SLAANESH, description: \"When making Command Skill Tests, the character may affect a number of targets equal to 10 times his Fellowship bonus. If the character has Minions (see page 135) they are also more devoted to him and add +10 to their Loyalty when in his presence. This talent has no effect on hostile targets, and only affects NPCs.\" },\r\n    'Ambidextrous': { name: \"Ambidextrous\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.UNALIGNED, description: \"The character may use either hand equally well for any task, and does not suffer the 20 penalty for actions using his off hand. Special: When combined with the Two-Weapon Wielder Talent, the penalty for making attacks with both weapons in the same Turn drops to 10.\" },\r\n    'Ancient Warrior': { name: \"Ancient Warrior\", tier: 1, devotion: EGods.UNALIGNED, description: \"This Talent must be taken at Character Creation. The character can command special respect from other veterans of the Long War and gains a +10 to all Fellowship Tests and Skill Tests based on Fellowship when dealing with such NPCs. In addition, Chaos Space Marine Minions of the character increase their loyalty by +10. Long War weaponry is also easier for him to obtain and all weapons with the word Legion in the title count as one Availability category easier than normal (i.e. Rare becomes Scarce, Scarce becomes Average, etc.). Finally, veterans of the Long War are despised by the Imperium and the Adeptus Astartes especially, and should the characters past become known by these powers it is likely to end in blood\" },\r\n    \"Armour-Monger\": { name: \"Armour-Monger\", tier: 2, prerequisites: \"Int 35, Tech Use, Trade (Armorer)\", devotion: EGods.UNALIGNED, description: \"The character increases the Armour Points of any armour he wears by 2 on all locations it would normally cover as long as he has at least an hour each day to clean and repair it or make minor modi cations. This bonus applies only to armour worn by the character as it combines his training as much as his skill at armoury.\" },\r\n    \"Arms Master\": { name: \"Arms Master\", tier: 3, prerequisites: \"WS 40, BS 40, Weapon Training (any two)\", devotion: EGods.UNALIGNED, description: \"When the Heretic uses a weapon he is untrained in, he only suffers a 10 penalty, rather than a 20. The only exceptions to the Arms Master Talent are exotic weapons, which are so unusual or rare that they always require their own weapon training Talents to use without penalty and gain no bonus when combined with this talent.\" },\r\n    \"Assassin Strike\": { name: \"Assassin Strike\", tier: 3, prerequisites: \"Ag 40, Acrobatics\", devotion: EGods.SLAANESH, description: \"After making a melee attack, a successful Acrobatics Skill Test allows the character to move at half rate as a Free Action. The characters opponent does not receive a free attack resulting from this move. The character may only make this move once per round.\" },\r\n    \"Baleful Dirge\": { name: \"Baleful Dirge\", tier: 2, prerequisites: \"Disturbing Voice, Intimidate +10\", devotion: EGods.NURGLE, description: \"Singing the dirge takes some concentration and requires a Half Action each round to maintain. All creatures which can hear the character within a 30-metre radius must make a Willpower Test or suffer a 10 on their next roll. As long as the dirge is maintained, all those affected by it must test each turn to see if they suffer its effects. Once a creature passes a Willpower Test however, it has completely overcome the dirge and is not affected by it for the remainder of the encounter.\" },\r\n    \"Bastion of Iron Will\": { name: \"Bastion of Iron Will\", tier: 3, prerequisites: \"Psy Rating, Strong Minded, WP 40\", devotion: EGods.TZEENTCH, description: \"The character adds 5 x his Psy Rating on any Opposed Test involving defending against the Psyniscience Skill or Psychic Powers.\" },\r\n    \"Battle Rage\": { name: \"Battle Rage\", tier: 2, prerequisites: \"Frenzy\", devotion: EGods.KHORNE, description: \"The character may Parry while frenzied. In addition such is the characters control he may reroll a failed roll to snap out of Frenzy or resist entering Frenzy if he so chooses.\" },\r\n    \"Berserk Charge\": { name: \"Berserk Charge\", tier: 1, devotion: EGods.KHORNE, description: \"If the character uses the Charge Action, he gains a +30 bonus to Weapon Skill instead of +20.\" },\r\n    \"Betrayer\": { name: \"Betrayer\", tier: 2, prerequisites: \"Cold Hearted, Intimidate\", devotion: EGods.UNALIGNED, description: \"Once per game session the character may kill either an allied NPC (i.e. an NPC which is openly friendly toward the PC and trusts him) or one of his own Minions. Such calculated cruelty boosts the Heretics reputation, granting him a +10 bonus on his next Infamy Test if the victim was an NPC and +20 if it was a Minion (and harder to replace). Killing NPCs and Minions usually has consequences as well which should be determined by the GM.\" },\r\n    \"Blade Dancer\": { name: \"Blade Dancer\", tier: 3, prerequisites: \"WS 40, Two-Weapon Wielder (Melee)\", devotion: EGods.UNALIGNED, description: \"When armed with two singled handed melee weapons with the Balanced Quality, the character reduces the penalties for Two-Weapon Fighting (see page 243) by 10 (so 20 would drop to 10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Blademaster\": { name: \"Blademaster\", tier: 3, prerequisites: \"WS 30, Weapon Training (Any melee)\", devotion: EGods.KHORNE, description: \"When attacking with any bladed weapon, including chainswords, axes, and powerswords, the character may reroll one missed attack per round.\" },\r\n    \"Blasphemous Incantation\": { name: \"Blasphemous Incantation\", tier: 3, prerequisites: \"Psy Rating\", devotion: EGods.TZEENTCH, description: \"Using a power with an incantation increases the Focus Power Test by a Half Action, as the psyker requires a few moments to speak the required words. Powers for which the Focus Power Test takes a Reaction cannot be used with an invocation. Using a power with an invocation grants the psyker a +1 bonus to his Psy Rating, after determining Psychic Strength. This bonus to PR does not inuence the Psychic Strength in any way; their benet is applied after determining whether a power is used at the Unfettered, Fettered or Push level. However, the psyker must add +20 to any roll on the Psychic Phenomena table. Finally, any result of 91 or higher on the Focus Power Test is an automatic failure that results in Perils of the Warp.\" },\r\n    \"Blind Fighting\": { name: \"Blind Fighting\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.TZEENTCH, description: \"This talent reduces all penalties for ghting with a melee weapon while suffering from obscured vision by half (rounded up), permitting the character to ght in fog, smoke or darkness more effectively. See page 245 for a full list of attack penalties based on lighting and vision. Note this talent only improves a characters chances to hit with melee weapons and has not effect on ranged weapon attacks.\" },\r\n    \"Blood God's Contempt\": { name: \"Blood God's Contempt\", tier: 3, prerequisites: \"Frenzy, WP 40\", devotion: EGods.KHORNE, description: \"The character spends the time before battle armouring himself against the power of the warp by cursing the names of sorcerers and showing his fearlessness before his feeble power and all those who wield the power of the warp. This talent may be used at any time by a character as long as he has at least an hour to perform his ritual of contempt (a player may say his character has already performed the ritual before play begins if the GM agrees). The character must also spend one Infamy Point. During the game session whenever the character is the subject of the effects of a psychic power, daemonic power or other warp based power, he may make a Willpower Test (make this test before any tests he would normally be permitted to resist the effects of the power). If the Willpower test is passed the character is unaffected by the psychic power. If the test is failed then the psychic power affects him as normal and he becomes Frenzied in addition to any other effects. The effects of this talent only apply to powers that directly affect the character (such as targeted powers or powers which catch him in their area of effect) and not powers which may harm him indirectly (such as attack from summoned daemons or falling or flung debris from a telekinetic). In addition, powers used by friendly psykers must also be resisted (and also cause Frenzy should he fail to resist them). A power that is resisted by a character using this talent is not nullified an others are affected by it as normal.\" },\r\n    \"Bolter Drill\": { name: \"Bolter Drill\", tier: 3, prerequisites: \"Weapon Training (Bolt), BS 40\", devotion: EGods.UNALIGNED, description: \"When ring any class of Bolt weapon on full or semi-auto the character may score one additional Degree of Success (provided the Test is successful) if he does not take a Move Action in his turn.\" },\r\n    \"Bulging Biceps\": { name: \"Bulging Biceps\", tier: 2, prerequisites: \"S 45\", devotion: EGods.NURGLE, description: \"The character can re heavy weapons using Semi-Auto Burst or Full Auto Burst without bracing, and he does not suffer the -30 penalty for failing to brace. In addition whenever the character uses the Athletics Heft Special Skill Use (see page 96) he may add +20 to his Athletics Skill Test to reect his massive muscles.\" },\r\n    \"Catfall\": { name: \"Catfall\", tier: 1, devotion: EGods.SLAANESH, description: \"The character automatically reduces the distance of all falls by a number of metres equal to his Agility Bonus, ignoring this distance as if it did not exist. In addition the character adds +20 to his Acrobatics Skill Tests when using the Jump Special Skill Use as it pertains to reducing Damage from falling.\" },\r\n    \"Child of the Warp\": { name: \"Child of the Warp\", tier: 2, prerequisites: \"Psy Rating\", devotion: EGods.UNALIGNED, description: \"This grants greater connection to the warp and increases the characters Psy Rating by +1 when he chooses to Push . The downside, however, is that the warp is always partially manifest in his presence and he generates constant psychic phenomena. At the start of each game session the character should roll 1d10 on Table 4-4: Child of the Warp to determine the nature of these persistent effects which follow him for the duration of the session.\" },\r\n    \"Cold Hearted\": { name: \"Cold Hearted\", tier: 1, devotion: EGods.UNALIGNED, description: \"Seduction attempts against him automatically fail, and he gains a +20 to his Willpower when making Opposed Tests against an opponent using the Charm Skill. Taking this Talent gives the character one Corruption Point.\" },\r\n    \"Combat Formation\": { name: \"Combat Formation\", tier: 1, prerequisites: \"Int 40\", devotion: EGods.TZEENTCH, description: \"Before rolling initiative, all members of the group (including the character) add +1 to his Initiative Rolls. Any member of the group may also choose to use the Intelligence Bonus of the character for their initiative roll rather than their own Agility Bonus.\" },\r\n    \"Combat Master\": { name: \"Combat Master\", tier: 2, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"Opponents ghting the character in hand-to-hand combat gain no bonuses for Ganging Up (see page 245).\" },\r\n    \"Combat Sense\": { name: \"Combat Sense\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.UNALIGNED, description: \"The character may use his Perception Bonus in place of his Agility Bonus when rolling Initiative.\" },\r\n    \"Corpus Conversion\": { name: \"Corpus Conversion\", tier: 2, prerequisites: \"Psy Rating, Human\", devotion: EGods.NURGLE, description: \"A psyker with the Corpus Conversion Talent gains access to this Path to Power, and may elect to use it before he attempts his Focus Power Test. The psyker may gain a number of bonus Degrees of Success no greater than his Toughness Bonus on his Focus Power Test. However, for every Degree of Success gained in this way, the psyker suffers 1d10 Toughness Damage (note, this is not permanent Toughness Damage) and one Corruption Point as the energies of the warp poison his body from within. Traitor Legion characters may not benet from Corpus Conversion; the taint-resistant metabolism of the Astartes makes them incapable of burning away his esh to fuel warp-based powers.\" },\r\n    \"Counter Attack\": { name: \"Counter Attack\", tier: 2, prerequisites: \"WS 40\", devotion: EGods.UNALIGNED, description: \"After successfully parrying an opponents attack, the character may immediately make an attack against that opponent using the weapon with which he parried as a Free Action even though it is not his turn. This attack suffers a 20 penalty and may not be combined with any ability which allows more than one hit or attack such as Lighting Attack or Two-Weapon Fighting.\" },\r\n    \"Crack Shot\": { name: \"Crack Shot\", tier: 2, prerequisites: \"BS 50\", devotion: EGods.TZEENTCH, description: \"When the characters ranged attack causes Critical Damage, add +2 to the Damage result.\" },\r\n    \"Crippling Strike\": { name: \"Crippling Strike\", tier: 2, prerequisites: \"WS 50\", devotion: EGods.SLAANESH, description: \"When the characters melee attack causes Critical Damage add +2 to the Damage result.\" },\r\n    \"Crushing Blow\": { name: \"Crushing Blow\", tier: 3, prerequisites: \"WS 40\", devotion: EGods.KHORNE, description: \"The character adds half his Weapon Skill Bonus to Damage he inicts in melee.\" },\r\n    \"Cursed Heirloom\": { name: \"Cursed Heirloom\", tier: 1, devotion: EGods.UNALIGNED, description: \"Passed down through the ages, the character has come into possession of an ancient ancestral heirloom. He must roll a 1d5 on the Cursed Heirloom Table for any weapon or armour giving it a permanent curse. He is now bonded to the item and even if it is lost, destroyed, or stolen it always somehow turns up in its original condition at the start of the next game session. Such items also usually come with a history of their own and the GM should feel free to have the items past come back to haunt the character from time to time\" },\r\n    \"Deadeye Shot\": { name: \"Deadeye Shot\", tier: 1, prerequisites: \"BS 30\", devotion: EGods.TZEENTCH, description: \"When making a Called Shot (see page 234) ranged attack, the character reduces the penalty by 10 (so a 20 becomes a 10 instead).\" },\r\n    \"Deflect Shot\": { name: \"Deflect Shot\", tier: 2, prerequisites: \"Ag 50\", devotion: EGods.UNALIGNED, description: \"When the character is armed with a readied melee weapon they add his Weapon Skill Bonus to his armour points on all locations (even unarmed locations) when calculating Damage from hits from ranged weapons with the Primitive Special Quality or Thrown weapons.\" },\r\n    \"Demagogue\": { name: \"Demagogue\", tier: 3, prerequisites: \"Inspire Wrath\", devotion: EGods.SLAANESH, description: \"When the character uses the Charm or Intimidate Skill to affect more than one person they may affect up to a 100 times his Fellowship Bonus. In addition such is the characters natural magnetism and charisma that he adds +10 to the loyalty of all his Minions.\" },\r\n    \"Die Hard\": { name: \"Die Hard\", tier: 1, prerequisites: \"WP 40\", devotion: EGods.NURGLE, description: \"When he suffers from blood loss, he may roll twice to avoid death.\" },\r\n    \"Disarm\": { name: \"Disarm\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.UNALIGNED, description: \"If in close combat, the character may use a Full Action to disarm his foe by making an Opposed Weapon Skill Test. If the character wins the test, the enemy drops his weapon at his feet. Should the character obtain three or more Degrees of Success, he may take the enemys weapon from him.\" },\r\n    \"Disturbing Voice\": { name: \"Disturbing Voice\", tier: 1, devotion: EGods.NURGLE, description: \"The character gains a +10 bonus to all Intimidate Skill Tests, but suffers a 10 penalty to Fellowship Tests when dealing with others in a non-threatening manner, such as animals, children or the easily startled. In addition, the character is more adept at instilling fear in his followers and when using the Special Skill Use Terrify (see page 97), and adds +10 to his Command Skill Test to counter the effects of Fear.\" },\r\n    \"Double Team\": { name: \"Double Team\", tier: 1, devotion: EGods.UNALIGNED, description: \"When ganging up on an opponent, the character gains an additional +10 bonus to Weapon Skill Tests. If one or more of the other allies ganging up on the opponent have this Talent, both gain an additional +10 bonus, for a total of +20. This bonus is in addition to the normal bonus gained from Ganging Up on an opponent (see page 245).\" },\r\n    \"Electro Graft Use\": { name: \"Electro Graft Use\", tier: 1, prerequisites: \"Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"Grants and additional +10 to common lore, inquiry, or Tech-Use whilst connected to a data Port.\" },\r\n    \"Enemy\": { name: \"Enemy\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character suffers an additional 10 multiplied X times penalty to Fellowship Tests when dealing with this group and the GM may use them to complicate his life from time to time. Unlike other talents this talent does not cost any experience points to purchase and cannot be taken as an advance.\" },\r\n    \"Excessive Wealth\": { name: \"Excessive Wealth\", tier: 1, prerequisites: \"Inf 40\", devotion: EGods.SLAANESH, description: \"The character gains a +10 bonus to his Infamy whenever he makes an Acquisition Test representing his increased ability to buy goods.\" },\r\n    \"Exotic Weapon Training\": { name: \"Exotic Weapon Training\", tier: 2, devotion: EGods.UNALIGNED, description: \"The character is trained to use a particularly obscure type of weapon, allowing him to use armaments few others have ever seen. Weapons requiring this unique talent are noted in their armoury descriptions. When a character attempts to use a weapon he does not have the correct Weapon Training Talent for, he suffers a 20 penalty to any relevant Weapon Skill or Ballistic Skill Test. Unlike other kinds of weapons training this talent applies only to a single weapon and not a class of weapons\" },\r\n    \"Eye of Vengeance\": { name: \"Eye of Vengeance\", tier: 3, prerequisites: \"BS 50\", devotion: EGods.TZEENTCH, description: \"Before making a Standard Attack ranged attack action, the character may spend an Infamy Point. If he does so, his attack deals +X Damage and gains +X Pen, where X equals the number of Degrees of Success scored on the attack roll.\" },\r\n    \"Favoured by the Warp\": { name: \"Favoured by the Warp\", tier: 3, prerequisites: \"WP 35\", devotion: EGods.TZEENTCH, description: \"Whenever a Power Roll results in Psychic Phenomena, the character may roll one additional time on that table and take the more favourable result. Perils of the Warp affect him as normalsuch is the capacious nature of the gods that not even the favoured can avoid their gaze from time to time\" },\r\n    \"Fearless\": { name: \"Fearless\", tier: 3, prerequisites: \"Nerves of Steel\", devotion: EGods.NURGLE, description: \"The character is immune to the effects of Fear and Pinning, but disengaging from combat or backing down from a ght is difcult for him to stomach and as such requires a successful Willpower Test.\" },\r\n    \"Ferric Summons\": { name: \"Ferric Summons\", tier: 1, prerequisites: \"Ferric Lure Implants\", devotion: EGods.UNALIGNED, description: \"The Heretic can call an unsecured metal object to his hand as with Ferric Lure Implants, but may summon objects of up to 2 kilograms per point of his Willpower Bonus and may summon objects up to 40 metres distant.\" },\r\n    \"Flesh Render\": { name: \"Flesh Render\", tier: 1, prerequisites: \"Weapon Training (Chain)\", devotion: EGods.KHORNE, description: \"When inicting Damage with a melee weapon that has the Tearing Quality, the character rolls two additional die for Damage, rather than the normal one for using a Tearing weapon, and discards the lowest two Damage dice results.\" },\r\n    \"Foresight\": { name: \"Foresight\", tier: 2, prerequisites: \"Int 30\", devotion: EGods.TZEENTCH, description: \"By spending ten minutes studying or analysing a problem, the character gains a +10 bonus to his next Intelligence Test or a Skill Test based on Intelligence.\" },\r\n    \"Frenzy\": { name: \"Frenzy\", tier: 1, devotion: EGods.KHORNE, description: \"If the character spend one full round fuelling anger (through flagellation, drugs, or other means), next round go into an uncontrolled rage, gaining a +10 bonus to Weapon Skill, Strength, Toughness, and Willpower, but suffering a 20 penalty to Ballistic Skill, Intelligence and Fellowship. The character must attack the nearest enemy in melee combat if possible. While Frenzied, he is immune to Fear, Pinning, stunning effects, the effects of Fatigue, and he may not Parry, retreat, or flee. He remains Frenzied for the duration of the combat. Characters may not use psychic powers whilst in Frenzy. After combat ends, or if there are no more eligible targets for the character to attack he can make a Willpower Test to snap out of his Frenzy. If he fails he must continue to attack, favouring NPCs over PCs. Each successive round however he may make another Willpower Test, with a cumulative +10 Bonus to return to a stable state of mind and come out of Frenzy.\" },\r\n    \"Furious Assault\": { name: \"Furious Assault\", tier: 2, prerequisites: \"WS 35\", devotion: EGods.KHORNE, description: \"If the character successfully hits his target using the All Out Attack Action, he may spend his Reaction (and thus not being able to parry or dodge until his next turn) to make an additional attack using the same bonuses or penalties as the original attack.\" },\r\n    \"Greater Minion of Chaos\": { name: \"Greater Minion of Chaos\", tier: 3, prerequisites: \"Fel 55, Infamy 50\", devotion: EGods.UNALIGNED, description: \"Details on creating a Greater Minion can be found on page 135. This talent may be taken more than once, each time adding another Greater Minion to the characters retinue.\" },\r\n    \"Gunslinger\": { name: \"Gunslinger\", tier: 3, prerequisites: \"BS 40, Two-Weapon Wielder (Ballistic)\", devotion: EGods.UNALIGNED, description: \"When armed with two pistol-class weapons, both of which he can use single-handedly, the character reduces the penalty for Two-Weapon Fighting by 10 (so 20 would drop to 10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Hammer Blow\": { name: \"Hammer Blow\", tier: 3, prerequisites: \"Crushing Blow\", devotion: EGods.KHORNE, description: \"When the character makes an All Out Attack manoeuvre to make a single melee attack he may add half his Strength Bonus to the weapons Armour Penetration. The attack also counts as having the Concussive (2) Special Quality to represent the shocking force of the blows impact.\" },\r\n    \"Hard Target\": { name: \"Hard Target\", tier: 2, prerequisites: \"Ag 50\", devotion: EGods.SLAANESH, description: \"When the character performs a Charge or Run action, opponents suffer a 20 penalty to Ballistic Skill Tests made to hit the character with a ranged weapon. This penalty continues until the start of the characters next turn.\" },\r\n    \"Hardy\": { name: \"Hardy\", tier: 2, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"When undergoing medical treatment or healing from injures , the character always recovers Damage as if lightly wounded regardless of the level of Damage he has sustained.\" },\r\n    \"Hatred\": { name: \"Hatred\", tier: 2, devotion: EGods.KHORNE, description: \"A group, organisation or race has wronged the character in the past, fuelling this animosity. When fi ghting opponents of that group in close combat, the character gains a +10 bonus to all Weapon Skill Tests made against him. The character also finds it difficult to back down from a fight with his hated foe and must make a Willpower Test to retreat or surrender when fighting him unless massively outnumbered or outclassed\" },\r\n    \"Heightened Senses\": { name: \"Heightened Senses\", tier: 1, devotion: EGods.TZEENTCH, description: \"When the character gains this Talent, select one of the ve senses: The character gains a +10 bonus to any tests specically involving this sense. Thus, Heightened Senses (Sight) would apply to an Awareness Test to see a ock of Shale Crows, but not to a Ballistic Skill Test simply because the character is using his eyes. This talent may be taken more than once, each time with a different specialisation.\" },\r\n    \"Hip Shooting\": { name: \"Hip Shooting\", tier: 2, prerequisites: \"BS 40, Ag 40\", devotion: EGods.UNALIGNED, description: \"As a Full Action, the character may both move up to his Full Move rate and make a single attack with a ranged weapon. This attack can only be a single shot and may not be a semi or full automatic ranged attack. Characters with the Two-Weapon Fighting talent may use this talent with Hip Shooting to make two single shots if he is armed with a ranged weapon in either hand.\" },\r\n    \"Hotshot Pilot\": { name: \"Hotshot Pilot\", tier: 2, prerequisites: \"Ag 40, Operate (any)\", devotion: EGods.UNALIGNED, description: \"The character counts as having all Operate Skills (essentially, he can drive or y anything) at Rank 1 (Known). If he wishs to later improve his Operate Skills they must be bought using experience points (from Rank 1) as normal. Such is his skill he also adds one Degree of Success to any successful Operate Tests.\" },\r\n    \"Independent Targeting\": { name: \"Independent Targeting\", tier: 2, prerequisites: \"BS 40\", devotion: EGods.UNALIGNED, description: \"When ring two weapons as part of a single action (using the Two-Weapon Fighting talent), the targets need not be less than 10 metres apart.\" },\r\n    \"Infused Knowledge\": { name: \"Infused Knowledge\", tier: 3, prerequisites: \"Int 40, Lore (any)\", devotion: EGods.TZEENTCH, description: \"The character counts as having all Common Lore and Scholastic Lore (essentially, he knows something about everything) at Rank 1 (Known). If he wishes to later improve his Lore Skills they must be bought using experience points (from Rank 1) as normal. Such is his skill that he also adds one Degree of Success to any successful Common or Scholastic Lore Tests.\" },\r\n    \"Inspire Wrath\": { name: \"Inspire Wrath\", tier: 2, prerequisites: \"Air of Authority\", devotion: EGods.SLAANESH, description: \"As a Full Action, the character can make a Charm Test to grant the effects of the Hatred Talent to any people in his immediate vicinity. Success on the test grants the Hatred Talent to the listeners (with the object of hate chosen by the character) for the duration of an encounter. Listeners can resist the effects of the characters speech (and therefore not be burdened with his chosen hatred) by passing an Opposed Willpower Test against the characters Charm Skill Test. Inspire Wrath affects up to 10 times the characters Fellowship, which can be increased with the use of the Demagogue Talent as normal. Both players and GMs should bear in mind, however, that once a crowd has been inspired to hatred or mindless anger the effects can be unpredictable\" },\r\n    \"Into the Jaws of Hell\": { name: \"Into the Jaws of Hell\", tier: 3, prerequisites: \"Iron Discipline, Fel 50\", devotion: EGods.SLAANESH, description: \"His followers become immune to the effects of Fear and Pinning as long as he is physically there to lead them and they can see him leading by example. Heretics cannot benet from the Into the Jaws of Hell of another Heretic.\" },\r\n    \"Iron Jaw\": { name: \"Iron Jaw\", tier: 1, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"If ever Stunned, a successful Toughness Test allows the character to ignore the effects.\" },\r\n    \"Iron Discipline\": { name: \"Iron Discipline\", tier: 2, prerequisites: \"Fel 30\", devotion: EGods.SLAANESH, description: \"If the character is visible to his followers, either in person or via vox- or pict-caster, they may reroll failed Willpower Tests made to resist Fear and Pinning. Heretics cannot benet from the Iron Discipline of another Heretic.\" },\r\n    \"Jaded\": { name: \"Jaded\", tier: 1, prerequisites: \"WP 40\", devotion: EGods.NURGLE, description: \"Dead bodies, xenos creatures, and other terrifying but natural occurrences do not elicit Fear Tests. Terrors of the Warp still affect the character normally.\" },\r\n    \"Killing Strike\": { name: \"Killing Strike\", tier: 2, prerequisites: \"WS 50\", devotion: EGods.KHORNE, description: \"When making an All Out Attack, the character may spend one Infamy Point to choose to make that melee attack unavoidable with the Parry or Dodge Skills. Other means of stopping attacks (such as Shadow Fields or Displacement Fields) are unaffected.\" },\r\n    \"Leap Up\": { name: \"Leap Up\", tier: 1, prerequisites: \"Ag 30\", devotion: EGods.SLAANESH, description: \"The character may stand up as a Free Action\" },\r\n    \"Legion Weapon Training\": { name: \"Legion Weapon Training\", tier: 1, prerequisites: \"Chaos Space Marine\", devotion: EGods.UNALIGNED, description: \"Chaos Space Marines are procient with all weapons of the Bolt, Chain, Melta, Plasma, Power, Flame, Primary, Las, Solid Projectile, Thrown, and Launcher categories. In essence the only weapons that a Chaos Space Marine is not procient with are Exotic Weapons; for these he must acquire individual Talents as normal.\" },\r\n    \"Lesser Minion of Chaos\": { name: \"Lesser Minion of Chaos\", tier: 1, prerequisites: \"Fel 40\", devotion: EGods.UNALIGNED, description: \"Details on creating a Lesser Minion can be found on page 135. This Talent may be taken more than once, each time adding another Lesser Minion to the characters retinue.\" },\r\n    \"Light Sleeper\": { name: \"Light Sleeper\", tier: 1, prerequisites: \"Per 30\", devotion: EGods.TZEENTCH, description: \"The character is always assumed to be awake, even when asleep, for the purposes of Awareness Tests or surprise. Unfortunately, the characters sleep is not deep and can be frequently interrupted, resulting in a less-than-cheery disposition when awake.\" },\r\n    \"Lightning Attack\": { name: \"Lightning Attack\", tier: 3, prerequisites: \"Swift Attack\", devotion: EGods.KHORNE, description: \"A Heretic with this Talent may make the Lightning Attack Combat Action (see page 238).\" },\r\n    \"Lightning Reflexes\": { name: \"Lightning Reflexes\", tier: 1, devotion: EGods.SLAANESH, description: \"When making an Initiative Roll the character may roll twice and add the highest of the two dice result to his Agility Bonus.\" },\r\n    \"Lumimen Shock\": { name: \"Lumimen Shock\", tier: 2, prerequisites: \"Luminen Capacitors, Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"By making a successful melee attack (without penalties for being unarmed), the Heretic may deal 1d10 plus his Willpower Bonus in Energy Damage with Pen 2 and the Shocking Quality.\" },\r\n    \"Luminen Blast\": { name: \"Luminen Blast\", tier: 3, prerequisites: \"Luminen Shock\", devotion: EGods.UNALIGNED, description: \"The energies charged in the Heretics Luminen Capacitors can be expelled in a ranged attack with a Ballistic Skill Test directing this energy against a single target within 10 metres inicting 1d10 plus twice the characters Willpower Bonus in Energy Damage with Pen 2 and the Shocking and Blast (X) Quality. X equals any value between 1 and the Heretics Intelligence Bonus, chosen by the Heretic at the time of ring. The attack uses a Half Action to accomplish (counting as a Single Attack Action) and the character must pass a Toughness Test when he uses this ability or gain a level of Fatigue.\" },\r\n    \"Maglev Transcendence\": { name: \"Maglev Transcendence\", tier: 2, prerequisites: \"Maglev Coils/Mechanicus Impants\", devotion: EGods.UNALIGNED, description: \"He may hover for a number of minutes equal to 1d10 plus twice his Toughness bonus. He may move his Run speed when making a Half Move Action, and suffers no Damage from falling if the Coils are active. Each use expends half the power stored in the coils (therefore he may use the Coils twice before recharging them).\" },\r\n    \"Marksman\": { name: \"Marksman\", tier: 2, prerequisites: \"BS 35\", devotion: EGods.UNALIGNED, description: \"Distance is no protection against the characters marksmanship and he suffers no penalties for Ballistic Skill Tests at long or extended range.\" },\r\n    \"Master Chirurgeon\": { name: \"Master Chirurgeon\", tier: 3, prerequisites: \"Medicae +10\", devotion: EGods.NURGLE, description: \"The character gains a +10 bonus on all Medicae Skill Tests. Any successful heal attempt (including Heavily and Critically wounded patients) by the character heals 2 additional Wounds. If his patient is in danger of losing a limb from a Critical Hit (see Chapter VII: Combat), the character provides the patient with a +20 bonus to the Toughness Test to prevent limb loss.\" },\r\n    \"Master Engineer\": { name: \"Master Engineer\", tier: 3, prerequisites: \"Tech Use +20, Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"The character gains a +10 bonus on Tech-Use Skill Tests. The Heretic may spend an Infamy Point to automatically succeed on a Tech-Use Skill Test for enhancement, repair, or upgrade of a machines system, taking the minimum amount of time possible on the task. In addition at the GMs discretion the character may repair objects without all the parts at hand, jury-rigging a working device as good as the original.\" },\r\n    \"Mastery\": { name: \"Mastery\", tier: 3, prerequisites: \"Rank 4 in selected Skill\", devotion: EGods.UNALIGNED, description: \"The character may spend an Infamy Point to automatically pass a Skill Test with his chosen skill provided the nal modier to his Skill Test is 0 or greater. In addition to simply passing the test the character passes it by a number of Degrees of Success equal to the Characteristic Bonus of its associated Characteristic. This Talent may be taken more than once, each time for a different Skill.\" },\r\n    \"Mechadendrite Use\": { name: \"Mechadendrite Use\", tier: 2, prerequisites: \"Mechanicus Implants\", devotion: EGods.UNALIGNED, description: \"The character is trained in the use of a particular kind of Mechendrite (Weapon or Utility) See gear/cybernetics.\" },\r\n    \"Meditation\": { name: \"Meditation\", tier: 1, devotion: EGods.TZEENTCH, description: \"10 minutes without interruption results in a success on a Willpower Test and removes one level of Fatigue.\" },\r\n    \"Mighty Shot\": { name: \"Mighty Shot\", tier: 3, prerequisites: \"BS 40\", devotion: EGods.NURGLE, description: \"The character adds half his Ballistic Skill Bonus to Damage the character inict with a ranged weapon.\" },\r\n    \"Mimic\": { name: \"Mimic\", tier: 1, devotion: EGods.SLAANESH, description: \"The character must study the voice patterns of his intended target for at least one hour for proper imitation, and speak the same language. The character cannot accurately copy the voice of a xenos due to the difference in physiology and the subtle complexities of most alien languages. Listeners must pass a Scrutiny Skill Test with a 10 penalty to penetrate the deception. If the characters study relied on vox recordings, or comm-link conversations rather than in-person observation, then there is no penalty to the Scrutiny Skill Test to see through it. The characters deception automatically fails if the listener can clearly see him.\" },\r\n    \"Minion of Chaos\": { name: \"Minion of Chaos\", tier: 2, prerequisites: \"Fel 45, Infamy 30\", devotion: EGods.UNALIGNED, description: \"Details on creating a Minion can be found on page 135. This talent may be taken more than once, each time adding another Minion to the characters retinue.\" },\r\n    \"Nerves of Steel\": { name: \"Nerves of Steel\", tier: 2, devotion: EGods.NURGLE, description: \"The character may reroll failed Willpower Tests to avoid or recover from Pinning. In addition is seldom impressed by the aggressive displays of his enemies and gains a +10 to Willpower Tests when resisting the effects of enemy Intimidation Skill attempts.\" },\r\n    \"Never Die\": { name: \"Never Die\", tier: 3, prerequisites: \"WP 50, T 50\", devotion: EGods.NURGLE, description: \"The character can spend one Infamy Point to ignore the effects of injury, Fatigue, and Stunning for a single combat. This talent does not prevent the Damage, but allows the character to temporarily ignore its effects for the duration of the combat. Death still affects him normally.\" },\r\n    \"Orthoproxy\": { name: \"Orthoproxy\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character receives a +20 bonus to Willpower Tests made to resist mind control or interrogation. He tends not to get jokes, however.\" },\r\n    \"Paranoia\": { name: \"Paranoia\", tier: 2, devotion: EGods.TZEENTCH, description: \"The character gains a +2 bonus on Initiative rolls, and the GM may secretly test using the characters Perception to notice hidden threats. The price of this eternal vigilance is a twitchy disposition and the inability to relax.\" },\r\n    \"Peer\": { name: \"Peer\", tier: 1, prerequisites: \"Fel 30\", devotion: EGods.UNALIGNED, description: \"The character knows how to deal with a particular social group or organisation. The character gains a +10 bonus to all Fellowship Tests when interacting with this chosen group and at the GMs discretion my call upon them for favours from time to time.  In game terms, the bonus to Fellowship Tests increases to +10 times X, with X being the number of times the Talent has been awarded.\" },\r\n    \"Pity the Weak\": { name: \"Pity the Weak\", tier: 1, prerequisites: \"S 35, WP 35\", devotion: EGods.KHORNE, description: \"The character has nothing but contempt for those less powerful than himself and gains a +10 on Command, Commerce, Deception, and Intimidation Skill Tests when opposed by someone with either a Strength or Willpower Characteristic lower than themselves. Unfortunately, the character also has trouble hiding his contempt from such people and suffers a 10 to Charm Skill Tests when dealing the same people.\" },\r\n    \"Polyglot\": { name: \"Polyglot\", tier: 1, prerequisites: \"Int 40, Fel 30\", devotion: EGods.TZEENTCH, description: \"The character can make untrained Skill Tests with the Linguistics Skill even though it is a Specialist Skill. Being a Polyglot is not the same as having a true knowledge of a language, and characters must make a Linguistics Skill Test (along with the 20 modier for being untrained) to have more than the most basic conversations or exchanges of ideas.\" },\r\n    \"Precise Blow\": { name: \"Precise Blow\", tier: 2, prerequisites: \"WS 40, Sure Strike\", devotion: EGods.SLAANESH, description: \"When making a Called Shot (see page 234) melee attack, the character reduces the penalty by 10 (so a 20 becomes a 10 instead). If combined with Sure Strike, this reduces the penalty to 0.\" },\r\n    \"Preternatural Speed\": { name: \"Preternatural Speed\", tier: 3, prerequisites: \"WS 40, Ag 40\", devotion: EGods.SLAANESH, description: \"When making a Charge Move the character doubles his normal charge movement (i.e. a character with an AB of 3 has a charge movement of 9 metres, which is then doubled to 18 metres by the Preternatural Speed Talent).\" },\r\n    \"Prosanguine\": { name: \"Prosanguine\", tier: 2, prerequisites: \"Autosanguine\", devotion: EGods.NURGLE, description: \"He must spend 10 minutes in mediation and make a Tech-Use Test. If he succeeds, he heals 1d5 points of Damage plus one additional point of Damage for every two Degrees of Success. If he rolls a 96 or higher, he loses the ability to use his Black Blood implants or the Prosanguine Talent for one week.\" },\r\n    \"Psy Rating\": { name: \"Psy Rating\", tier: 3, prerequisites: \"Psyker\", devotion: EGods.UNALIGNED, description: \"Grants +1 Psy Rating to a maximum of 10\" },\r\n    \"Psychic Power\": { name: \"Psychic Power\", tier: 1, prerequisites: \"Psyker\", devotion: EGods.SPECIAL, description: \"Either through training or natural development, the character has learned an additional Psychic Power. This power must be selected from one of the powers presented in Chapter VI: Psychic Powers. The experience cost and requirements for psychic powers are not the same as other Talents (as detailed on page 77) and can instead be found in Chapter VI: Psychic Powers. Characters must have the Psyker trait to take this talent.\" },\r\n    \"Quick Draw\": { name: \"Quick Draw\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character can draw and ready a weapon as a Free Action when the character is armed with a Pistol or Basic-class ranged weapon, or a melee weapon that can be wielded in one hand.\" },\r\n    \"Radiant Presence\": { name: \"Radiant Presence\", tier: 1, prerequisites: \"Fel 45\", devotion: EGods.SLAANESH, description: \"Everyone within 20 metres that can see the character feels a touch of euphoria just by being near him and suffer lessened effects from things that would upset of distress them. Those affected gain a +10 to Willpower Tests to resist Fear or against Intimidation attempts. This ability affects all those close to the character indiscriminately, though not the character himself.\" },\r\n    \"Rapid Reaction\": { name: \"Rapid Reaction\", tier: 2, prerequisites: \"Ag 40\", devotion: EGods.SLAANESH, description: \"When surprised or ambushed, a successful Agility Test allows the character to act normally.\" },\r\n    \"Rapid Reload\": { name: \"Rapid Reload\", tier: 1, devotion: EGods.SLAANESH, description: \"The character halves all reload times, rounding down. Thus, Half Action reload become a Free Action, a Full Action reload becomes a Half Action and so on.\" },\r\n    \"Raptor\": { name: \"Raptor\", tier: 1, prerequisites: \"Operate (Aeronautica)\", devotion: EGods.UNALIGNED, description: \"When the character makes a Charge Action using a Jump Pack his melee attack deals an extra d10 of Damage for every two Degrees of Success he scores on his Weapon Skill Test to a maximum of two extra d10.\" },\r\n    \"Resistance\": { name: \"Resistance\", tier: 1, devotion: EGods.NURGLE, description: \"Each time the character select this talent, choose one area of resistance. The character gains a +10 bonus when making tests to resist the effects of this group. The characters GM may wish to approve certain choices or have them justified by the characters past.\" },\r\n    \"Sacrifice\": { name: \"Sacrifice\", tier: 2, prerequisites: \"Psy Rating\", devotion: EGods.UNALIGNED, description: \"A psyker with the Sacrice Talent may ritually prepare and slay a sacricial victim (which must be a human or intelligent xenos). It takes a Forbidden Lore (Warp) Skill Test, taking 2d5 minutes to prepare and anoint a bound and helpless sacrificial victim. Once prepared, it takes a Full Round action to slay the victim. In the subsequent turn, the psyker gains a +5 bonus to his Focus Power Test for every Degree of Success scored on Forbidden Lore (Warp) Skill Test. In addition, should any Psychic Phenomena or Perils of the Warp occur, the effects are focused through the dying victim. Any effects that would normally affect the psyker instead cause the body to burn to ash in a blaze of iridescent warp-flame, dealing 1d10 Energy Damage to anyone within three metres of the victim (gaining the Warp Weapon trait and increasing the area to a ve-metre radius if it was caused by Perils of the Warp).\" },\r\n    \"Sharpshooter\": { name: \"Sharpshooter\", tier: 2, prerequisites: \"BS 40, Deadeye Shot\", devotion: EGods.UNALIGNED, description: \"When making a Called Shot (see page 234), the character reduces the penalty by 10 (so a 20 becomes a 10 instead). If combined with Deadeye shot, this reduces the penalty to 0.\" },\r\n    \"Sidearm\": { name: \"Sidearm\", tier: 3, prerequisites: \"WS 40, BS 40, Two-Weapon Wielder (Ballistic, Melee)\", devotion: EGods.UNALIGNED, description: \"When armed with a pistol and melee weapon in either hand (which the character could normally use single-handedly), the character reduces the penalty for Two-Weapon Fighting by 10 (so 20 would drop to 10). If taken with the Ambidextrous Talent, this drops the penalty to +0.\" },\r\n    \"Sound Constitution\": { name: \"Sound Constitution\", tier: 1, devotion: EGods.NURGLE, description: \"The character gains an additional Wound.  The character may purchase this Talent multiple times up to his Toughness Bonus.\" },\r\n    \"Sprint\": { name: \"Sprint\", tier: 3, devotion: EGods.SLAANESH, description: \"When taking a Full Move Action, the character can move an extra number of metres equal to his Agility Bonus. When taking the run action, the character may double his movement for one round. The character gains one level of Fatigue if he uses this Talent two turns in a row.\" },\r\n    \"Step Aside\": { name: \"Step Aside\", tier: 3, prerequisites: \"Ag 40, Dodge, Parry\", devotion: EGods.UNALIGNED, description: \"The character may make an additional Evasion attempt (either a dodge or a parry) once per round. In effect, this gives the character a second Reaction that may only be used for Dodge or Parry attempts, allowing two dodges, two parries or a dodge and a parry in a turn. However, the character may still only attempt a single dodge or parry against each individual attack.\" },\r\n    \"Storm of Iron\": { name: \"Storm of Iron\", tier: 2, prerequisites: \"BS 45, Weapon Training (any ranged)\", devotion: EGods.KHORNE, description: \"When the Heretic deals Damage to a Horde with a semi-auto burst, a full-auto burst, or a weapon with the Spray or Blast Qualities, the Heretic deals additional Damage to the Horde equal to half his Ballistic Skill Bonus. This additional Damage is applied once per attack, not once per hit.\" },\r\n    \"Street Fighting\": { name: \"Street Fighting\", tier: 1, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"When armed with a knife (powered, chain or otherwise), similar small weapon, or simply armed with his bare hands, he adds his Weapon Skill Bonus to any Critical Damage he inflicts.\" },\r\n    \"Strong Minded\": { name: \"Strong Minded\", tier: 2, prerequisites: \"WP 30, Resistance (Psychic Techniques)\", devotion: EGods.TZEENTCH, description: \"He may reroll failed Willpower Tests to resist any Psychic Powers that affect his mind. Psychic Powers that have a physical effect, such as Doombolt, are unaffected by this Talent.\" },\r\n    \"Sure Strike\": { name: \"Sure Strike\", tier: 1, prerequisites: \"WS 30\", devotion: EGods.SLAANESH, description: \"When making a Called Shot (see page 234) melee attack, the character reduces the penalty by 10 (so a  20 becomes a 10 instead).\" },\r\n    \"Swift Attack\": { name: \"Swift Attack\", tier: 2, prerequisites: \"WS 30\", devotion: EGods.KHORNE, description: \"When a character makes a melee attack, he scores one hit on the initial Degree of Success on his Weapon Skill Test, plus one additional hit for every two additional Degrees of Success. Additional hits are counted as separate hits for all intents and purposes, roll their Damage separately and are reduced by Armour and Toughness as normal. Additional hits are made against the same body location as the original hit. When using Dodge or Parry against a Swift Attack then each Degree of Success scored with a Dodge or Parry Skill Test negates one hit from the Swift Attack. If a character is fi ghting with a weapon in either hand or benefits from a Talent or Power which allows him to make more than one attack in his turn only one of his attacks may be a Lightning Attack and have the chance of scoring additional hits. Melee weapons with the Unwieldy Special Quality cannot be used to make Lightning Attacks\" },\r\n    \"Takedown\": { name: \"Takedown\", tier: 1, devotion: EGods.UNALIGNED, description: \"As a Half Action or when making a Charge Attack the character may declare that he is attempting a takedown against an opponent in melee combat. He then roll to hit (using his Weapon Skill) as normal; using any modiers for weapons and talents (or the +20 bonus from Charging). If the character hits and would have done at least one point of Damage (after reduction for Armour and Toughness) it is ignored, but the characters opponent must make a Challenging (+0) Toughness Test or be stunned for 1 round and knocked prone. In addition, when performing a Stun Action, the character does not suffer a 20 penalty to his Weapon Skill.\" },\r\n    \"Target Selection\": { name: \"Target Selection\", tier: 3, prerequisites: \"BS 30\", devotion: EGods.UNALIGNED, description: \"The character may shoot into melee with no penalty. If he aims beforehand, he can avoid any chance of hitting friendly targets.\" },\r\n    \"Technical Knock\": { name: \"Technical Knock\", tier: 1, prerequisites: \"Int 30\", devotion: EGods.UNALIGNED, description: \"The character may un-jam any gun as a Half Action, but may only use this talent on one weapon per round. The character must touch the weapon (often quickly and violently) to make this talent work.\" },\r\n    \"Thunder Charge\": { name: \"Thunder Charge\", tier: 3, prerequisites: \"S 50\", devotion: EGods.KHORNE, description: \"When the character makes a Charge Action he can barrel through foes to get to his target. Make an Opposed Strength Test between the character and each foe in his way (i.e., each foe his charge would take him past or through). Those that fail are knocked to the ground. Once the character has tested to knock down those in his way, he may complete his Charge and make his attacks against his intended target.\" },\r\n    \"Total Recall\": { name: \"Total Recall\", tier: 1, prerequisites: \"Int 30\", devotion: EGods.TZEENTCH, description: \"The character can automatically remember trivial facts or pieces of information the character might feasibly have picked up in the past. When dealing with more detailed, complex or obscure facts, such as the exact layout of a defence network, the GM may require a successful Intelligence Test to recall the information.\" },\r\n    \"True Grit\": { name: \"True Grit\", tier: 3, prerequisites: \"T 40\", devotion: EGods.NURGLE, description: \"Whenever the character suffers Critical Damage (after reduction for Armour and Toughness) reduce the amount by his Toughness Bonus (to a minimum of 1).\" },\r\n    \"Two-Weapon Wielder\": { name: \"Two-Weapon Wielder\", tier: 2, devotion: EGods.UNALIGNED, description: \"Allows the character to use a weapon in each hand. This allow the character to attack twice in a round, once from each weapon. Both tests suffer a -20 penalty. Taken once for melee or range weapons. If both types are acquired he may fight with ine melee and one ranged weapon. \" },\r\n    \"Unarmed Master\": { name: \"Unarmed Master\", tier: 2, prerequisites: \"WS 45, Ag 40, Unarmed Warrior\", devotion: EGods.KHORNE, description: \"He counts as having the Deadly Natural Weapon Trait.\" },\r\n    \"Unarmed Warrior\": { name: \"Unarmed Warrior\", tier: 1, prerequisites: \"WS 35, Ag 35\", devotion: EGods.KHORNE, description: \"Due to extensive training in techniques of unarmed combat the character has gained the Natural Weapon Trait (see page 142) improving all his unarmed attacks from 1d5-3 to 1d10 Primitive (7) and meaning he counts as armed even when facing opponents with weapons while bare handed.\" },\r\n    \"Unholy Devotion\": { name: \"Unholy Devotion\", tier: 3, prerequisites: \"Minion of Chaos\", devotion: EGods.UNALIGNED, description: \"The characters Minions are fanatically devoted to him and would gladly die in his name. Whenever the character would be hit by a ranged attack he can make an Agility Test for any of his Minions which are no further away from him than his Agility Bonus in metres. If he passes the test then they suffer the hit instead as they have thrown themselves in front of their master, and all the hits effects are worked out against the Minion.\" },\r\n    \"Unremarkable\": { name: \"Unremarkable\", tier: 1, devotion: EGods.SLAANESH, description: \"Any attempts to recall the characters face or spot him in a crowd suffer a 20 penalty. In addition the character gains a +20 when using the Deceive Skill to either convince someone he has never seen or met him before or if he is trying to appear harmless and ordinary. Naturally this Talent doesnt work if the character wears distinctive clothes or armour, or carries unique weaponrya Chaos Space Marine hiding in a crowd of Imperial citizens is pretty easy to spot, especially since they are probably running screaming in all directions\" },\r\n    \"Unshakable Will\": { name: \"Unshakable Will\", tier: 2, prerequisites: \"WP 35\", devotion: EGods.NURGLE, description: \"The character may reroll any failed Willpower Tests to avoid the effects of Fear.\" },\r\n    \"War Cry\": { name: \"War Cry\", tier: 3, prerequisites: \"S 50, WP 50, Disturbing Voice\", devotion: EGods.NURGLE, description: \"The character may declare at the start of any of his turns that he is making a war cry as a Free Action. All creatures within a 50-metre radius treat the character as if he had a Fear Rating of 1 provided they can hear him (though they do not need to be able to see him) until the start of his next turn. While screaming his bloodcurdling war cry, the character may not communicate in any other way. Making a war cry is taxing however and at the end of any encounter in which it is used (even if only for a single turn) the character suffers a level of Fatigue.\" },\r\n    \"Warp Conduit\": { name: \"Warp Conduit\", tier: 2, prerequisites: \"Psy Rating, Strong Minded, WP 50\", devotion: EGods.TZEENTCH, description: \"When Pushing (see page 207), the character may spend one Infamy Point to add 1d5 to his Psy Rating. Channelling such vast amounts of power is dangerous, however, and he must add +30 to any resultant Psychic Phenomenon rolls.\" },\r\n    \"Warp Lock\": { name: \"Warp Lock\", tier: 3, prerequisites: \"Psy Rating, Strong Minded, WP 50\", devotion: EGods.TZEENTCH, description: \"Once per game session the character may ignore a Psychic Phenomenon result he has rolled (including a result which would indicate rolling on the Perils of the Warp Table) completely negating its effects. Such rapid dislocation from the warp is stressful and traumatic to the characters mind, however, and he suffers 1d5 Damage (not reduced by armour or Toughness) as a result, and may not make any Focus Power Tests or sustain other Psychic Powers until the beginning of his next Turn.\" },\r\n    \"Warp Sense\": { name: \"Warp Sense\", tier: 1, prerequisites: \"Psy Rating, Psyniscience, Per 30\", devotion: EGods.TZEENTCH, description: \"After gaining this talent, using the Psyniscience Skill requires a Free Action instead of a Half Action. In addition, the character can passively detect psychic effects and entities without the need to actively seek them out. Whenever the character could detect such warp signature or creature the GM may allow him to make a Psyniscience Skill Test to detect it, in the same way he might use Awareness to spot an ambush without knowing it is there.\" },\r\n    \"Weapon Training\": { name: \"Weapon Training\", tier: 1, devotion: EGods.UNALIGNED, description: \"The character can use all weapons with Class: Pistol, Basic, Heavy, Throwing, and Melee within the group he has selected with this talent. When a character attempts to use a weapon he does not have the correct Weapon Training Talent for, he suffers a 20 penalty to any relevant Weapon Skill or Ballistic Skill Test. This talent may be taken more than once, each time with a different specialisation.\" },\r\n    \"Weapon Tech\": { name: \"Weapon Tech\", tier: 1, prerequisites: \"Tech Use +10, Int 40\", devotion: EGods.UNALIGNED, description: \"Once per combat, the character can enhance his weapon increasing it repower and deadliness. For one Round per combat Encounter, a weapon personally wielded by the character from the Melta, Plasma, Power, or Exotic category increases its Damage and Penetration by an amount equal to his Intelligence Bonus.\" },\r\n    \"Whirlwind of Death\": { name: \"Whirlwind of Death\", tier: 2, prerequisites: \"WS 40\", devotion: EGods.UNALIGNED, description: \"When attacking a Horde, the character deals additional Magnitude damage equal to half his Weapon Skill Bonus.\" },\r\n    \"Wisdom of the Ancients\": { name: \"Wisdom of the Ancients\", tier: 2, prerequisites: \"Int 40\", devotion: EGods.TZEENTCH, description: \"The character may spend an Infamy Point to get insight on a situation and ask the GM a question (which he should answer as helpfully as possible) about the immediate situation which his character faces. The question can be anything the character might legitimately know from stories he has heard or his own experience. For example, when raiding an Imperial cruiser the question might be where are the Navigators quarters.\" },\r\n\r\n    // TRAITS\r\n    \"Amphibious\": {name: \"Amphibious\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature can breathe water as well as air and can stay underwater indefi nitely without the need to surface. If this trait is taken by a creature with the ability to breathe a substance other than air (i.e. water, ammonia, carbon-dioxide etc) then it can breathe air as well as its native atmosphere.\"},\r\n    \"Amorphous\": {name: \"Amorphous\", tier: 0, devotion: EGods.UNALIGNED, description: \"An amorphous creature which has a malleable form, capable of squeezing its body or expanding it. It can change size by one-step in either direction, though doing so does not change its speed. Creatures with this trait determine their movement rates using one-half their Agility Bonus rounded up. Amorphous creatures are often missing senses and so rely on the Unnatural Senses Trait to perceive their surroundings.\"},\r\n    \"Auto-Stabilised\": {name: \"Auto-Stabilised\", devotion: EGods.UNALIGNED, tier: 0, description: \"The creature always counts as braced when firing heavy weapons and therefore may fire a ranged weapon on full or semi-automatic without taking the Brace action first without suffering any penalties to hit.\"},\r\n    \"Bestial\": {name: \"Bestial\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait is animalistic, tending to behave instinctively rather than rationally. No matter how high its Intelligence score is, it is still bestial. A creature with this trait never needs to make a Survival Skill Test whilst in its natural habitat. Unless starving or desperate, a bestial creature must make a Willpower Test when frightened, startled or injured. On a failed test, the creature flees.\"},\r\n    \"Blind\": {name: \"Blind\", tier: 0, devotion: EGods.UNALIGNED, description: \"Blind creatures automatically fail all tests based on vision and automatically fail all Ballistic Skill Tests. Such creatures take a 30 penalty to Weapon Skill Tests and most other tests that ordinarily involve or are benefited by vision. Note that this Trait indicates not only that the creature cannot see but that it also has no other senses which would provide the same benefit as eyes. The Blind Fighting Talent reduces the penalties to Weapon Skill Tests as normal for Blind creatures, reducing it from 30 to 15.\"},\r\n    \"Brutal Charge\": {name: \"Brutal Charge\", devotion: EGods.UNALIGNED, tier: 0, description: \"A creature with this trait deals an extra (X) points of damage per attack when it charges in the same round.\"},\r\n    \"Burrower\": {name: \"Burrower\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait can move through solid objects by burrowing through them. The number in parenthesis (X) indicates its speed when burrowing. Such creatures can burrow through soil, rock, sand, and so on, though some (expressed in the creature entry) can burrow through metal. When a creature burrows, it leaves behind a tunnel. Creatures of one-size smaller than the creature that created the tunnel can enter these areas without impediment. Theres a 50% chance each round that the tunnel collapses behind the creature.\"},\r\n    \"Crawler\": {name: \"Crawler\", tier: 0, devotion: EGods.UNALIGNED, description: \"Worms, serpents, and similar creatures crawl and slither rather than walk. The base move for a creature with this trait is half their normal movement rate (round up) as determined by their Agility Bonus, but they do not take penalties for moving over difficult terrain.\"},\r\n    \"Daemonic\": {name: \"Daemonic\", tier: 0, devotion: EGods.UNALIGNED, description: \"Daemonic creatures are creatures of the warp, but can manifest in real space either through sheer strength of will, hunger, or occult rituals. Creatures with this trait increase their Toughness Bonus against all Damage by the number indicated in the parenthesis (X) in the same manner as an Unnatural Characteristic (see Unnatural Characteristics trait on page 144). The effects of this trait stack with the effects of the Unnatural Characteristic trait. This increase is negated by Damage inflicted by force weapons, psychic powers, holy attacks, or other creatures with this trait. Daemonic creatures are also immune to poison and disease. Creatures with the Daemonic trait also gain benefits when using Psychic Powers as detailed in Chapter VI: The Powers of the Warp.\"},\r\n    \"Dark-Sight\": {name: \"Dark-Sight\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait sees normally even in areas of total darkness, and never takes a penalty for fighting in areas of dim or no lighting.\"},\r\n    \"Fear\": {name: \"Fear\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait has an unnerving appearance. The fear of it always has an associated rating (14) to reflect just how awful the creature is to behold and is indicated by the number in parenthesis (X). The higher the Fear Rating the harder it is for others to resist going encounter, as shown on Table 4-7: Fear Ratings. When a character encounters a creature with this Trait, they must make a Willpower Test, modified by the severity of the creatures trait. On a success, the character may act as normal. On a failure, the character must roll on Table 8-4: Shock (see page 277), adding +10 to the roll for every Degree of Failure by which the Willpower Test was failed.\"},\r\n    \"Flyer\": {name: \"Flyer\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait has the natural ability to fly, whether with broad leathery wings, strange Warp energies, or inflatable gas sacs. The number in parenthesis (X) indicates its speed when flying. This number replaces the creatures Agility Bonus for movement Actions. For more details on flying, see Chapter I: Playing the Game.\"},\r\n    \"From Beyond\": {name: \"From Beyond\", devotion: EGods.UNALIGNED, tier: 0, description: \"The mind of a creature with this trait is beyond the petty frailties and precarious sanity of a mortal mind. It is immune to Fear, Pinning, Insanity Points, and psychic powers used to cloud, control, or delude its minds.\"},\r\n    \"Deadly Natural Weapons\": {name: \"Deadly Natural Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creatures natural attacks are powerful enough to crush plasteel or punch through armour. The creature gains all the benefits of the Natural Weapons Trait, except that its attacks no longer have the Primitive Special Quality.\"},\r\n    \"Hoverer\": {name: \"Hoverer\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait have a limited capability for flight, flying no higher than two metres. The number in parenthesis (X) indicates its speed when hovering. This number replaces its Agility Bonus for purposes of calculating Movement. For more details on flying, see Chapter I: Playing the Game.\"},\r\n    \"Incorporeal\": {name: \"Incorporeal\", tier: 0, devotion: EGods.UNALIGNED, description: \"Incorporeal creatures are insubstantial and weightless, able to pass through solid objects such as walls and weapons. An incorporeal creature gains a +30 bonus on Stealth Tests due to their ability to merge with objects and the fact they make practically no sounds when they move. Incorporeal creatures gain the Hoverer (6) trait. An incorporeal creature is also immune to normal weaponsthey simply pass through its body as if it wasnt there. Daemons, psychic powers, warp creatures, other incorporeal creatures, and opponents armed with force weapons may all injure an incorporeal creature normally. An incorporeal creature cant normally affect the mortal world, and thus cant Damage non-incorporeal opponents unless it has a suitable special ability or Talent. Creatures with the Incorporeal trait can Damage other creatures with the Incorporeal trait normally. Certain devices can keep an incorporeal creature at bay, most notably the Gellar Field of a spaceship. Creatures with this trait cannot pass through such a field.\"},\r\n    \"Machine\": {name: \"Machine\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with the Machine trait is fashioned from inorganic materials and is generally more rigorous then fleshy folks. Machines do not breathe, are immune to the effects of a vacuum, extremes of cold, any mind-influencing psychic effect, and their Armour Points apply toward fire Damage. Machines have a certain number of Armour Points (indicated by the number in parentheses). This armour stacks with worn armour, but not with the Natural Armour Trait.\"},\r\n    \"Multiple Arms\": {name: \"Multiple Arms\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has more than one pair of arms. The exact number of arms is indicated in parenthesis (X), so a Genestealer with Multiple Arms (4) has four arms total. It gains a +10 bonus on Athletics Tests involving climbing and swimming. In addition, for each pair of arms it hasthe Multiple Arms value divided by 2it may make an additional attack as if wielding multiple melee weapons (the creature must either have natural weapons or actual melee weapons to wield for this to take effect). Note, that a creature still requires Two Weapon Wielder (Melee) to make multiple attacks in the same turn.\"},\r\n    \"Natural Armor\": {name: \"Natural Armor\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has a naturally tough hide or an exoskeleton, affording it some protection against attacks. The number in parenthesis (X) indicates how many Armour Points the creature gains to all locations. This trait does not stack with armour. This armour stacks with worn armour, but not with the Machine Trait.\"},\r\n    \"Natural Weapons\": {name: \"Natural Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has sharp claws, teeth, spines or some other natural weapon with which it can slice and dice its foes. It counts as being armed even when not wielding weapons. Its attacks deal 1d10 points of Damage plus its Strength Bonus. The creature may make attacks with its Natural Weapons using its Weapon Skill, though it cannot parry with its natural weapons, nor can it be disarmedunless, of course its limbs are hacked off ! (In general, creatures with Natural Weapons are immune to the Power Field quality, as its assumed they have enough teeth, claws, or spines to ignore a few being removed.) Natural weapons have the Primitive (7) Special Quality, unless stated otherwise in the profile.\"},\r\n    \"Phase\": {name: \"Phase\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait can transform its body into an insubstantial state, passing ghost-like through solid objects or barriers of any sort. This trait functions exactly like the Incorporeal trait, except the creature may become solid or insubstantial by spending a Half Action. Phase carries additional limitations. A creature in a phased state cannot cross psychically charged barriers, holy wards, or energy fields designed to flux space or manipulate the warp, such as a Gellar Field or a Void Shield.\"},\r\n    \"Psyker\": {name: \"Psyker\", tier: 0, devotion: EGods.UNALIGNED, description: \"Whether due to unnatural influences, the study of forbidden lore, or simply sheer force of will, this individual is a Psyker, and can bend the Immaterium to his will. Though this Trait has no benefits on its own, it allows characters to purchase the Psyniscience Skill and the Psy Rating and Psychic Power Talents.\"},\r\n    \"Possession\": {name: \"Possession\", tier: 0, devotion: EGods.UNALIGNED, description: \"Certain spirit-beings and denizens of the warp have the ability to possess mortal bodies. This is a far more insidious and damaging process than most forms of mental control, or even the power of the strongest psykers to wear the bodies of others, as the very fabric of the assaulting warp being is merged with the victims living body on a fundamental level so as to allow it to remain in our reality. The mechanisms by which these possessions occur in the game are detailed below, although circumstance and the nature of the entity itself may vary. Note that Daemonhosts, being extraordinary powerful examples of deliberate, ritualistic possessions, designed to bind and control daemons in living vessels, are a special case and dealt with separately.\"},\r\n    \"Quadruped\": {name: \"Quadruped\", tier: 0, devotion: EGods.UNALIGNED, description: \"Quadrupeds are much quicker over a distance than their bipedal counterparts. There movement is double that normally indicated by their Agility Bonus (see page 39). This trait is intended to cover creatures with hind legs and forepaws. Creatures with more than four legs may gain this Trait as well increasing their movement as indicated above but adding an addition 2 to their final movement rate (after doubling) for each set of legs beyond the first two (i.e. +2 for 6 legs, +4 for 8 legs etc).\"},\r\n    \"Regeneration\": {name: \"Regeneration\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait heal very quickly. Each round, at the start of its turn, the creature makes a Toughness Test to removes an amount of Damage indicated in the parenthesis after the trait. It loses this trait when slain.\"},\r\n    \"Size\": {name: \"Size\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures come in one of ten different size categories, as shown on Table 4-8: Size. Size affects movement, how well the creature can hide and move undetected and how easy or hard it is to strike in combat. When calculating movement, apply the size modifier first, and then other modifiers from other Traits or Talents (such as Quadruped). For the purposes of comparison, a human is a Size (4) creature. Note, a creatures movement cannot be reduced to less than 1.\"},\r\n    \"Sonar Sense\": {name: \"Sonar Sense\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait perceives its surroundings by emitting a frequency noise, allowing the creature to locate the position of any solid object within 30 metres. Other creatures within this 30 metre range, and that succeed on an Awareness Skill Test at -10, may detect the curious keening.\"},\r\n    \"Soul Bound\": {name: \"Soul Bound\", tier: 0, devotion: EGods.UNALIGNED, description: \"The soul of this creature is bound to a higher power or being, in return for a measure of protection. When this Trait is fi rst gained, the entity to which the soul is bound must be decided. Many Imperial psykers, especially Astropaths, are soul-bound to the Emperor, for example, whereas Chaos Sorcerers may be bound to one of the Ruinous Powers. A soul-bound psyker rolls an additional die when forced to roll on the Perils of the Warp table, discarding whichever one he chooses to get a more favourable result. (Essentially, he may replace either the ones die or the tens die with the extra die he rolls) Upon becoming soul-bound, a character must choose one of the following effects: 1d10 Insanity Points (this does not apply to Heretics, as they do not suffer Insanity), the permanent loss of their sight, permanent loss of 1d10 from one Characteristic, or a random mutation. In addition, a soul-bound character is permanently indebted to the entity, which undoubtedly entails all manner of other duties and consequences.\"},\r\n    \"Stampede\": {name: \"Stampede\", tier: 0, devotion: EGods.UNALIGNED, description: \"Whenever a creature with this trait fails a Willpower Test, it automatically stampedes, charging in a straight line forwards as far as possible, overrunning anything in its path until the source of danger has escaped or is crushed under hoof, taking Damage equal to the creatures Natural Weapon Damage (or 1d5+SB I if it doesnt have one). One stampeding creature automatically causes all other creatures within sight to stampede. The stampede lasts until the source of danger is no longer visible or for 1d10 minutes, whichever occurs last.\"},\r\n    \"Strange Physiology\": {name: \"Strange Physiology\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this Trait has an unusual, alien, or altogether bizarre anatomy. All hits count as Body hits and death results when damage equals or exceeds the creatures Wounds.\"},\r\n    \"Sturdy\": {name: \"Sturdy\", tier: 0, devotion: EGods.UNALIGNED, description: \"Sturdy creatures are hard to move and thus gain a +20 bonus to tests made to resist grappling and uses of the Takedown Talent.\"},\r\n    \"Swarm\": {name: \"Swarm\", tier: 0, devotion: EGods.UNALIGNED, description: \"Too small to do much on their own, swarms overwhelm their opponents via sheer weight of numbers. A swarm is often a mass of Miniscule or Puny creatures. Any attack from a weapon that does not either have the Blast, Flame, Spray, or Scatter Qualities only inflicts half Damage. In most circumstances, a swarm creature cannot be Grappled, Knocked Down, or Pinned, and the swarm may pour through suitable small openings such as ducts, vents, and the like, but they may not Jump. The swarm is counted as being destroyed once all its Wounds are lost. The swarms attacks have a variable Penetration value (roll each time an attack lands), representing its ability to engulf their victims and attack vulnerable areas.\"},\r\n    \"The Stuff of Nightmares\": {name: \"The Stuff Of Nightmares\", tier: 0, devotion: EGods.UNALIGNED, description: \"Some warp entities are so terribly powerful the will perpetuating their bodies in our reality is almost impossible to break or disrupt. Such entities are completely immune to the effects of poisons, diseases, the need to breathe, most environmental hazards, bleeding, stunning. They also ignore any critical result other than one that would destroy them outright, unless it was caused by a psychic power, force weapon, or holy attack.\"},\r\n    \"Touched by the Fates\": {name: \"Touched by the Fates\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature or NPC has a number of Fate Points shown in parenthesis (X). It may use these Fate Points in exactly the same way as Player Characters and may even burn a Fate Point to survive death and destruction at the GMs discretion. The rules for Zealous Hatred also apply to this creature or NPC.\"},\r\n    \"Toxic\": {name: \"Toxic\", tier: 0, devotion: EGods.UNALIGNED, description: \"A creature with this trait is poisonous Some weapons rely on toxins and poisons to do their damage. Anyone that successfully deals damage to a Toxic creature must make a Toughness Test with a penalty equal to 10 times the number in parenthesis (X) or suffer 1d10 points of Damage (of the same type as the weapon which inflicted the hit) not reduced by armour or Toughness. For example a creature with Toxic (4) would impose a 40 on Toughness Tests. Some creatures may carry additional effects with their toxins or inflict more Damage as indicated in their individual descriptions.\"},\r\n    \"Undying\": {name: \"Undying\", tier: 0, devotion: EGods.UNALIGNED, description: \"This creature has a strange and ill understood physiology. It cannot be harmed by diseases, poisons, or toxic effects. It has no need to breathe and can survive unaided in a vacuum.\"},\r\n    \"Unnatural Characteristic\": {name: \"Unnatural Characteristic\", tier: 0, devotion: EGods.UNALIGNED, description: \"One or more of the creatures Characteristics is unnatural. This is indicated by a number which is then added directly to the creatures Characteristic Bonus. For example, a creature with a Strength of 41 normally has a 4 Strength Bonus. If the creature had Unnatural Characteristic Strength (3) then its Strength Bonus increases to 7 (4+3). A creature may have this Trait more than once. Each time, it is applied to a new Characteristic. In addition, whenever someone with an Unnatural Characteristic succeeds on a Test utilizing that Characteristic, they gain a number of bonus Degrees of Success equal to half of their Unnatural Characteristic.\"},\r\n    \"Unnatural Senses\": {name: \"Unnatural Senses\", tier: 0, devotion: EGods.UNALIGNED, description: \"The creature can perceive its surroundings using senses other than sight or hearing, using special organs, fine hairs, or some other disturbing trait to make itself aware of whats around it. This trait always includes a range in metres indicated by the number in parenthesis (X)\"},\r\n    \"Warp Instability\": {name: \"Warp Instability\", tier: 0, devotion: EGods.UNALIGNED, description: \"Most warp-entities have a tenuous hold on our reality, often maintained only by horror and bloodshed, and may be disrupted if sufficient harm can be done to their manifested forms. If a creature with this trait takes Damage and does not deal Damage or Insanity Points on other creatures by the end of its next turn, it must make a Willpower Test. The creature takes 1d5 Damage for failure, plus 1 Damage for each Degree of Failure. This Damage cannot be prevented by any means including armour and Toughness. If this would deal Damage equal to or in excess of the creatures Wounds, it is cast back into the warp.\"},\r\n    \"Warp Weapons\": {name: \"Warp Weapons\", tier: 0, devotion: EGods.UNALIGNED, description: \"Creatures with this trait have weapons that are partially insubstantial, able to ignore such mundane things as armour or cover. Natural weapons and attacks made by a creature with this trait ignore physical armour unless it is created from psychoactive materials or is somehow warded against the warp. Force fields still work against these attacks normally\"},\r\n\r\n    // GIFT OF THE GODS\r\n    \"Addiction\": {name: \"Addiction\", tier: -1, devotion: EGods.SPECIAL, description: \"Exposure to the raw stuff of Chaos twists and alters the characters\\nbrain chemistry to such an extent that he develops an all-consuming\\naddiction to one particular substance. The object of the addiction\\ncan be almost anything, from the last thing he ate to something he\\nhas never even heard of, so fi ckle are the effects of the warp.\\nThe GM should choose a substance for the character to\\nbe addicted to (the more bizarre the better!). During any\\nEncounter in which the character does not feed his addiction\\nhe suffers 10 to all Skill Tests until he does so. With the GMs\\nconsent, the addiction can be slaked before the Encounter\\nbegins, but this should not be abused.\"},\r\n    \"Additional Limb\": {name: \"Additional Limb\", tier: -1, devotion: EGods.SPECIAL, description: \"The growth of additional limbs is common amongst those\\nwho seek to wield the power of Chaos as a weapon, and such\\na gift allows the character to fi ght more effectively and carry\\nmore weapons. Some notable renegades receive the gift several\\ntimes over, taking on the appearance of some multi-armed or\\nmany-legged spider god able to wield a small arsenal of guns\\nor use their limbs to climb otherwise unscaleable heights.\\nThe character gains the Multiple Arms Trait, with a value equal\\nto the number of limbs he started out with, plus one for each time\\nthis gift is applied. He may choose what type it is and whether\\nit has a hand, claw, or other appendage attached. Roll on Table\\n9-2: Limb Table to determine where the limb is located.\\nKhorne: The limb is bristling with bony spikes. Any unarmed\\nattacks made using the limb have the Tearing Quality.\\nSlaanesh: The limb is unnaturally lithe and dextrous. Any\\nunarmed attacks made using the limb are carried out at +10\\nto the characters Weapon Skill.\\nNurgle: The limb oozes necrotic slime and terminates in\\na drooling orifi ce. Any unarmed attacks made with the limb\\nhas the Toxic (1) Quality.\\nTzeentch: The limb writhes and darts in an unpredictable\\nmanner, granting the character the Disarm Talent, which he\\nmay use as a Free Action so long as he is making an unarmed\\nattack using the limb.\"},\r\n    \"Animal Hybrid\": {name: \"Animal Hybrid\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters body is fused with that of a beast, creating a\\nbizarre hybrid combining the most lethal qualities of both. Far\\nmore than a cosmetic mutation, the characters very essence takes\\non something of that of the animal it merges with, altering his\\nthought patterns to something other than a humans. However,\\nhis abilities to think and reason are largely unaffected, unlike\\nthose unfortunates who suffer the Bestial Gift.\\nUnless the character is dedicated to a Chaos Power, roll\\non Table 9-4 to determine what type of animal the character\\nfuses with. The character should be played in such a manner\\nas to play up the characteristics of the creature, and the GM\\nshould award additional Experience Points to reflect this.\\nKhorne: The character takes on the characteristics of a\\nferal bull, his face elongating to accommodate great horns\\nand his skin growing a leathery texture.\\nSlaanesh: The characters features become disturbingly\\nsnakelike, his tongue becomes long and sinuous, and his skin\\nbecomes smooth and hard.\\nNurgle: The characters features begin to resemble those\\nof a slug, his mouth becomes lamprey-like, and his skin\\noozes foul slime.\\nTzeentch: The characters body becomes bird-like, his\\nlegs becoming back-jointed while his jaw and nose fuse and\\nstretch to become a sharp beak.\"},\r\n    \"Bestial God\": {name: \"Bestial God\", tier: -1, devotion: EGods.SPECIAL, description: \"While the character does not completely mutate into a beast,\\nhe adopts the physical appearances and mannerisms of a\\ncertain type of animal. Unfortunately, while he is still capable\\nof intelligent thought, his bestial mannerisms make it more\\ndifficult.\\nPermanently reduce the characters Intelligence by\\n1d10+5 and his Willpower by 1d10+5. However, increase\\nhis Strength by 1d5+1. Additionally, roll on Table 9-4 to\\ndetermine exactly what animals traits the characters adopted,\\nas the character will undergo cosmetic changes (scales, fur, or\\na forked tongue) from the mutation as well\"},\r\n    \"Blood Substitution\": {name: \"Blood Substitution\", tier: -1, devotion: EGods.SPECIAL, description: \"Something other than blood pumps through the characters veins,\\nthough the exact substance is dependent upon his own character\\nor that of his patron. Ordinarily, the exact nature of the blood\\nsubstitution has little relevance and may even be unknown to\\nthe character until he is wounded. When that happens, the warptinged fluid spews forth, forming a weapon in its own right.\\nShould the character ever be wounded and suffer Damage that\\nleads to Blood Loss (see page 257), one randomly determined\\ncharacter within 1 metre immediately takes 1d10 Impact Damage\\nunless he can pass a Difficult (10) Agility Test.\\nKhorne: Lava courses through the characters veins. The\\nDamage described above has the Flame Quality.\\nSlaanesh: The substance in the characters veins is highly\\ncorrosive. The Damage described above has the Tearing Quality.\\nNurgle: Ravening maggots spill from the wound. The\\nDamage described above has the Toxic Quality.\\nTzeentch: Upon being wounded, the characters body\\nemits a wave of warp energy. The Agility Test to avoid the\\ndamage is Hard (20)\"},\r\n    \"Blasted Senses\": {name: \"Blasted Senses\", tier: -1, devotion: EGods.SPECIAL, description: \"The raw power of Chaos blasts the characters senses\\nburning out nerve endings and searing the brains ability to\\ntranslate what his perceptions are trying to tell it.\\nThe character is unable to use one randomly determined\\nsense from the following list (sight, hearing, smell, or touch),\\nwith all the penalties that may apply. However, his body\\ndoes compensate slightly for this deformity and he gains\\nthe Heightened Senses Trait for one different, randomly\\ndetermined, sense. At the GMs discretion, the character can\\nobtain cybernetic augmentation to partially overcome a loss of\\nsight or hearing, although even then the character still suffers\\na 10 penalty to all Awareness Tests made with that sense.\"},\r\n    \"Blessed Fits\": {name: \"Blessed Fits\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is prone to bouts of severe seizuresshaking\\nuncontrollably, frothing at the mouth, and thrashing about\\nwildly. Many consider these fi ts to be special gifts from the\\ngods, during which the afflicted is experiencing intimate\\ncommunion with the Ruinous Powers.\\nShould the character ever declare that he is using an\\nInfamy Point to reroll a failed Test and then fail on the reroll,\\nhe is struck by a seizure and Stunned for 1d10 Rounds. When\\nhe awakens, however, he does not count as having used the\\nInfamy Point.\"},\r\n    \"Boneless\": {name: \"Boneless\", tier: -1, devotion: EGods.SPECIAL, description: \"Some of the characters bone tissue dissolves into his blood\\nstream, weakening him while at the same time making his\\nbody more flexible. There are those who may be disgusted\\nwith his constantly shifting features.\\nThe character permanently loses 1d10+10 Strength, but\\ngains 1d5+2 Agility\"},\r\n    \"Burning Body\": {name: \"Burning Body\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters body is wreathed in empyreal flames. While\\nhis own body is unaffected, others who approach too close\\nmay be burned or consumed entirely.\\nThe characters body is constantly aflame and may damage\\nhis surroundings, betray his presence, and the like, as determined\\nby the GM. In addition, any enemy landing a blow on him with\\ntheir bare hands or attempting to grapple with him must pass\\na Challenging (+0) Agility Test or immediately take 1d10 E\\nDamage. In addition, the character always has a light.\\nKhorne: The flames in which the character is wreathed\\nare those of Khornes forges. They inflict 2d10 Damage, but\\nmake it all but impossible for the character to hide in any way\\n(as is appropriate for a champion of the Lord of Battles!).\\nSlaanesh: Slaanesh has gifted the character with a wreath\\nof invisible flames. They will not betray the characters\\npresence, and unless an enemy is forewarned or has a special\\nability, he will not know of them until it is too late. In\\naddition, the flames no longer count as a light source.\\nNurgle: Corpse-gas flames release a choking scent. Instead\\nof their normal effects, all living creatures in melee with the\\nHeretic must pass an Ordinary (+10) Toughness Test or\\ntake 1d5 Toughness Damage.\\nTzeentch: Writhing multi-hued flames scar the soul as well\\nas the body. In addition to the regular effects, enemies who take\\nDamage from this ability also receive 1 Corruption Point.\"},\r\n    \"Centauroid\": {name: \"Centauroid\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters entire lower body has been replaced with\\nthat of a hoofed quadruped, creating a bizarre, centauroid\\nform. In many cases the beast in question is entirely random,\\nand may be drawn from some alien world never before\\nwitnessed by man. In other cases, the creature is one that\\nstrikes terror into the hearts of all who face it, or that grants\\nsome special ability drawn from its very nature.\\nThe character gains the Quadruped Trait, and his body\\nfrom the waist down is replaced by that of an animal\\ndetermined by rolling on Table 9-4.\\nKhorne: The body with which the character is fused has\\nskin as hard as brass, granting him an additional +2 Armour\\nPoints to attacks that strike his legs.\\nSlaanesh: The animals body is especially lithe and agile,\\ngranting him +10 to all Acrobatics Skill Tests.\\nNurgle: The skin of the animals body oozes with necrotic\\nslime, increasing his movement by a further +2.\\nTzeentch: The animals feet are replaced with splayed\\nsuckers, granting the character the Sturdy Trait.\"},\r\n    \"Chaos Organ\": {name: \"Chaos Organ\", tier: -1, devotion: EGods.SPECIAL, description: \"This gift confers upon the character an organ or appendage\\nnormally only found attached to a daemon of one of the\\nRuinous Powers. Such a gift is sure to be regarded with awe\\nby other mortals, who will regard it as a sure sign of the\\ncharacters favour in the eyes of his otherworldly patrons.\\nThe character gains some aspect of one of the many daemons\\nof Chaos. This could take the form of unnatural eyes burning\\nwith daemonic fi re, long grasping talons replacing hands, cloven\\nhooves, or other, more insidious mutations. The Heretic may\\nselect one of the following Traits: Natural Weapons, Heightened\\nSenses (any one), or Unnatural Characteristic (+1) (any one). He\\nand the GM then determine what daemonic organ contributed\\nthis Traita Bloodletters eyes, a Flesh Hounds nose, the\\nrending claws of a Horror, or something altogether stranger.\\nKhorne: The character sprouts a set of horns resembling those\\nof a Bloodletter. The character gains the Furious Assault Talent.\\nSlaanesh:One of the characters hands (randomly determined)\\nis replaced by the razor-sharp crab claw of a Daemonette. The\\ncharacter gains the Natural Weapons (Claws) Trait, in addition\\nthis weapon has the Razor Sharp Quality. However, the Heretic\\nmay not hold or wield anything in that hand.\\nNurgle: The characters belly swells with fetid corpse gas,\\nhis entrails pushing horribly through the distended rupture.\\nThe character gains the Regeneration (1) Trait.\\nTzeentch: The character gains an additional arm, topped\\nwith a distended claw like those of a Horror of Tzeentch. The\\ncharacter gains the Multiple Limbs Trait, with the exception\\nthat this additional limb can melt into his body and vanish or\\nreappear at the Heretics whim (a Full Action in game terms).\"},\r\n    \"Cyclops\": {name: \"Cyclops\", tier: -1, devotion: EGods.SPECIAL, description: \"The character has been cursed by the fi ckle will of Chaos.\\nIn return for one of his eyes, he is given the ability to see\\nsomething of the future. Unfortunately, the only part of the\\nfuture he is able to see is his own death, and he turns maudlin\\nor enraged as he dwells upon his doom and seeks to plot how\\nit might be avoided.\\nOne of the characters eyes seals over or turns into a gaping\\nsocket. He permanently loses 1d5 Perception and counts as\\nhaving the Conspiracy Theorist Disorder (see page 278).\"},\r\n    \"Darksoul\": {name: \"Darksoul\", tier: -1, devotion: EGods.SPECIAL, description: \"The character radiates the power of the warp and his soul\\nglows darkly with the blessings of the Ruinous Powers. His\\neyes flicker with the lambent energies of the warp and the air\\nchills with his passing.\\nThe character gains the Fear 1 (Disturbing) Trait or, if\\nhe already causes Fear, increases the level by +1, up to a\\nmaximum of 4 (Terrifying).\\nKhorne: Enemy warriors know that they are facing\\na champion of the Lord of Battles himself, and tremble in\\nfear. Enemy warriors (Imperial Guardsmen, planetary defence\\nforce troops, Space Marines, etc.) count the characters Fear\\nrating as one level higher.\\nSlaanesh: The character strikes especial terror into the hearts\\nof those who worship the False Emperor of Mankind, for they\\nknow that no extreme of sacrilege is beyond him. Enemies such\\nas Adepta Sororitas, Inquisitors, and members of the Ecclesiarchy\\ncount the characters Fear rating as one level higher.\\nNurgle: The character is especially horrifying to those who\\nconsider themselves lost or abandoned. When facing renegades,\\nlost colonists, or anyone else beyond the Imperiums boundaries,\\nthe characters Fear rating is counted as one level higher.\\nTzeentch: Enemy psykers fi nd the character especially\\ndisturbing, instinctively knowing that they are in the presence\\nof a servant of the Architect of Fate. Enemies with psychic\\npowers count the characters Fear rating as one level higher\"},\r\n    \"Dimensional Instability\": {name: \"Dimensional Instability\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters connection to the physical realm begins to\\nslip, his consciousness segueing between real space and the\\nRealm of Chaos. At times, he appears to fade away entirely as\\nhe walks the otherworld of daemons and fell gods.\\nOnce per session, the character may choose to be subject\\nto the Incorporeal Trait for a number of consecutive Rounds\\nequal to his Corruption Bonus.\\nKhorne: So raw is the characters hatred that he can strike\\nhis foes from beyond the veil of reality. If the character passes\\na Very Hard (-30) Willpower Test, he may make melee\\nattacks while Incorporeal.\\nSlaanesh: The servants of Slaanesh sometimes utilise this\\nstate to invade the dreams and nightmares of their enemies,\\nwhispering subtle lies at the edge of consciousness, or else\\nthey assume ethereally beguiling forms to bewitch their foes.\\nIf the character passes a Very Hard (30) Willpower Test,\\nhe gains +30 to all Interaction Tests while Insubstantial.\\nNurgle: If the character can pass a Very Hard (30)\\nWillpower Test, he gains the Fear 1 (Disturbing) Trait while\\nIncorporeal or, if he already cause Fear, increase the level by\\n+1 while Incorporeal (up to a maximum of Fear 4).\\nTzeentch: If the character can pass a Very Hard (30)\\nWillpower Test, he may use Psychic Powers while Incorporeal.\"},\r\n    \"Emaciated\": {name: \"Emaciated\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters frame withers until he is all but skeletal and he\\nbecomes weak and frail. He is affl icted by an eternal hunger that\\ncan never be satiated as all but the merest fraction of the food\\nhe imbibes is claimed by the warp, never to strengthen his body.\\nThe character suffers a 20 penalty from Fatigue, rather\\nthan a 10.\"},\r\n    \"Eye of Chaos\": {name: \"Eye of Chaos\", tier: -1, devotion: EGods.SPECIAL, description: \"If the eyes are the window to the soul, then what gazes\\nout from behind the characters gaze is something far from\\nmortal. His fell gaze is imbued with the weirdling light of the\\nempyrean, and to fall under it is to have ones soul desiccated\\nas if looking into the warp itself.\\nThe character gains the Psyniscience Skill or, if he already\\npossesses the Skill, advances it by +10.\\nKhorne: The rage of the Blood God himself radiates from\\nthe champions eyes. The character gains the Intimidation Skill\\nor, if he already possesses the Skill, advances it by +10.\\nSlaanesh: The character sees into the soul of his victim,\\nrecognising lies and deceit. The character gains the Interrogation\\nSkill, or, if he already possesses the Skill, advances it by +10.\\nNurgle: Nurgle promises deliverance from pain and\\nsuffering. The character gains the Charm Skill, or, if he\\nalready possesses the Skill, advances it by +10.\\nTzeentch: The characters eyes shine with the multihued\\ngaze of the Lord of Lies. The character gains the Deceive\\nSkill, or, if he already possesses the Skill, advances it by +10\"},\r\n    \"Eye-Stalks\": {name: \"Eye-Stalks\", tier: -1, devotion: EGods.SPECIAL, description: \"The fi ckle nature of Chaos imprints itself upon the character,\\nextending his eyes out of their sockets and causing them to\\nwave above his head on elongated stalks. Though better able\\nto see his surroundings, the danger to his exposed eyeballs\\nshould not be understated.\\nThe character permanently gains 1d5 Perception, but\\nwhenever he suffers Critical Damage to the head (for any\\nreason) he adds +1 to the result. Additionally, he may not be\\nable to wear certain helmets, though the eye-stalks can coil up.\"},\r\n    \"Featureless Face\": {name: \"Featureless Face\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters features fade away to nothing, leaving him\\nwithout eyes, nose, or mouth. Despite appearances, the character\\n294is left with his senses intact and, in addition, has no need to take in\\nphysical sustenance, gaining nourishment from the imperceptible\\nebb and fl ow of Chaos itself. The effect of this affliction varies, for\\nwhile the character cannot speak in the conventional manner, he\\nis both intensely disturbing and powerfully intimidating.\\nThe character has no need to eat or drink to survive (and\\ncan see normally even without eyes), but he cannot speak\\n(though he may be able to communicate in other ways, such\\nas telepathically or with hand-signs). Any Interaction Tests\\n(except Intimidation Tests) suffer a 20 penalty\"},\r\n    \"Flaming Skull\": {name: \"Flaming Skull\", tier: -1, devotion: EGods.SPECIAL, description: \"The champions skin is seared away by unnatural fl ames that\\nmay never be extinguished.\\nThe character gains the Fear (1) Trait or, if he already\\ncauses Fear the rating is increased by one level to a maximum\\nof 4 (Terrifying). His Fellowship is reduced by 10+2d10, to\\na minimum of 1. This may also cause additional disorders\\ndepending on the characters temperament and personality\"},\r\n    \"Grossly Fat\": {name: \"Grossly Fat\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters fl esh swells and distorts, muscle turning to\\nblubber before his very eyes and expanding until he is two or\\nthree times his previous mass.\\nThe character permanently loses 1d10+10 Agility and\\n1d10+2 Fellowship, but does permanently gain 1d10 Toughness\\nand the Size (Hulking) Trait (if he does not have it already)\"},\r\n    \"Headless\": {name: \"Headless\", tier: -1, devotion: EGods.SPECIAL, description: \"The touch of Chaos causes the characters head to shrink into his\\nshoulders, until his features are merged into his upper chest.\\nThe character is slow to react in combat and always\\ncounts as rolling a 1 for Initiative Tests. However, any\\nattacks that hit the head count as hitting the chest\\nlocation instead.\"},\r\n    \"Icon of Blasphemy\": {name: \"Icon of Blasphemy\", tier: -1, devotion: EGods.SPECIAL, description: \"The character embodies all that is blasphemous to those\\nwho blindly worship the False Emperor of Mankind. His\\nblasphemies take many forms, from iconoclastic scripts\\ntattooed upon his skin to a mocking resemblance to a fi gure\\nsuch as an Imperial Saint. Some are capable of channelling\\ntheir very essence into their blasphemies, and these are truly\\na scourge on the weakling Imperium of Man.\\nOnce per session, the character may unveil or unleash his\\nblasphemy upon his foe. For one round, he gains the Fear 3\\n(Horrifying) Trait.\\nKhorne: By passing a Hard (20) Strength Test, the\\ncharacter may extend the the effect for an additional Round.\\nSlaanesh: By passing a Hard (20) Fellowship Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\\nNurgle: By passing a Hard (20) Toughness Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\\nTzeentch: By passing a Hard (20) Willpower Test,\\nthe character may extend the length of the effect for an\\nadditional Round.\"},\r\n    \"Illusion of Normality\": {name: \"Illusion of Normality\", tier: -1, devotion: EGods.SPECIAL, description: \"Perhaps the most bizarre of all Gifts of the Gods is that which\\nlends the recipient the outward appearance of complete\\nnormality when he is, in fact, a seething mass of mutation and\\ncorruption. To most, the character appears to have the unaltered\\nform he was born with, while to those touched by the warp the\\ntruth is more likely to be visible, and truly horrific.\\nThe character gains the Unremarkable Trait, regardless of how\\nmany mutations he has, what weapons he is carrying, or even if\\nhe is a Chaos Space Marine. This gift is more than a quirk, it is an\\nactive power, and as such it may be detected by enemies using the\\nPsyniscience Skill. For each Gift the character has, deduct 5 from\\nthe difficulty of the Psyniscience Test.\\nKhorne: The characters enemies are always Surprised\\n(see page 233) when he attacks.\\nSlaanesh: The character gains +20 to all Deceive Skill Tests.\\nNurgle: The characters range of Nurgles Rot (either\\nthe mutation or the psychic power) is now 2 x his\\nCorruption Bonus.\\nTzeentch: The number of mutations the character has does\\nnot affect enemy Psyniscience Tests made to detect his presence\"},\r\n    \"Infernal Will\": {name: \"Infernal Will\", tier: -1, devotion: EGods.SPECIAL, description: \"The needs and desires of the mortal realm hold no power over\\nthe character, and his drives and passions are entirely those of\\nthe warp. He is motivated by the will of the empyrean, and\\nhis deeds make little sense to mere mortals.\\nThe character is entirely immune to the effects of Fear.\\nShould the character fail any Skill Test by four or more\\nDegrees, however, he must immediately roll on Table 84:\\nShock and apply the result.\\nKhorne: If the Skill Test was for a Skill aligned with\\nKhorne (see page 93), the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\\nSlaanesh: If the Skill Test was for a Skill aligned with\\nSlaanesh (see page 93), the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\\nNurgle: If the Skill Test was for a Skill aligned with\\nNurgle (see page 93), he may adjust the result rolled up to an\\namount equal to his Corruption Bonus.\\nTzeentch: If the Skill Test was for a Skill aligned with\\nTzeentch (see page 93) the character may adjust the result\\nrolled up to an amount equal to his Corruption Bonus.\"},\r\n    \"Inside Out\": {name: \"Inside Out\", tier: -1, devotion: EGods.SPECIAL, description: \"Occasionally, the dark things that lurk within the warp cause\\na mans innards to burst through his fl esh so that his body\\nappears clothed in a hideous skin of glistening organsa\\nfickle caprice that cannot be understood by mere mortals.\\nThe character suffers a 30 penalty to all Interaction Skill Tests\\n(except Intimidate Tests), but gains a +20 to Intimidate Tests.\"},\r\n    \"Intelligent Cyst\": {name: \"Intelligent Cyst\", tier: -1, devotion: EGods.SPECIAL, description: \"A new, cyst-like organ grows inside the characters body,\\ndeveloping a mind and will of its own. Periodically, the cyst\\nattempts to gain control of the characters body and, when\\nit does so, it pursues its own ends, which may be entirely\\ndifferent from those of the character.\\n295The cyst gains brief control whenever the hosts\\nconcentration slips. Should the character ever fail an\\nInteraction Skill Test, he fails it by two additional Degrees\\nof Failure, as the Cyst momentarily causes him to do or say\\nsomething contrary to his interests\"},\r\n    \"Limb Loss\": {name: \"Limb Loss\", tier: -1, devotion: EGods.SPECIAL, description: \"The unknowable powers of the warp claim one of the\\ncharacters limbs, leaving behind nothing but a healed stump.\\nMost fi nd that the lost limb still feels like it is there, while\\nothers claim to feel the pain of its slow dissolution somewhere\\nin the depths of the Empyrean.\\nThe character loses one randomly determined limb\"},\r\n    \"Magnificent Horns\": {name: \"Magnificent Horns\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is blessed with an impressive set of horns,\\nwhich serve as both weapons and status symbols amongst the\\nranks of the lost and the damned.\\nThe character gains +10 Loyalty with any Minions he\\nmay have. In addition, whenever he makes a Charge Action,\\nhis attack cannot be Parried.\\nKhorne: Only Minions dedicated to the Blood God gain\\nthe Loyalty bonus.\\nSlaanesh: Only Minions dedicated to the Dark Prince\\ngain the Loyalty bonus.\\nNurgle: Only Minions dedicated to the Lord of Decay\\ngain the Loyalty bonus.\\nTzeentch: Only Minions dedicated to the Architect of\\nFate gain the Loyalty bonus.\"},\r\n    \"Mechanoid\": {name: \"Mechanoid\", tier: -1, devotion: EGods.SPECIAL, description: \"The recipients body is fused with the machine, his bone\\nreplaced with metal and his muscles with pistons. His psyche\\nis absorbed into the new form, until nothing of the biological\\nremains at all. The resultant machine is the ultimate blasphemy\\nto the Tech-Priests of Mars, and an object of adoration to the\\nDark Mechanicus. Its function obeys no laws of the machine\\nand its internal workings are anathema to logic and reason.\\nThe character gains the Machine (+1) Trait.\\nKhorne: The characters skin is gleaming bronze, granting\\nhim the Natural Armour (3) Trait.\\nSlaanesh: The characters muscles are replaced with an\\nimpossibly fi ne mesh of micro actuators, granting him +1 to\\nInitiative Checks.\\nNurgle: The characters already-formidable frame is\\nfortified still further by an array of mechanical callipers,\\ngranting him the Sturdy Trait.\\nTzeentch: The characters senses are enhanced by a\\ncomplex web of machine receptors, granting him +10 to all\\nAwareness Tests.\"},\r\n    \"Nerveless Ennui\": {name: \"Nerveless Ennui\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is incapable of feeling physical stimuli, caring\\nfor neither the kiss of lips nor the caress of the blade.\\nThe characters physical senses are so dulled that he feels little\\nin the way of pain. The character ignores the 10 penalty when\\nsuffering Fatigue. However, any Awareness Tests based on sensing\\nby touch are counted as one level of difficulty harder.\\nKhorne: Whenever the character suffers Critical Damage\\n(after reduction for Armour and Toughness) reduce the\\namount by his Corruption Bonus (to a minimum of 1).\\nSlaanesh: The character may reroll any failed attempts\\nto resist the effects of torture or seduction based on the\\napplication of physical stimuli.\\nNurgle: The characters resistance is heightened even\\nmore. He must suffer a number of levels of Fatigue equal to\\n2 + his Toughness Bonus before he is knocked unconscious.\\nTzeentch: While the characters physical senses are dulled,\\nhis supernatural ones are greatly heightened. He adds +20 to\\nthe result of all Psyniscience Skill Tests.\"},\r\n    \"Pervasive Miasma\": {name: \"Pervasive Miasma\", tier: -1, devotion: EGods.SPECIAL, description: \"A drastic imbalance in the characters humours brought about\\nby prolonged exposure to the baleful energies of the warp\\ncauses him to be surrounded by the creeping, noxious stench\\nof brimstone and corruption.\\nWhen the character fails Stealth Tests, he gains an\\nadditional Degree of Failure.\"},\r\n    \"Projectile Attack\": {name: \"Projectile Attack\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is gifted with the ability to summon forth a\\nstream of unreal matter brewed from the raw stuff of Chaos.\\nThe stream is generally projected from the recipients mouth,\\nand the exact nature this matter assumes upon leaving the\\ncharacters body varies enormously.\\nThe character may make a Standard Attack Half Action to\\nunleash a projectile attack with the following profi le; Range:\\n10m; Rate of Fire: S/-/-; Damage: 1d10+5; Penetration 3;\\nSpray, Smoke. Obviously, the character may not make this\\nattack if he is wearing an enclosed helmet!\\nKhorne: The matter forms a sheet of raging fi re. The\\nattack gains the Flame Quality.\\nSlaanesh: The stream of matter twists and writhes as\\nincorporeal limbs entwine the victim. The attack gains the\\nShocking Quality.\\nNurgle: The nature of the substance spewing forth from\\nthe characters innards is best left unsaid. The attack gains the\\nToxic Quality.\\nTzeentch: The character vomits the raw stuff of the warp\\nitself. The attack gains the Warp Weapon Quality.\"},\r\n    \"Pseudo-Deamonhood\": {name: \"Pseudo-Deamonhood\", tier: -1, devotion: EGods.SPECIAL, description: \"A gift held by many as both a curse and a blessing, the\\nrecipients body is twisted and mutated until they come to\\nresemble that of one of the myriad lesser daemons of the\\nwarp, such as the dreaded Ebon Geist, the mournful Dispayre,\\nor the savage Manripper. The characters very nature becomes\\nmelded with the warp and his perception of the material\\nuniverse fades while that of the unreal beyond is magnified a\\nthousand-fold.\\nThe character gains the Fear 4 (Terrifying) and Warp\\nInstability Traits. If the character is ever banished to the\\nwarp, the GM will have to determine the length of time he is\\nbanished for and the conditions of his return. If not dedicated\\nto one of the Chaos Powers, his appearance mutates to\\nresemble a hideous, bestial fiend.\\nKhorne: The character assumes something of the\\nappearance and nature of a Bloodletter. He gains the Brutal\\nCharge Trait.\\nSlaanesh: The characters body and soul mutates so that it\\ncomes to resemble that of a Daemonette. The character gains\\nthe Unnatural Agility (+2) Trait.\\nNurgle: The character changes so that he appears to be a\\nPlaguebearer. The character gains the Undying Trait.\\nTzeentch: The characters form twists so that it resembles\\na Horror. The character gains the Blessing of Tzeentch. This\\ncounts as a force fi eld with a Protection Rating of 20, but it\\ncannot be overloaded (see page 178)\"},\r\n    \"Slayer Limb\": {name: \"Slayer Limb\", tier: -1, devotion: EGods.SPECIAL, description: \"One of the characters limbs fuses with a weapon, either one\\nhe already owns or a new weapon granted as part of the\\ngift. The limb becomes a twisted mass of metal and flesh,\\nmechanisms and muscles flowing together while blood vessels\\nand ammunition feeds become as one. Any trigger mechanism\\nthe character had before is bypassed and it operates with but\\na thought. The characters metabolism hybridises with the\\nworking of the weapon, and the two become as one, such\\nthat it can even derive power or ammunition from his body.\\nThe player must choose one weapon carried by his character\\nto become fused with his body. The weapon conjoins with\\na single limb of the players choice, replacing it from the\\nelbow (or equivalent joint) down (and therefore replacing\\nany hands). The weapon may be of any type, and henceforth\\nnever requires reloading or any other type of maintenance.\\nIf the character is Aligned to a God, his weapon may gain\\nadditional Qualities if it does not already have them.\\nKhorne: The weapon gains the Tearing Quality.\\nSlaanesh: The weapon gains the Crippling (1d5) Quality.\\nNurgle: The weapon gains the Toxic (1) Quality.\\nTzeentch: The weapon gains the Warp Weapon Quality.\"},\r\n    \"Steel-Hearted\": {name: \"Steel-Hearted\", tier: -1, devotion: EGods.SPECIAL, description: \"Some have seen into the depths of the warp and, know how\\ntrivial the concerns of mortals truly are. The characters heart\\nis steeled to the terrors of the material universe, and only\\nwhat lies beyond it concerns him.\\nThe character counts Fear caused by enemies as one level\\nlower than described in that enemys profi le. If the enemy\\ncauses Fear (1), then no effects are suffered at all.\\nKhorne: When facing Fear-causing enemy warriors\\n(Imperial Guard, planetary defence troops, Space Marines,\\netc.), the enemys Fear rating is reduced by a further level.\\nSlaanesh: When facing enemies dedicated to the worship of\\nthe corpse-god of the Imperium (such as Adepta Sororitas, priests,\\netc.) who cause Fear, their rating is reduced by a further level.\\nNurgle: Fear effects caused by any other servants of\\nChaos are counted as a further Fear level lower.\\nTzeentch: Any Fear effect caused by an enemy with any\\npsychic ability is reduced by a further level.\"},\r\n    \"Strange Voice\": {name: \"Strange Voice\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters vocal chords are twisted and distorted as\\nChaos ebbs and flows through his body. A lucky few fi nd\\ntheir voices have become deep and resounding, while the less\\nfortunate are left sounding like a Grot with cranial distemper\\nor merely incomprehensible. More likely, a character may fi nd\\nthat his voice fluctuates depending on the situation.\\nAt the beginning of the game session, roll 1d10. If the\\nresult is a 4 or lower, the character gains +10 to Intimidate\\nSkill Tests, but suffers 10 to Stealth Tests. If the result is a 5\\nor higher, he suffers 20 to all Interaction Tests. These effects\\nlast until the end of the game session\"},\r\n    \"Strange Walk\": {name: \"Strange Walk\", tier: -1, devotion: EGods.SPECIAL, description: \"Any number of afflictions could result in the character suffering\\nfrom a strange walkfrom a minor change in proportions\\nto an acute imbalance of the mind. This may result in the\\ncharacter gaining a disturbing gait, perhaps appearing to slide\\nacross the ground, or something more debilitating, such as a\\ncrabwise shuffle or a rigid, straight-legged march.\\nThe characters movement rate is halved.\"},\r\n    \"Tail\": {name: \"Tail\", tier: -1, devotion: EGods.SPECIAL, description: \"The powers of the warp have granted the character the gift\\nof an impressive tail. More than a mere status symbol, the tail\\nmakes a formidable weapon too.\\nThe character gains an additional attack, made using the\\ntail and counting as a normal, unarmed attack.\\nKhorne: The gift takes the form of a scorpions tail and\\nhas the Toxic Quality.\\nSlaanesh:The tail takes the form of a writhing, darting tentacle,\\nand attacks made with it add +20 to the characters Weapon Skill.\\n297Nurgle: The tail resembles the gristly abdomen of a huge fl y,\\nthe tip of which seeps a noxious gruel of vile liquid. The effect\\nis to reduce the Initiative of all enemies within 20 metres by 20.\\nTzeentch: The tail is prehensile and dextrous, and may be\\nused to carry and operate a weapon, just like a normal arm.\"},\r\n    \"Tentacle\": {name: \"Tentacle\", tier: -1, devotion: EGods.SPECIAL, description: \"One of the characters limbs shrivels and warps into a boneless\\ntentacle or, in some cases, a writhing mass of them extending\\nfrom where the limb once was.\\nRandomly determine which limb is affected. If it is an arm\\nthen the character may not bear any weapons with that limb\\n(in effect, he can only wield one-handed weapons). If it is a leg\\nthen his movement rate is reduced by 1. However, having a\\ntentacle does give him a +10 bonus to Grapple Tests and, may\\nallow him to reach into tight spaces such as ventilation ducts.\"},\r\n    \"Vampiric Addiction\": {name: \"Vampiric Addiction\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is infused with a burning desire to partake of\\na particular substance and, soon becomes unable to function\\nnormally without doing so on a regular basis. Despite the\\ndrawbacks, the character is able to draw power from his addiction,\\nwhich he utilises to propel himself further along the path to glory.\\nThe character is addicted to a substance chosen by the\\nplayer with the GMs approval. The substance should be\\nsomething obtained from a living creature, such as the blood,\\nmarrow, or cranial fl uid. In any session in which the character\\npartakes of this substance, he counts his Infamy Points as\\none higher than normal for the remainder of the session.\\nIf he does not partake in the substance by the end of the\\nsession, he permanently loses 1 Toughness. Note that it is not\\nnecessarily vital that the victim providing the substance die\\nin the process, meaning the character could theoretically use\\nhis minions as willing (or not-so-willing) donors.\"},\r\n    \"Warp-Eater\": {name: \"Warp-Eater\", tier: -1, devotion: EGods.SPECIAL, description: \"Physical sustenance tastes as ashes to the character and,\\ninstead of imbibing normal food and drink, he must derive\\nnourishment from the infinite fount of the warp. Doing so\\ncarries certain risks, however.\\nThe character need never eat or drink, and so may survive for\\nextended periods while others wither away and die. However,\\nonce per month he must take a Challenging (+0) Toughness\\nTest. If he fails, he gains 1d5+1 Corruption as if from a Failing.\\nKhorne: Followers of Khorne may assuage their warp\\nhunger by slaying the foes of the Blood God. For every foe\\nslain throughout the month, the character gains a +5 bonus\\nto the Toughness Test.\\nSlaanesh: Those who serve the Dark Prince of Chaos may\\nslake their thirst through acts of blasphemy and excess. For\\nevery such deed committed, the character gains a +10 bonus\\nto the Toughness Test.\\nNurgle: By gifting mortals with the delights of Nurgle,\\nthe character may keep his hunger at bay. For every victim\\nhe infects with disease, or kills with an attack with the Toxic\\nQuality, the character gains a +5 bonus to the Toughness Test.\\nTzeentch: To the followers of the Great Schemer, lies and\\ndeceit are more delicious than the fi nest wine. For every lie\\nof consequence told to further ones own goals, the character\\ngains a +10 bonus to the Toughness Test\"},\r\n    \"Warp-Touched\": {name: \"Warp-Touched\", tier: -1, devotion: EGods.SPECIAL, description: \"Those who pursue glory by walking the path of Chaos are\\nall but immune to what mortals call madness, for they have\\nalready seen and done things that would shatter the frail\\nminds of the Emperors lapdogs. However, some are afflicted\\nby such capricious or contrary natures that they appear all but\\ninsane to others, expressing themselves and pursuing goals all\\nbut impenetrable to many around them.\\nThe character must roll on a Disorder Table (page 278)\\nappropriate to the characters Alignment. If the character is\\nunaligned, then the GM chooses a Disorder Table to roll on.\"},\r\n    \"Warped Appearance\": {name: \"Warped Appearance\", tier: -1, devotion: EGods.SPECIAL, description: \"The characters appearance mutates and changes with the\\nImmateriums touch, making him utterly unmistakable.\\nThe player and GM should work together to determine some\\nway the characters appearance has warped, whether it be skin\\nstained with coloured blotches, purple hair, black veins running\\nbeneath the skin, or something even more hideous. Whatever\\nthe cosmetic affect, the character suffers a 20 to any Tests\\nmade to disguise himself or cover up his appearance.\"},\r\n    \"Warpsight\": {name: \"Warpsight\", tier: -1, devotion: EGods.SPECIAL, description: \"The character is able to see the world as it really is  the souls\\nof mortals gutter like lanterns in the night while the predators\\nof the warp circle all about like sharks scenting blood.\\nThe character literally sees the souls of his enemy. All\\nAwareness Tests gain a +10 bonus; however, any Scrutiny\\nTests suffer a 10 penalty as the character is less able to see\\nsuch mundane things as facial expressions.\"},\r\n    \"Winged\": {name: \"Winged\", tier: -1, devotion: EGods.SPECIAL, description: \"The Ruinous Power hear the characters pleas for aid and\\nbestow upon him a pair of mighty pinions with which he is\\nable to soar through the air and visit death from above upon\\nthe heads of his enemies.\\nThe character gains the Flyer Trait at a movement rate\\nequal to his Agility Bonus x 2.\\nKhorne: The characters wings are black and bat-like.\\nSlaanesh: Gossamer-thin pinions sprout from the\\ncharacters back.\\nNurgle: The characters wings are those of an overgrown fl y.\\nTzeentch: The wings are feathered, like those of a Greater\\nDaemon of Tzeentch.\"},\r\n    \"Wreathed in Chaos\": {name: \"Wreathed in Chaos\", tier: -1, devotion: EGods.SPECIAL, description: \"The warp so infuses the character that it leaks from his\\nvery pores and coils from his eyes, nose, and mouth.\\nThe character gains a +10 bonus to all Interaction Skill\\nTests with fellow Disciples of the Dark Gods. Against others,\\nsuch as xenos or inhabitants of the hated Imperium, he gains\\na +10 to Intimidate Tests only.\\nKhorne: The heat of Khornes infernal forges causes the air\\naround the character to ripple and distort. When engaged in\\nmelee, his enemies suffer a 10 penalty to their Weapon Skill.\\nSlaanesh: The character is enveloped in a soporific musk,\\nwhich distracts and confuses opponents. All enemies within\\n10 metres suffer 10 Willpower.\\nNurgle: A cloud of disease-ridden flies constantly\\nbuzzes around the character. All enemies within 10 metres\\nsuffer 5 Initiative.\\nTzeentch: Arcs of aetheric power crackle and seethe from\\nthe characters body, grounding through anything he touches.\\nThe character adds +2 to melee Damage rolls\"},\r\n\r\n    // REWARDS OF THE GODS\r\n    // SLAANESH\r\n    \"Slaanesh Daemonic Name\": {name: \"Slaanesh Daemonic Name\", tier: -2, devotion: EGods.SLAANESH, description: \"The character is granted a secret name, derived from the\\nimpossible vowels and consonants voiced in the sibilant,\\nlilting tongue of the servants of Slaanesh.\\nThe character gains+1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times\"},\r\n    \"Slaanesh Daemon Weapon\": {name: \"Slaanesh Daemon Weapon\", tier: -2, devotion: EGods.SLAANESH, description: \"The character is gifted with one of the most cherished blessings\\na servants of the Ruinous Powers can ever receivea Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound with\\nthe essence of a Daemonette, as described on page 192.\"},\r\n    \"Face of Slaanesh\": {name: \"Face of Slaanesh\", tier: -2, devotion: EGods.SLAANESH, description: \"The visage of the Dark Prince of Chaos is, to most mere mortals\\nat least, both utterly horrifying and achingly beautiful to\\nbehold. Neither male nor female, human nor alien, it transfixes\\nthe soul and obliterates all other desires. Having looked upon\\nsuch a face, all others are mere empty husks. The characters\\nface assumes the merest fraction of Slaaneshs countenance and\\nall who look upon him are utterly enslaved by his dark allure.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it) plus the Peer (Mortal Followers of Slaanesh) Talent\"},\r\n    \"Hermaphrodite\": {name: \"Hermaphrodite\", tier: -2, devotion: EGods.SLAANESH, description: \"Slaanesh is said to be both male and female, and neither, for\\nmere mortal perception cannot begin to quantify its true nature\\nand such terms are but pale shadows of the terrible truth. The\\ncharacters body is changed to reflect something of this state,\\nassuming the characteristic single breast so common amongst\\nthe servants of the Dark Prince of Chaos, as well as features\\nthat are disturbingly attractive yet ultimately sexless. The\\ncharacter becomes an object of adoration to all around him,\\nwhether male or female, and fi nds his own identity assuming\\nan amorphous, genderless quality where such petty mortal\\nqualities as masculinity and femininity become meaningless.\\nWhenever the character passes any Interaction Test, double\\nthe number of Degrees of Success by which it is passed.\"},\r\n    \"Mark of Slaanesh\": {name: \"Mark of Slaanesh\", tier: -2, devotion: EGods.SLAANESH, description: \"So driven is the character, so darkly does his soul shine in\\nthe stygian depths of the Sea of Souls, that he attracts the\\nfl eeting notice of the Dark Prince of Chaos. Slaanesh touches\\nthe character, bestowing upon him his mark and claiming his\\nsoul for all eternity. Having been touched in such a manner,\\nthe character is driven to such extremes of ambition and\\ndesire that entire worlds will tremble to hear his name, and\\nno experience is forbidden to his dark desire.\\nThe character gains the Heightened Senses (All) Talent and\\nthe Unnatural Fellowship (+2) Trait. In addition, the Mark\\nmay grant further bonuses as determined by the GM, and\\nmay be a prerequisite when performing rituals and interacting\\nwith various beings of the warp, etc.\"},\r\n    \"One thousand and one Senses\": {name: \"One thousand and one Senses\", tier: -2, devotion: EGods.SLAANESH, description: \"Those most touched by the power of the Dark Prince are\\ndriven to ever-greater extremes of experience, the sensations\\nof the material universe growing duller by the year. Most\\nfi nd themselves prisoners of their own senses and unable\\nto experience sensations beyond those perceptible to the\\nmortal body they were born into. The character has been\\ngifted with an entirely new and previously unheard of array\\nof sensory perceptions, the merest of which makes those\\nhe was born with pale into insignificance. Armed with his\\nnew perceptions, he sets out into the universe once more,\\ndetermined to experience each to the fullest extent possible.\\nWhenever the character passes an Awareness Skill Test, double\\nthe number of Degrees of Success by which it is passed\"},\r\n    // NURGLE\r\n    \"Corpulent Immensity\": {name: \"Corpulent Immensity\", tier: -2, devotion: EGods.NURGLE, description: \"The characters frame swells and distorts until he comes\\nto resemble the massive form of Papa Nurgle himself. His\\ninnards bloat and swell, his skin sloughs off, and pus weeps\\nfrom open sores, yet he is blessed with a vigour and strength\\nentirely at odds with his appearance.\\nThe character gains an additional +5 Wounds, but may not\\nmake a Run Action. He also gains the Size (Enormous) Trait.\"},\r\n    \"Nurgle Daemonic Name\": {name: \"Nurgle Daemonic Name\", tier: -2, devotion: EGods.NURGLE, description: \"Nurgles tallymen know the name of every disease ever to\\nbeset the mortal realm and they know the true name of the\\ncharacter too. The name is revealed to the recipient and\\nbestowed upon him, granting him equal status to the denizens\\nof Father Nurgles bountiful Garden of Decay.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe, the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Nurgle Daemon Weapon\": {name: \"Nurgle Daemon Weapon\", tier: -2, devotion: EGods.NURGLE, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receivea Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound\\nwith the essence of a Plaguebearer, as described on page 192\\nin the Armoury Chapter.\"},\r\n    \"Face of Nurgle\": {name: \"Face of Nurgle\", tier: -2, devotion: EGods.NURGLE, description: \"The character is blessed with the most disgusting visage\\npossiblethat of Father Nurgle himself. His fl esh becomes\\nswollen and great lumps of it slough off entirely, revealing\\nputrescent corruption beneath. Despite his loathsome, deathly\\ncountenance, the characters eyes twinkle with Nurgles\\nmischievous humour and darkling beneficence, and tiny\\nNurglings prance and caper in the putrid phlegm drooling\\nfrom his ever-grinning maw.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it) plus the Peer (Mortal Followers of Nurgle) Talent.\"},\r\n    \"Mark of Nurgle\": {name: \"Mark of Nurgle\", tier: -2, devotion: EGods.NURGLE, description: \"The character is branded as a servant of Grandfather Nurgle\\nand a place in the eternal cavalcade through the Gardens of\\nthe Plaguefather is reserved for him.\\nThe character gains the Stuff of Nightmares and Unnatural\\nToughness (+1) Traits. In addition to these Talents, the Mark\\nmay grant further bonuses as determined by the GM and may\\nbe a prerequisite when performing rituals and interacting\\nwith various beings of the warp\"},\r\n    \"Nurgle's Rot\": {name: \"Nurgle's Rot\", tier: -2, devotion: EGods.NURGLE, description: \"Nurgles Rot is the most virulent and pleasing of all of\\nNurgles countless plagues, and the character is blessed to be\\nits host. While the character himself does not fall victim to\\nthe rot, his very touch can bestow it upon another, consuming\\nand destroying it.\\nThe character may spend a Full Action and roll a d100. If\\nhe rolls equal to or under his Corruption Point Total (in effect,\\nhe Tests Corruption) everyone within a number of metres\\nequal to his Corruption Point bonus suffers 1d10 Damage\\nwith the Tainted and Toxic (4) qualities. The Damage from\\nthis power ignores Armour unless it is environmentally sealed.\\nThose Devoted to Nurgle are unaffected by this power.\"},\r\n    \"Nurgling Infestation\": {name: \"Nurgling Infestation\", tier: -2, devotion: EGods.NURGLE, description: \"The characters skin stretches and writhes as loathsome shapes\\ngestate beneath its surface. Soon after, the shapes become\\nboils and then seeping pustules from which tiny Nurglings\\nare hatched. These tiny creatures live in the recesses of the\\ncharacters body, finding warmth and sustenance in the most\\nunlikely of places. They are fiercely loyal to their host and\\nfight viscously to defend their home from attack.\\nOnce per combat the character may spill its distended guts\\nand, in so doing, instantly summon a number of Nurglings\\nequal to its Toughness Bonus.\"},\r\n    // KHORNE\r\n    \"Collar of Khorne\": {name: \"Collar of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"A brass collar, cruelly spiked and engraved with the sigils of the\\nBlood God, materialises around the characters neck. Forged in\\nKhornes weapons-foundries, it may never be removed, but its\\nblessings will protect the recipient from enemy sorcerers.\\nThis gift works in the same manner as the Blood Gods\\nContempt Talent (see page 120), except no Willpower Test is\\nrequired to resist psychic powers.\"},\r\n    \"Khorne Daemonic Name\": {name: \"Khorne Daemonic Name\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God turns his vast consciousness towards the\\ncharacter for but the briefest instant, and recognises the mortal\\nas one of his own. He bestows, or reveals, the characters true\\nname, as he is known to the denizens of the Realm of Chaos.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Khorne Daemon Weapon\": {name: \"Khorne Daemon Weapon\", tier: -2, devotion: EGods.KHORNE, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receivea Daemon\\nWeapon, imbued with the essence of a daemon of Chaos..\\nThe character may generate a Daemon Weapon, bound with\\nthe essence of a Bloodletter, as described on page 192\"},\r\n    \"Face of Khorne\": {name: \"Face of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God bestows upon the character something of\\nhis own visageor a manifestation of it that mortals might\\nbe able to perceive, at least. The face is the very essence of\\nbloodshed, its eyes shining with the inner light of Khornes\\nbone-furnaces and the nostrils billowing the thick black\\nsmoke of every funeral pyre ever burnt.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if he already\\nhas it), plus the Peer (Mortal Followers of Khorne) Talent.\"},\r\n    \"Flesh-Fused Weapon\": {name: \"Flesh-Fused Weapon\", tier: -2, devotion: EGods.KHORNE, description: \"The Blood God answers the champions prayers by instilling\\none of his favoured weapons with a portion of his power and\\nfusing it with the champions own body.\\nOne of the characters primary weapons fuses with one of\\nthe characters arms. This weapon may not be removed, but it\\ncounts as Best-Craftsmanship if it did not previously, never\\nrequires maintenance, cannot be destroyed, and never runs out of\\nammunition. This weapon may be made into a Legacy Weapon.\"},\r\n    \"Hand of Khorne\": {name: \"Hand of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"One of the characters hands swells to two or three times its\\nformer size and the nails become distended and as hard as\\niron. The Hand of Khorne is the tool by which the Blood\\nGods will is enacted, and that will is nothing less than the\\nslaughter of every living soul in existence.\\nAttacks made with the Hand of Khorne do not count as\\nUnarmed and deal 2d10 plus Strength Bonus Damage with a\\nPenetration of 8. (see page 243).\"},\r\n    \"Mark of Khorne\": {name: \"Mark of Khorne\", tier: -2, devotion: EGods.KHORNE, description: \"The fell skull rune of Khorne is branded on the characters\\nfl esh, claiming his soul for the Blood God for all time and\\nmarking him as one of Khornes Chosen.\\nThe character gains the Resistance (Psychic Powers)\\nTalent, the Brutal Charge Trait, and Unnatural Strength (+2)\\nif he does not already have them. In addition to these Talents,\\nthe Mark may grant further bonuses as determined by the\\nGM and may be a pre-requisite when performing rituals and\\ninteracting with various beings of the warp, etc.\"},\r\n    \"Purity of Aggression\": {name: \"Purity of Aggression\", tier: -2, devotion: EGods.KHORNE, description: \"The character is blessed with the utter clarity of Khornes will,\\nall emotions other than those that fuel bloodshed driven from\\nhis mind. No foe is beyond his hatred, and the feeling is mutual.\\nThe character gains the Enemy (Everyone) Talent, as well\\nas the Hatred (Everyone) Talent.\"},\r\n    // TZEENTCH\r\n    \"Changing of the Ways\": {name: \"Changing of the Ways\", tier: -2, devotion: EGods.TZEENTCH, description: \"Exposure to the raw, unknowable will of Tzeentch causes the\\ncharacter to undergo a complete change in his outward appearance\\nand he assumes a form more pleasing to the God of Change.\\nThe character loses consciousness for d10 hours, and when\\nhe awakens fi nds that all of the gifts he has previously been\\ngranted are gone, and replaced with new ones. Randomly\\ngenerate replacements for each gift, ensuring that the new\\ngifts fall under the same categories as those they are replacing.\\nIf the character does not have any mutations, reroll.\"},\r\n    \"Tzeentch Daemon Weapon\": {name: \"Tzeentch Daemon Weapon\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is gifted with one of the most cherished blessings\\na servant of the Ruinous Powers can ever receivea Daemon\\nWeapon, imbued with the essence of a daemon of Chaos.\\nThe character may generate a Daemon Weapon, bound\\nwith the essence of a Horror, as described on page 192.\"},\r\n    \"Tzeentch Daemonic Name\": {name: \"Tzeentch Daemonic Name\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character calls upon Tzeentch and Tzeentch recognises\\none of his own, revealing to the recipient the name by which\\nhe is known in the Realm of Chaos.\\nThe character gains +1d5 Infamy. However, if the name is\\never discovered by a foe the foe gains the use of an additional\\nInfamy Point (or Fate Point) when battling this character. The\\nmost powerful servants of Chaos gain countless names, and\\nso this gift may be taken multiple times.\"},\r\n    \"Ecstatic Duplication\": {name: \"Ecstatic Duplication\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is granted a most bizarre rewardone that\\ntruly befi ts Tzeentchs inscrutable ways. Upon his death,\\nthe characters body dissolves and melts, running in greater\\nshimmering rivulets until its mass reforms into two Blue\\nHorrors, the lesser daemons of Tzeentch.\\nIf the character dies, he is immediately replaced by two\\nBlue Horrors (see page 354), which the player may control for\\nthe remainder of the Encounter. Dont forget that these two\\nlesser daemons each become two Pink Horrors should they be\\nslain. The character may still burn Infamy to survive, in which\\ncase he returns at the beginning of the next game session after\\ncongealing out of the remains of the daemons he became.\"},\r\n    \"Face of Tzeentch\": {name: \"Face of Tzeentch\", tier: -2, devotion: EGods.TZEENTCH, description: \"The God of Change grants the character a face resembling\\nhis own. His features pucker and take on something of\\nthe inscrutable visage of Tzeentch, they shift and change\\nconstantly, his eyes, nose, and mouth moving around his face\\nin a most disturbing manner.\\nThe character gains the Fear 2 (Frightening) Trait (or\\nincreases his Fear Rating by +1 to a maximum of 4 if\\nhe already has it), plus the Peer (Mortal Followers of\\nTzeentch) Talent.\"},\r\n    \"Flaming Arm\": {name: \"Flaming Arm\", tier: -2, devotion: EGods.TZEENTCH, description: \"One of the characters arms is replaced with the arm of a\\nFlamer of Tzeentch, and he is able to project from its blunt tip\\na stream of mutating fl ame.\\nOne randomly determined arm is replaced by that of a\\nFlamer of Tzeentch, a twisting limb capped with a hand that can\\nbecome a gaping, tooth-ringed mouth that belches fl ame. The\\nCharacter may use it to make ranged attacks as if it was a weapon\\nwith the following profi le: (10m; S//; 1d10+Intelligence\\nBonus E Damage; Pen 0; Spray, Tainted, Warp Weapon).\"},\r\n    \"Massive Intellect\": {name: \"Massive Intellect\", tier: -2, devotion: EGods.TZEENTCH, description: \"Exposure to the will of Tzeentch gifts the character with a\\nvastly swollen intellect, enabling him to perceive something\\nof the God of Changes great scheme and align his own\\nthoughts and deeds with it.\\nWhenever the character passes a Logic Skill Test, double\\nthe number of Degrees of Success by which it is passed.\"},\r\n    \"Mark of Tzeentch\": {name: \"Mark of Tzeentch\", tier: -2, devotion: EGods.TZEENTCH, description: \"Tzeentch shares with the character but a minute portion of his\\ngrand scheme for the universe, just enough to empower the\\nrecipient without blasting his soul to a cinder. The character\\nis marked forever, the arcane rune of Tzeentch burned into his\\nfl esh and his soul claimed by the God of Change.\\nThe character gains the Unnatural Willpower (+1) Trait and\\nthe Psy Rating (+1) Talent. If he does not already have it, he\\nalso gains the Psyker Trait. He now counts as a Bound psyker,\\nas the reward binds him to Tzeentch. In addition to these\\nTalents, the Mark may grant further bonuses as determined by\\nthe GM, and may be a prerequisite when performing rituals\\nand interacting with various beings of the warp.\"},\r\n    \"Warpsmith\": {name: \"Warpsmith\", tier: -2, devotion: EGods.TZEENTCH, description: \"The character is rewarded with the ability to manipulate the\\ntides of the warp as if he were born in its unknowable depths\\nand not the mortal realm.\\nThe character gains the Psy Rating (+2) Talent, plus the\\nPsyker Trait if he does not already have it. He now counts as\\na Bound psyker, as the reward binds him to Tzeentc\"},\r\n    // \"ADDICTION\": {name: \"ADDICTION\", tier: -1, devotion: EGods.TZEENTCH, description: \"\"},\r\n\r\n\r\n} as ITalentState\r\n\r\n\r\n// export const allEffects\r\n\r\n\r\nexport const allWeapons: IWeaponState = {\r\n    'Autopistol': { name: 'Autopistol', category: EItemCategory.WEAPON, count: 1, weaponCategory: EWeaponCategory.PISTOL, damage: '1d10+2', range: 30, rof: 's/-/6', clip: 18, rld: 'FULL', type: EDamageType.IMPACT, pen: 0, weight: 1.5 } as IWeapon,\r\n    \"Chaindagger\": { name: 'Chaindagger', category: EItemCategory.WEAPON, count: 1, weaponCategory: EWeaponCategory.CHAIN, damage: '1d10+1', range: 0, rof: '', clip: 0, rld: '', type: EDamageType.RENDING, pen: 0, weight: 1.5 } as IWeapon,\r\n    \"Splinter Rifle\": { name: \"Splinter Rifle\", category: EItemCategory.WEAPON, count: 1, damage: \"1d10+2\", clip: 200, range: 100, pen: 3, rof: \"s/3/5\", rld: \"FULL\", description: \"Toxic (4) - (-40 Thougness Test or 1d10 pure)\", weaponCategory: EWeaponCategory.PISTOL, type: EDamageType.LASER, weight: 0 } as IWeapon,\r\n\r\n\r\n//    SPELLS\r\n    \"Abhorrent Ward\" : { name: \"Abhorrent Ward\", category: EItemCategory.SPELL, count: 1, damage: \"Shield\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Corruption 30+, Psy Rating 4\", action: \"Half\", focusPower: \"Challenging (+0) Corruption\", range: \"Self\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerers tainted soul draws to it the denizens of the warp, who clamour to his presence. At his command, they can press against the skin of reality, their shrieks and howls and the visions they infl ict horrifi c to behold. Few beings have the mental fortitude to gaze upon a being surrounded by a cacophonous swarm of daemons, disrupting their ability to target him. While this power remains in effect, any creature attempting to target the Sorcerer with any form of attack must attempt a Willpower Test, with a 5 times the Sorcerers Psy Rating penalty. If the attacker succeeds at this test, he may attack as normal. However, failure means that his revulsion prevents him attacking. He may choose another target to attack instead. Psychic Phenomena: The pressure of daemonic horde tearing at the fabric of existence thins the veil, making it risky for psykers to draw too deeply from the warp. While this power remains in effect, any psyker within 30m must add +20 to all rolls on the Psychic Phenomena table (including any generated by this power).\" } as ISpell,\r\n    \"Doombolt\" : { name: \"Doombolt\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 + Psy Rating\", pen: 8, type: EDamageType.ENERGY, exp: 200, prerequisites: \"None\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"20m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"Known by a variety of names, the Doombolt is a common destructive power utilised by a great many Chaos magos to strike down their foes. Formed from the coalesced spite and loathing of the Sorcerer, they are corrosive bolts of dark energy, raining down like black hail upon the enemy. As the Sorcerer conjures these bitter projectiles with clenched fi sts, he fi lls the air with the stench of brimstone and the booming roar of daemons for the brief moment of the powers manifestation. Doombolt is a Psychic Barrage that deals 1d10+ Psy Rating Energy Damage with a Pen of 8.\" } as ISpell,\r\n    \"Foul Cage\" : { name: \"Foul Cage\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+3 R, Crippling(1d10), Snare(2), Tearing\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Psy Rating 4\", action: \"Full\", focusPower: \"Opposed Challenging (+0) WP\", range: \"25m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"Great long bonds of warp-spawned ropes, chains, and lengths of barbed sinew erupt from the ground and wind themselves around any creatures within reach. These bonds ensnare and constrict as if alive, and sprout barbs and thorns which dig deep into the fl esh of those so ensnared. Foul Cage is a Psychic Blast with a radius equal to the powers Psy Rating, that deals 1d10+3 R Damage with the Crippling (1d10), Snare (2) and Tearing qualities\" } as ISpell,\r\n    \"Gift of Chaos\" : { name: \"Gift of Chaos\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 Damage +2 per Degree of Failure, ignores TB and Armor\", pen: 99, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Infamy 40+, Psy Rating\", action: \"Half\", focusPower: \"Opposed Hard (-20) WP\", range: \"Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer tears a miniscule hole in reality for the briefest of moments, exposing a single foe to the full splendour of the warp. In seconds, their fl esh is remade anew by the glory of Chaos, creating a howling, screaming mass of corrupted matter that thrashes and fl ails as it succumbs to mutation after mutation. The target opposes this power with a Toughness Test. If the target wins, it suffers no Damage. If it loses, it suffers 1d10 Damage +2 per Degree of Failure, ignoring Toughness Bonus and Armour. If the target loses the Test by four or more Degrees, the target mutates, immediately suffering a random Gift of Gods (see page 291)at the GMs discretion, minor NPCs or adversaries can simply be transformed into a mewling, disgusting, and harmless Chaos Spawn, effectively killing them\" } as ISpell,\r\n    \"Hatestorm\" : { name: \"Hatestorm\", category: EItemCategory.SPELL, count: 1, damage: \"All Frenzied\", pen: 0, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Psy Rating 4, Frenzy, Hatred\", action: \"Half\", focusPower: \"Difficult (-10) WP\", range: \"5m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK], description: \"The Sorcerer calls upon the dark gods to gift him with a portion of their own hatred, and becomes the crackling focus of an aura of dark energy. Anyone caught within this explosion of unholy power fi nds himself with a psychotic hatred of all living things, hurling themselves at their foes at the fi rst opportunity. The hellish psychic echoes of the warp are easy for a Sorcerer to fi nd, though a challenge to control, often proving overwhelming for the unsuspecting. While this power remains in effect, the Sorcerer, and all creatures within the powers radius immediately enter a Frenzied state, as if they had the Frenzy Talent. They will remain in this state for as long as they remain within the powers radius. The Sorcerer may continue to manifest psychic powers even while Frenzied\" } as ISpell,\r\n    \"Host of Fiends\" : { name: \"Host of Fiends\", category: EItemCategory.SPELL, count: 1, damage: \"2 x PR penalty to all Willpower Tests, per Degree of Failure gain 1d5 Corruption\", pen: 0, type: EDamageType.ENERGY, exp: 200, prerequisites: \"Psy Rating 3\", action: \"Full\", focusPower: \"Challenging (+0) WP\", range: \"5m x Psy Rating\", sustained: \"Free Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \" The veil between reality and the warp is made thin and porous, allowing even the least of daemons to scratch and claw at the edge of the universe, their distant shrieks and howls and the nightmarish images they produce tormenting all mortals within their reach. Those who call such forces into being revel in the blasphemy they infl ict and the suffering that comes from their presence. All of the Sorcerers enemies within range of this power suffer a 2 x PR penalty to all Willpower Tests. In addition, every time a creature affected by this power fails a Willpower Test, they gain 1d5 Corruption Points for every Degree of Failure.\" } as ISpell,\r\n    \"Warptime\" : { name: \"Warptime\", category: EItemCategory.SPELL, count: 1, damage: \"Unnatural WS, BS, AG (Psy Rating)\", pen: 0, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Psy Rating 4\", action: \"Half\", focusPower: \"Difficult (-10) WP\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The timeless nature of the warp grants the cunning Sorcerer the means to defy the normal limits of time, hastening his movements and refl exes such that his enemies appear to be moving in slow motion. Many liken it to the terrifying speed of Khornes hunting hound, a fi gure that holds particular horror for psykers. The Sorcerer gains the Unnatural Weapon Skill, Unnatural Ballistic Skill and Unnatural Agility traits, all at values equal to his Psy Rating\" } as ISpell,\r\n    \"Wind of Chaos\" : { name: \"Wind of Chaos\", category: EItemCategory.SPELL, count: 1, damage: \"2d10 + Psy Rating, Felling (2), Tainted, Warp Weapon + Alignment\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Corruption 30\", action: \"Half\", focusPower: \"Opposed Challenging (+0) Corruption\", range: \"5m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"Reaching deep into the corruption within his soul, the Sorcerer unleashes a wave of energy that leaves devastation in its wake. Depending upon the devotions of the Sorcerer, the nature of this outpouring of corrupt power variesthose devoted to Nurgle produce a stream of bilious fi lth, while a rain of hypnotic luminescence or glittering golden light characterises the powers of a Slaanesh Sorcerer. Every Sorcerers Wind of Chaos is subtly different, coloured by their own prejudices and insanity. The Sorcerer produces a torrent of foul energy in a 30-degree cone out to the powers range, similar to a weapon with the Spray quality. Creatures caught within the spray may oppose the Focus Power Test with an Agility Test. Any creature that does not successfully avoid the powers effects suffers 2d10 + Psy Rating Energy Damage with the Felling (2), Tainted, and Warp Weapon Qualities, plus a single additional Quality determined by the Sorcerers alignment. If used by a Tzeentch Sorcerer, Wind of Chaos gains the Flame quality. If used by a Slaanesh Sorcerer, Wind of Chaos gains the Shocking quality. If used by a Nurgle Sorcerer, Wind of Chaos gains the Toxic quality. If used by an unaligned Sorcerer, Wind of Chaos gains the Tearing quality. Psychic Phenomena: The psychic residue of the powers effects lingers on every surface for a few moments longer, whether ablaze with guttering azure fl ame, spattered in fi lth, or coated in a fi ne glittering dust imbued with the echoes of sensation. Until the start of the Sorcerers next turn, every creature within 3d10 metres of the Sorcerer suffers a 10 penalty on all Willpower Tests due to the disconcerting and disruptive aftereffects of the Wind of Chaos. This is in addition to any normal Psychic Phenomena that might be manifested.\" } as ISpell,\r\n    // NURGLE\r\n    \"Choir of Poxes\" : { name: \"Choir of Poxes\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 + Psy Rating\", pen: 0, type: EDamageType.ENERGY, exp: 100, prerequisites: \"Aligned Nurgle\", action: \"Full\", focusPower: \"Difficult Opposed (-10) WP\", range: \"30m\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"As enacted by Nurgles daemonic legions, the Sorcerers throat rattles with the names of every disease he has ever suffered from, and every disease that Nurgle has ever gifted mortals with. Those caught within earshot of this pestilential incantation fi nd themselves wracked with spasms of pain and delirium, as the Sorcerer speaks the true names of different diseases, invoking plagues both ancient and yet to occur. Creatures caught within range of this power may oppose the Focus Power Test with a Toughness Test, suffering an additional 10 penalty if they have the Heightened Senses (Hearing) Talent. Any creature that fails to resist this power takes 1d10 + Psy Rating Damage and is stunned until the start of its next turn\" } as ISpell,\r\n    \"Inviolable Flesh\" : { name: \"Inviolable Flesh\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Nurgle\", action: \"Half\", focusPower: \"Challenging (+0) WP\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"At the Sorcerers command, the skies fi ll with brooding, discoloured clouds that split open and pour filth and rotten blood down upon the Sorcerers foes. Few can do little more than fl ee from this downpour of vileness. The most devout of Nurgles sorcerers speak of this power as being agift from Grandfather Nurgle, bestowed upon the world from the Plague Lords domain. This power is a Psychic Blast with a radius of 1+ the Degrees of Success on the Focus Power Test. Anyone caught within the area of effect suffers 1d10+7 I Damage with a Penequal to Psy Rating and the Toxic (3) Quality, and must take a Pinning Test.\" } as ISpell,\r\n    \"Lepers Curse\" : { name: \"Lepers Curse\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 Critical Rending\", pen: 1, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Mark of Nurgle, Psy Rating 5\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"5m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \" Whispering an incantation taught to him by a Plaguebearer, the Sorcerer focuses a stream of decay into one of his victims body parts. At this foul command, the victims fl esh and bone wither away in a display of glorious atrophy, leaving shrivelled ruin in the spells wake. Some sorcerers know this as the Thousandth Necrotic Invocation, one in a long list of vile syllables beloved of the Grandfather of Pestilence and capable of infl icting terrible affl ictions upon their victims. This power is a Psychic Bolt that causes the target to suffer a single Rending Critical Effect equal to 1d10. Lepers Curse does not do Damage to Wounds, but can cause limb loss, blood loss, or even death, depending on the Critical Effect.An opponent can only be targeted by the Lepers Curse once per combat\" } as ISpell,\r\n    \"Nurgle's Rot\" : { name: \"Nurgle's Rot\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 + Psy Rating, with Tainted and Toxic (4)\", pen: 99, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Aligned Nurgle, Corruption 30+\", action: \"Half\", focusPower: \"Challenging (+0) Corruption\", range: \"5m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The grandest and most infamous of Nurgles contagions, Nurgles Rot is known by many names and has appeared on countless worlds, leaving entire populations desolated by this terrible daemonic pathogen. Nurgles devoted sorcerers take on all manner of diseases, serving as host to the creations of the Lord of Plagues. From this seething mass of decay and entropy, these devotees of pestilence summon forth the psychic echo of this paragon of plagues, infl icting it upon those nearby. The infectious gift of Nurgle is cast outward to embrace all who stray too near to the Sorcerer. Creatures within range of the Sorcerer while this power remains in effect suffer 1d10 + Psy Rating Damage, with the Tainted and Toxic (4) qualities. The damage ignores Armour unless it is environmentally sealed. Those Devoted to Nurgle are unaffected by this power. Psychic Phenomena: While this power remains in effect, the air within the powers range is fi lled with a thick, acrid fog and swarms of massive bloated fl ies. Any creature within range that is not devoted to Nurgle suffers a 5 penalty to Weapon Skill, Ballistic Skill, Intelligence, Perception and Fellowship Tests as the foul vapour and buzzing fl ies hinder their concentration and drive them to distraction. This is in addition to any normal Psychic Phenomena\" } as ISpell,\r\n    \"Field of Pestilence\" : { name: \"Field of Pestilence\", category: EItemCategory.SPELL, count: 1, damage: \"Challenging (+0) Agility Test\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Nurgle\", action: \"Full\", focusPower: \"Hard (-20) WP\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"While touching the ground beneath his feet, the Sorcerer conjures forth a wave of pestilence and decay, turning hardened soil into a morass of greenish-grey sludge. Many sorcerers invoke litanies of infertility or speak prayers of desecration, while others trace abhorrent runes in the dirt or pour jars of diseased blood onto the ground. Many sorcerers believe that this power was granted to mortals by one of the most renowned of Nurgles daemons. While this power remains in effect, the ground around the Sorcerer, which moves as he does (centred on him at all times), becomes swamp-like. Any creaturewith the exception of the Sorcerer himselfwithin the powers radius must pass a Challenging (+0) Agility Test or fall whenever attempting to move faster than a normal Half Action movement rate.\" } as ISpell,\r\n    \"Putrefying Embrace\" : { name: \"Putrefying Embrace\", category: EItemCategory.SPELL, count: 1, damage: \"Unarmed Attacks 1d10 + Psy Rating, Toxic (3) I\", pen: 1, type: EDamageType.ENERGY, exp: 200, prerequisites: \"Mark of Nurgle\", action: \"Half\", focusPower: \"Very Hard (-30) WP\", range: \"Self\", sustained: true, subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer reaches out with arms dripping in foulness, to corrupt anything he touches. A single touch spreads stinking pus and other vile fl uids, defiling anything they are left upon. The sorcerers unarmed melee attacks deal 1d10+Psy Rating I Damage and gain the Toxic (3) Quality, and he counts as having the Deadly Natural Weapons Trait. The Sorcerers Strength Bonus is not added to the Damage\" } as ISpell,\r\n    \"Rain of Foulness\" : { name: \"Rain of Foulness\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+7\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Nurgle\", action: \"Half\", focusPower: \"Challenging (+0) WP\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"At the Sorcerers command, the skies fi ll with brooding, discoloured clouds that split open and pour filth and rotten blood down upon the Sorcerers foes. Few can do little more than fl ee from this downpour of vileness. The most devout of Nurgles sorcerers speak of this power as being agift from Grandfather Nurgle, bestowed upon the world from the Plague Lords domain. This power is a Psychic Blast with a radius of 1+ the Degrees of Success on the Focus Power Test. Anyone caught within the area of effect suffers 1d10+7 I Damage with a Penequal to Psy Rating and the Toxic (3) Quality, and must take a Pinning Test.\" } as ISpell,\r\n    // SLAANESH\r\n    \"Acquiescence\" : { name: \"Acquiescence\", category: EItemCategory.SPELL, count: 1, damage: \"Stun (Failure Degree)\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Slaanesh, WP 50, Psy Rating 4\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"20m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer conjures a spark of delusion, overwhelming the targets mind with contradictory thoughts and feelings that drive him to distraction, incapable of performing any action amidst the psychic fog. Slaanesh sorcerers sometimes describe the power as a silvery fog that overwhelms all sensation, conjured with entrancing words whispered under the breath. The Sorcerer nominates a single enemy within range, who resists the power with a Willpower Test. Every Degree of Success on the Sorcerers Focus Power Test causes the victim to be Stunned for 1 turn. Losing the Test by fi ve or more Degrees causes the victim to be rendered unconscious instead.\" } as ISpell,\r\n    \"Ecstatic Oblivion\" : { name: \"Ecstatic Oblivion\", category: EItemCategory.SPELL, count: 1, damage: \"Stun Immunity, Unnatural Strength, Agility (Psy Rating), -20 Perception\", pen: 0, type: EDamageType.ENERGY, exp: 250, prerequisites: \"Mark of Slaanesh, Toughness 40, Psy Rating 40\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer summons up every fl ickering moment of stray emotion he can fi nd within the Immaterium, and draws them into himself, overwhelming his own senses and rendering him oblivious to the sensations of battle around him. Many sorcerers become addicted to the sensations they conjure, burning away their soul with warp-spawned ecstasy. While this power remains in effect, the Sorcerer cannot be stunned or rendered unconscious, nor is he affected by fatigue. In addition, he is so addled by sensation that he can push his body far beyond its normal limits, gaining Unnatural Strength and Unnatural Agility at a value equal to half the Sorcerers Psy Rating. However, he suffers a 20 penalty to all Perception Tests.\" } as ISpell,\r\n    \"Hellshriek\" : { name: \"Hellshriek\", category: EItemCategory.SPELL, count: 1, damage: \"2d10 + Psy Rating, Concussive(1), Warp Weapon\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Mark of Slaanesh, Corruption 50\", action: \"Half\", focusPower: \"Challenging (+0) Corruption\", range: \"0m\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer reaches deep into the warp and produces a soul-shattering noise that infl icts terrible pain upon those that hear it. Many sorcerers attribute this power to the genetic tampering of Fabius Bile during the early days of the Heresy, and to the engineered talents of Lord-Commander Eidolon of the Emperors Children. A Hellshriek is a Psychic Blast centred on the Sorcerer. Any creature within the area of effect, with the exception of the Sorcerer, suffers 2d10 + Psy Rating Rending Damage with the Concussive (1) and Warp Weapon Qualities. Psychic Phenomena: The shrieking cry of the Sorcerer reverberates through the warp, echoing for moments after the initial blast of sound, lingering in the ears and minds of those nearby. Until the start of the Sorcerers next turn, all creatures within range of the power suffer a 20 penalty to all Perception Tests. This is in addition to any normal psychic phenomena.\" } as ISpell,\r\n    \"Lash of Submission\" : { name: \"Lash of Submission\", category: EItemCategory.SPELL, count: 1, damage: \"Control Enemy\", pen: 0, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Aligned Slaanesh, Willpower 50, Psy Rating 4\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer projects a lurid, glowing cord of energy that wraps itself around his enemies, worming itself into their minds and overwhelming their will for a few brief moments. Many sorcerers take a perverse pleasure in making others dance like puppets for them, becoming enthralled by the power and dominance they can exert and delighting in the horrifi c acts they can make others perform. The Sorcerer nominates a single creature within range and line of sight, which may resist the power using a Willpower Test. If the test is failed, then the creatures actions, for a number of turns equal to the Sorcerers Psy Rating, are chosen by the Sorcerer instead. The victim may only perform a single half action each turn he is controlled, and may not perform any action with the Concentration subtype.\" } as ISpell,\r\n    \"Soul's Secret Unleashed\" : { name: \"Soul's Secret Unleashed\", category: EItemCategory.SPELL, count: 1, damage: \"Control Enemy\", pen: 0, type: EDamageType.ENERGY, exp: 500, prerequisites: \"Mark of Slaanesh, Willpower 50, Psy Rating 6\", action: \"Full\", focusPower: \"Opposed Very Hard (-30) WP\", range: \"25m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer becomes a mouthpiece for the infi nite voice of Slaanesh, crawling deep into the mind of a chosen victim, calling forth the darkest desires from the depths of his victims soul, unleashing them and giving them free reign. Slaanesh sorcerers consider this power to be the greatest of blessings they can bestow upon a mortal soul. The Sorcerer nominates a single creature within range, who may resist this power with a Willpower Test (the opposing Test for the Focus Power Test). If this test is failed, then the victims darkest impulses take control of his mind for a number of turns equal to the Sorcerers Psy Rating. During this time, he acts in accordance with the most destructive side of his personality, unrestrained by self-control, and attacks the nearest target (creature, Heretic, or NPC) with his most powerful weapons. He will not take suicidal actions such as leaping off a building to attack someone in melee, but he still takes otherwise foolhardy risks and automatically passes Willpower Tests to resist Fear or Pinning. He is also immune to stunning and the effects of Fatigue.\" } as ISpell,\r\n    \"Symphony of Pain\" : { name: \"Symphony of Pain\", category: EItemCategory.SPELL, count: 1, damage: \"Stun(1), Double Roll on Test Fatique(Psy Rating)\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Mark of Slaanesh, Toughness 40, Psy Rating 4\", action: \"Full\", focusPower: \"Hard (-20) WP\", range: \"5m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer casts his arms wide, as if conducting a great orchestra of cavorting daemons that howl and dance around his echo within the Immaterium. Their siren call warps the minds of those nearby, causing blinding sheets of pain. This power emanates from the Sorcerer in all directions, out to the listed radius. All creatures within that rangeexcepting those Devoted to Slaaneshwhile the power remains in effect, are stunned for one turn and gain a number of levels of Fatigue equal to the Sorcerers Psy Rating if they roll a double on any Test they make for any Action they attempt.\" } as ISpell,\r\n    // TZEENTCH\r\n    \"Bolt of Change\" : { name: \"Bolt of Change\", category: EItemCategory.SPELL, count: 1, damage: \"Psy Rating d10, Felling(Psy Rating)\", pen: 9, type: EDamageType.ENERGY, exp: 500, prerequisites: \"Mark of Tzeentch, Willpower 50, Psy Rating 5\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"10m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer focuses his will and his wrath into a searing bolt of warp-fl ameoften red, due to the pervasive lore of the many-coloured fi res of Tzeentchthat reduces enemies to twitching masses of mutating gore, or swirling whirlwinds of iridescent ash. Few substances can withstand the corrupting energies of a Bolt of Change. Bolt of Change is a Psychic Bolt that deals Xd10 Energy Damage with a Pen of 9 (where X equals the sorcerers Psy Rating), and with the Felling (Psy Rating) Quality. In addition, a living creature struck by a Bolt of Change must immediately make a Challenging (+0) Toughness Test. Failure indicates that the target gains 1d5 Corruption Points for every Degree of Failure. Five or more Degrees of Failure indicates that the target becomes subject to swift and catastrophic mutation, transforming into a Chaos Spawn that swiftly collapses into a puddle of shrieking ichor.\" } as ISpell,\r\n    \"Boon of Tzeentch\" : { name: \"Boon of Tzeentch\", category: EItemCategory.SPELL, count: 1, damage: \"Psy Rating Buff, 1d5 + Psy Rating\", pen: 4, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Tzeentch, Psy Rating 4\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"Self\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer reaches deep into the warp for greater power, bolstering his already potent abilities further. Many sorcerers learn this power from ancient copies and fragments of the Book of Magnus, conjuring a searing green fi re that augments sorcerous might in those strong enough to wield it, and which may immolate those who grasp foolishly at the power it provides. The Sorcerer gains a bonus to his Psy Rating for every Degree of Success he scores on the Focus Power Test, which may only be used on the next power the Sorcerer uses and only if that power is used at the Unfettered power level or Higher. However, upon using that bonus Psy Rating, the Sorcerer suffers an immediate hit, dealing 1d5 plus Psy Rating of the second power Damage with a Pen of 4 and the Shocking Quality. This hit cannot be Dodged, Parried, or blocked through a Field Save.\" } as ISpell,\r\n    \"Flicker\" : { name: \"Flicker\", category: EItemCategory.SPELL, count: 1, damage: \"Incorporeal Trait, Ag + Psy Rating\", pen: 0, type: EDamageType.ENERGY, exp: 400, prerequisites: \"Mark of Tzeentch\", action: \"Half\", focusPower: \"Difficult (-10) WP\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer creates a shimmering fi eld of unreality around him, his image becoming transparent and intermittent as he fl ickers between reality and the warp. In this manner, he may step through solid objects as if they were air, and the blows of the enemy pass through him as if he were nothing more than a holographic image. For as long as this power remains in effect, the Sorcerer gains the Incorporeal Trait (see Chapter IV: Talents and Traits), and counts his Agility Bonus as equal to the Sorcerers Psy Rating for the purposes of determining how far he may move, and he may move as easily vertically as horizontally. While in this state, the Sorcerer cannot cross psychically charged barriers, holy wards or energy wards designed to bend reality or manipulate the warp, such as a Gellar Field or Void Shield.\" } as ISpell,\r\n    \"Gholam Curse\" : { name: \"Gholam Curse\", category: EItemCategory.SPELL, count: 1, damage: \"Controlls Enemy\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Tzeentch, Willpower 50, Psy Rating 5\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"20m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer reaches into the mind of an enemy, and bends their body to his will. Many sorcerers conjure sigils that appear upon the victim, and whisper commands that the victims body will obey without question. The Sorcerer must target a single enemy within range and line of sight, who may resist the power with a Willpower Test. If the target fails the test, then his actions in his next turn may be decided by the Sorcerer. The victim cannot deal damage to himself with his actions. Any tests the victim attempts while controlled by the Sorcerer gains a bonus equal to twice the Sorcerers Psy Rating.\" } as ISpell,\r\n    \"Mantle of Lies\" : { name: \"Mantle of Lies\", category: EItemCategory.SPELL, count: 1, damage: \"Appearance Swap\", pen: 0, type: EDamageType.ENERGY, exp: 200, prerequisites: \"Aligned Tzeentch, Intelligence 40, Fellowship 40\", action: \"Half\", focusPower: \"Difficult (-10) WP\", range: \"0m\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer calls upon the Weaver of Fates to bless him with the power of confusion. An illusion is woven over the Sorcerer and a target of his choice, and even the closest allies of the victim can seldom see the truth of the matter. The Sorcerer nominates a single enemy within range and line of sight. While this power remains in effect, the Sorcerer appears to be the target, and the target appears to be the Sorcerer. The illusion is almost fl awless, and is diffi cult for even the most careful observers to see through. A creature can attempt an Awareness Test, with a penalty equal to fi ve times the Sorcerers Psy Rating, in order to see through the illusion.\" } as ISpell,\r\n    \"Mindscourge\" : { name: \"Mindscourge\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 + Psy Rating, 1d5 Ag + Fel Damage\", pen: 1, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Aligned Tzeentch, Hatred, Psy Rating 5\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"25m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"At fi rst, all the victim feels is a sharp stabbing pain in his head. However, the Sorcerer has placed a sliver of psychic energy in the victims mind, which will infl ict debilitating pain as it moves through the victims psyche, leaving him ultimately comatose. This power is a Psychic Bolt which deals 1d10 + Psy Rating Energy Damage with the Warp Weapon and Shocking Qualities. After suffering Damage from this power, the target suffers 1d5 Damage to Intelligence, Willpower and Fellowship every turn for a number of turns equal to the Degrees of Success on the Focus Power Test. This power can only affect creatures with a mind, so non-Heretics with the Machine Trait, plant life, and other creatures at the GMs discretion may be unaffected.\" } as ISpell,\r\n    \"Protean Form\" : { name: \"Protean Form\", category: EItemCategory.SPELL, count: 1, damage: \"Gain Unnatural Characteristics or Traits\", pen: 0, type: EDamageType.ENERGY, exp: 500, prerequisites: \"Mark of Tzeentch, Corruption 50, Toughness 50, Willpower 50, Psy Rating 6, Corpus Conversion\", action: \"Full\", focusPower: \"Challenging (+0) Corruption\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer distends and warps his form into a new and horrifi c shape, channelling the power of Chaos into his own corrupt fl esh to bless his enemies with a glorious image of change. Sorcerers of Tzeentch consider this power to be amongst the greatest blessings Tzeentch can bestow upon a mortalthe power to change themselves into any form they choose. Upon successfully using this power, the Sorcerer gains Unnatural Characteristics equal to twice his Psy Rating, divided as he chooses amongst his Characteristics. Alternately, the Sorcerer may choose to gain a number of Traits from the following list, each Trait taking the place of two points of Unnatural Characteristics he would gain normally. Amphibious, Amorphous, Burrower (2), Flyer (3), Deadly Natural Weapons, Multiple Arms (1), Natural Armour (2), Sonar Sense, Sturdy, Unnatural Senses (5). Traits with a value in parenthesis can be taken multiple times, each time after the fi rst adding +1 to the listed value. However, so unstable is the Sorcerers form that he cannot easily maintain his shape, gaining the Warp Instability Trait. Should he be reduced to 0 wounds, the powers effects end immediately, leaving the Sorcerer Stunned until the end of his next turn as his body swiftly returns to its natural shape. Psychic Phenomena: The constant stream of warp energy pouring through the Sorcerers body causes ripples in reality that cannot easily be contained. At the start of the Sorcerers turn, every turn this power remains in effect, roll on Table 62: Psychic Phenomena and apply the result immediately, re-rolling results of 75 or higher. The second results stand.\" } as ISpell,\r\n    \"Psyphon\" : { name: \"Psyphon\", category: EItemCategory.SPELL, count: 1, damage: \"2d10 WP, Willpower Transfer\", pen: 0, type: EDamageType.ENERGY, exp: 200, prerequisites: \"Aligned Tzeentch, Willpower 40, Psy Rating 4\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"5m x Psy Rating\", sustained: \"Free Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer locks his gaze with a victim, drawing away his will and using that stolen mental strength to bolster his own. Frequent use of this power has been known to result in a coma or braindeath for the victim, and leave fl eeting echoes of memory in the Sorcerer. The Sorcerer nominates a single enemy within range and line of sight, who may resist this power with a Willpower Test. If the target fails to resist, he suffers 2d10 Willpower Damage, and the Sorcerer gains Unnatural Willpower (1), +1 for every full 5 points of Willpower Damage the power infl icts. This Unnatural Willpower remains for as long as the powers effects persist.\" } as ISpell,\r\n    \"Vile Revelation\" : { name: \"Vile Revelation\", category: EItemCategory.SPELL, count: 1, damage: \"Buffs all Test but inflicts 1d5 Int\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"Mark of Tzeentch, Perception 50, Psy Rating 5\", action: \"Half\", focusPower: \"Opposed Difficult (-10) Perception\", range: \"Self\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer feels the shifts and fl ows of the warp keenly, and can discern brief slivers of events yet to come from this morass of swirling potential. Many Sorcerers are driven mad by the visions they receive from the Immaterium. While this power remains in effect, the Sorcerer can see enough of the future to grant him an advantage in his endeavours. The Sorcerer gains a bonus on all tests while this power remains in effect equal to twice his Psy Rating. However, he suffers 1d5 points of Intelligence Damage every turn this power is in effect.\" } as ISpell,\r\n    // EXALTED\r\n    \"Blasphemy made Flesh\" : { name: \"Blasphemy made Flesh\", category: EItemCategory.SPELL, count: 1, damage: \"Attackers must make a (-5 x Psy Rating) Willpower Test\", pen: 0, type: EDamageType.BUFF, exp: 500, prerequisites: \"Corruption 60, Psy Rating 6, Abhorrent Ward\", action: \"Half\", focusPower: \"Difficult (-10) Corruption\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerers soul is the foulest of blasphemies, utterly awful to behold and almost impossible for mortal beings to look upon him without feeling nauseous or repelled. So vile is the Sorcerers nature that daemons swarm around him, desperate to tear through the veil and revel in the horror of the Sorcerers presence. This power, and its lesser version, was devised by the sorcerer Eshraiik to turn his foulness into an advantage. While this power remains in effect, any creature attempting to target the Sorcererwith a melee attack, a ranged attack, a psychic power, or any other form of attack  must attempt a Willpower Test, with a 5 times the Sorcerers Psy Rating penalty. If the attacker passes the Test, he may attack as normal. However, failure means his revulsion prevents him attacking, wasting the action and any remaining actions that turn. Psychic Phenomena: The pressure of daemonic horde tearing at the fabric of existence thins the veil, making it risky for psykers to draw too deeply from the warp. While this power remains in effect, any psyker within 30m who causes Psychic Phenomena automatically rolls a 100, causing Perils of the Warp.\" } as ISpell,\r\n    \"Hellish Blast\" : { name: \"Hellish Blast\", category: EItemCategory.SPELL, count: 1, damage: \"3d10 + (Psy Rating), Tearing, Flame\", pen: 10, type: EDamageType.ENERGY, exp: 600, prerequisites: \"Psy Rating 5, Hatred\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"30m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer reaches into the warp for pure destructive force, gathering up raw hatred and the most concentrated spite. The sorcerer Ygethmor, who has long been an advisor to Warmaster Abaddon, calls down anger and fury and coalesced wrath in a skull-like conjuration made of black fl ame and crimson lightning. This power is a Psychic Blast with a radius of the Sorcerers Psy Rating in metres, which deals 3d10 + Psy Rating Energy Damage with a Pen of 10 and the Flame and Tearing Qualities.\" } as ISpell,\r\n    \"Maelstrom of Rage\" : { name: \"Maelstrom of Rage\", category: EItemCategory.SPELL, count: 1, damage: \"Frenzy + Hatred\", pen: 0, type: EDamageType.CURSE, exp: 400, prerequisites: \"Psy Rating 6, Frenzy, Hatred\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"10m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK], description: \"The Sorcerer reaches deep into the warp, bringing forth the deepest, darkest rage and hatred he can fi nd, unleashing it upon all those nearby. While there are no sorcerers devoted to Khorne, many do offer up prayers to the Blood God, seeking to beseech the source of all rage. While this power remains in effect, the Sorcerer and all creatures within the powers radius immediately enter a Frenzied state, as if they had the Frenzy Talent. In addition, they gain the Hatred Talent against all enemies. They will remain in this state for as long as they remain within the powers radius.\" } as ISpell,\r\n    \"Primordial Annhilation\" : { name: \"Primordial Annhilation\", category: EItemCategory.SPELL, count: 1, damage: \"1d10 x Psy Rating, Flame, Warp\", pen: 1, type: EDamageType.ENERGY, exp: 1000, prerequisites: \"Psy Rating 7, Corruption 70\", action: \"Full\", focusPower: \"Hard (-20) Corruption\", range: \"10m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The Sorcerer unleashes the raw power of the warp into reality, burning away the sham of the material universe. Few things can stand before the relentless tide of the Immaterium, and fewer emerge unscathed. Many sorcerers think of this power as being a refl ection of the true nature of the Chaos Gods, the purest manifestation of their desires. Primordial Annihilation must be used at the Push power level. This power is a Psychic Blast, centred on the Sorcerer himself, with a radius equal to the range of the power. All creatures within the radius, except for the Sorcerer himself, take a single hit dealing 1d10 Energy Damage times the Sorcerers Psy Rating, with the Flame and Warp Weapon qualities. Psychic Phenomena: The warp boils forth in an unstoppable tide, doing far more than simply burn away everything in its path. Roll twice on Table 63: Perils of the Warp and apply both effects immediately, instead of any normal Psychic Phenomena.\" } as ISpell,\r\n    \"Shattertime\" : { name: \"Shattertime\", category: EItemCategory.SPELL, count: 1, damage: \"Unnatural Weapon, Balistic, Agility(Psy Rating)\", pen: 1, type: EDamageType.BUFF, exp: 400, prerequisites: \"Psy Rating 6, Precognition\", action: \"Half\", focusPower: \"Hard (-20) WP\", range: \"Self\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The Sorcerer draws upon the timeless nature of the warp and uses it to unravel the hindrances of linear time, stepping from moment to moment in no particular order. The Sorcerer gains the Unnatural Weapon Skill, Unnatural Ballistic Skill, and Unnatural Agility Traits, all at values equal to his Psy Rating. In addition, the Sorcerer can choose to vanish from reality during any given round, for a total number of rounds (which do not have to be consecutive) equal to the Degrees of Success on the Focus Power Test. He will reappear in exactly the same place he vanished from when he chooses to reappear.\" } as ISpell,\r\n    \"Sunder the Veil\" : { name: \"Sunder the Veil\", category: EItemCategory.SPELL, count: 1, damage: \"Extended Psychic Phenomena (+20), Everything must be pushed, Creates lesser Daemons\", pen: 0, type: EDamageType.CURSE, exp: 500, prerequisites: \"Psy Rating 5, Forbidden Lore (Warp) +20\", action: \"Full\", focusPower: \"Ardous (-40) WP\", range: \"10m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The veil between reality and the warp is breached, allowing daemons to pour through and wreak havoc upon the material universe for a brief time. To be able to tear open the veil with a thought is considered by many sorcerers to be the pinnacle of arcane might. The Sorcerer creates an area of the listed radius, within which the barrier between warpspace and reality is broken. Within this area, all psychic powers must be used at the Push power level, and +20 is added to all rolls on the Psychic Phenomena table. Further, for every Degree of Success on the Focus Power Test, a single lesser daemon of the Sorcerers choice will manifest within the area, each remaining for a number of rounds equal to the Sorcerers Psy Rating before it vanishes back into the warp. This power may not be re-used until its effects have ended\" } as ISpell,\r\n\r\n    // TELEPATHY\r\n    \"Compel\" : { name: \"Compel\", category: EItemCategory.SPELL, count: 1, damage: \"Give Target simple Commands\", pen: 0, type: EDamageType.CURSE, exp: 200, prerequisites: \"Delude, Thought Sending\", action: \"Half\", focusPower: \"Opposed Difficult (-10) WP\", range: \"5m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The psyker reaches into the targets mind and\\n\" +\r\n            \"forces him to perform an action against his will. The most\\n\" +\r\n            \"powerful of psykers can force a man to take his own life,\\n\" +\r\n            \"overwhelming even the basic survival instinct. Few psykers\\n\" +\r\n            \"are that powerful, but the havoc that a ruthless psyker can\\n\" +\r\n            \"cause by bending minds is still considerable.\\n\" +\r\n            \"The psyker must nominate a single target within range\\n\" +\r\n            \"and line of sight, who may resist with a Willpower Test. If\\n\" +\r\n            \"the psyker succeeds, the target must follow his commands.\\n\" +\r\n            \"The commands must be simple and achievable within a single\\n\" +\r\n            \"round. Some examples include Flee, Fall, Attack the closest\\n\" +\r\n            \"target, and so forth. If the command is a potentially suicidal\\n\" +\r\n            \"act, the target gets a +20 to his Opposed Willpower Test\" } as ISpell,\r\n    \"Delude\" : { name: \"Delude\", category: EItemCategory.SPELL, count: 1, damage: \"Gain Trust\", pen: 0, type: EDamageType.CURSE, exp: 100, prerequisites: \"Thought Sending\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"Psy Rating\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \"The psyker clouds the targets perceptions,\\n\" +\r\n            \"tricking him into feeling that the psyker is someone to be\\n\" +\r\n            \"trusted implicitly, reacting positively to interactions with him.\\n\" +\r\n            \"The deceptive potential of psykers is a constant fear for the\\n\" +\r\n            \"authorities of the Imperium and for good reason, as renegade\\n\" +\r\n            \"witches throughout the history of mankind have used their\\n\" +\r\n            \"powers to subvert and defy authority fi gures.\\n\" +\r\n            \"The psyker must nominate a single target within range\\n\" +\r\n            \"and line of sight, who may resist with a Willpower Test.\\n\" +\r\n            \"While this power remains in effect, the psyker gains a +5\\n\" +\r\n            \"x Psy Rating bonus to all Interaction Skill Tests against that\\n\" +\r\n            \"target. Note that this power is not mind control as such\\n\" +\r\n            \"and the psyker cannot force others to act against their better\\n\" +\r\n            \"judgement or harm themselves, nor does it obscure acts of\\n\" +\r\n            \"overt hostility by the psyker.\" } as ISpell,\r\n    \"Inspire\" : { name: \"Inspire\", category: EItemCategory.SPELL, count: 1, damage: \"Removes Pinning, +10 Fear Resistance\", pen: 0, type: EDamageType.BUFF, exp: 100, prerequisites: \"Thought Sending, Resistance (Fear)\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"3m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"The psyker can bolster the resolve of his\\n\" +\r\n            \"comrades with waves of emotion that drive away fears and\\n\" +\r\n            \"heighten righteous spite. Eldar Warlocks and Imperial Savants\\n\" +\r\n            \"alike employ powers of this sort to strengthen the wills of their\\n\" +\r\n            \"allies against impossible odds and terrifying adversaries.\\n\" +\r\n            \"A number of allies within range equal to the psykers Psy\\n\" +\r\n            \"Rating, plus the psyker himself, may immediately overcome\\n\" +\r\n            \"the effects of pinning, and gain a +10 bonus to all Willpower\\n\" +\r\n            \"Tests to resist the effects of Fear while this power remains in\\n\" +\r\n            \"effect. Allies affected by this power lose its benefi ts as soon as\\n\" +\r\n            \"they move out of range\" } as ISpell,\r\n    \"Mind Link\" : { name: \"Mind Link\", category: EItemCategory.SPELL, count: 1, damage: \"Silent Communication\", pen: 0, type: EDamageType.BUFF, exp: 200, prerequisites: \"Thought Sending\", action: \"Half\", focusPower: \"Ordniary (+10) WP\", range: \"1km x Psy Rating\", sustained: \"Free Action\", subtype: [ESpellType.CONCENTRATION], description: \" A natural development of the simplest telepathic\\n\" +\r\n            \"techniques, the psyker forms a lingering mental bond between\\n\" +\r\n            \"himself and several others, allowing them to share thoughts over\\n\" +\r\n            \"considerable distances. Chaos cultists regard such communication\\n\" +\r\n            \"as the speech of the daemonic, a truer, purer way of conveying\\n\" +\r\n            \"information, and secret organisations of all kinds value the swift\\n\" +\r\n            \"and silent communion that telepathy allows.\\n\" +\r\n            \"While this power remains in effect, a number of willing\\n\" +\r\n            \"creatures equal to the psykers Willpower Bonus are mentally\\n\" +\r\n            \"linked, allowing them to communicate instantly and silently.\\n\" +\r\n            \"This power requires line of sight between the psyker and all\\n\" +\r\n            \"the other participants at the moment the power is used, but\\n\" +\r\n            \"once the power is in effect, line of sight is no longer necessary.\" } as ISpell,\r\n    \"Mind Probe\" : { name: \"Mind Probe\", category: EItemCategory.SPELL, count: 1, damage: \"Read Targets Mind\", pen: 0, type: EDamageType.CURSE, exp: 200, prerequisites: \"Thought Sending\", action: \"Half\", focusPower: \"Opposed Challenging (+0) WP\", range: \"Psy Rating\", sustained: \"Free Action\", subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The psyker reaches into the mind of a single\\n\" +\r\n            \"creature, unravelling the layers and defences within it to uncover\\n\" +\r\n            \"thoughts both obvious and hidden. The servants of the Inquisition\\n\" +\r\n            \"frequently employ such methods to interrogate particularly\\n\" +\r\n            \"resistant suspects, and it is for this reason that they are so feared\\n\" +\r\n            \"by enemies of the Imperium, but they are far from the only group\\n\" +\r\n            \"who employ psykers to steal secrets from the minds of their foes.\\n\" +\r\n            \"It takes fi ve rounds of sustained effort to completely probe\\n\" +\r\n            \"the mind of an individual. It requires a Focus Power Test,\\n\" +\r\n            \"opposed by the targets Willpower Test, each round the power\\n\" +\r\n            \"is sustained, with the same modifi ers as the initial test to use the\\n\" +\r\n            \"power (though there is no chance of Psychic Phenomena for\\n\" +\r\n            \"any round after the fi rst). If the psyker wins the Focus Power\\n\" +\r\n            \"Test, he gleans information from the targets mind, depending\\n\" +\r\n            \"on how long he has successfully maintained the power. If the\\n\" +\r\n            \"psyker fails the Focus Power Test, he is ejected from the targets\\n\" +\r\n            \"mind, unable to dig any deeper, and the powers effects end.\\n\" +\r\n            \"However, the psyker retains any knowledge he has already\\n\" +\r\n            \"gained from the powers use up until that point.\\n\" +\r\n            \"A psyker can attempt to perform this power subtly,\\n\" +\r\n            \"preventing the target from knowing that his mind has been\\n\" +\r\n            \"infi ltrated. This changes the Focus Power Test to a Hard (20)\\n\" +\r\n            \"Opposed Willpower Test, and the power may only be used at\\n\" +\r\n            \"the Fettered power level.\" } as ISpell,\r\n    \"Psychic Scream\" : { name: \"Psychic Scream\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+(2xPsy Rating), Schocking, Warp\", pen: 99, type: EDamageType.EXPLOSIVE, exp: 300, prerequisites: \"Thought Sending\", action: \"Half\", focusPower: \"Hard (-20) WP\", range: \"5m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK, ESpellType.CONCENTRATION], description: \"The psykers mind unleashes a wave of psychic\\n\" +\r\n            \"force that resonates in the targets mind, infl icting great pain\\n\" +\r\n            \"that can injure or incapacitate an enemy. The Eldar tell of the\\n\" +\r\n            \"wail of the banshee that calls souls from their body, a cry that\\n\" +\r\n            \"is felt rather than heard, while many psykers both sanctioned\\n\" +\r\n            \"and renegade know of telepathic attacks that can wrack a\\n\" +\r\n            \"mind with agony and wound the soul.\\n\" +\r\n            \"This power is a Psychic Bolt which deals 1d10 Explosive\\n\" +\r\n            \"Damage, +2 for every point of Psy Rating, with the Shocking\\n\" +\r\n            \"and Warp Weapon Qualities. The target suffers a penalty to his\\n\" +\r\n            \"Toughness Test to resist the effects of the Shocking quality equal\\n\" +\r\n            \"to 5 x the psykers Psy Rating. Additionally, if successfully used,\\n\" +\r\n            \"this power will always hit the targets headas the power affects\\n\" +\r\n            \"the targets mind directlyrather than a random location.\" } as ISpell,\r\n    \"Thought Sending\" : { name: \"Thought Sending\", category: EItemCategory.SPELL, count: 1, damage: \"Send Messages\", pen: 0, type: EDamageType.BUFF, exp: 100, prerequisites: \"None\", action: \"Free\", focusPower: \"Simple (+40) WP\", range: \"1km x Psy Rating\", sustained: false, subtype: [ESpellType.CONCENTRATION], description: \"The psyker can send his thoughts into the\\n\" +\r\n            \"minds of those around him. This is the most crude and basic\\n\" +\r\n            \"of telepathic techniques, known to vast numbers of psykers of\\n\" +\r\n            \"many species and allegiance.\\n\" +\r\n            \"The psyker can broadcast a short messageno more than one\\n\" +\r\n            \"sentence per Psy Ratingto a number of individuals (no more\\n\" +\r\n            \"than two for each Degree of Success scored on the Focus Power\\n\" +\r\n            \"Test), or indiscriminately to every single creature within range.\\n\" +\r\n            \"Minds who do not wish to be contacted in this way may\\n\" +\r\n            \"resist with a Willpower Test, gaining a +20 to their test if\\n\" +\r\n            \"they do not share a language with the psyker, as many of the\\n\" +\r\n            \"minds processes are still linked to the structure of language\" } as ISpell,\r\n    \"Force Bolt\" : { name: \"Force Bolt\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+2+(2xPsy Rating)\", pen: 0, type: EDamageType.IMPACT, exp: 200, prerequisites: \"Mind over Matter\", action: \"Half\", focusPower: \"Ordinary (+10) WP\", range: \"10m x Psy Rating\", sustained: false, subtype: [ESpellType.ATTACK], description: \"The psyker gathers up his will, coalescing it\\n\" +\r\n            \"into a fi st-sized bolt. The Eldar, when inclined to tell of their\\n\" +\r\n            \"lore at all, speak of the arrows of the hunter-god Kurnous that\\n\" +\r\n            \"strike invisibly and silently, while the psykers of the Imperium,\\n\" +\r\n            \"when not teaching of bland and clinical telekinesis, speak of\\n\" +\r\n            \"destructive thoughts and righteous fury given physical form.\\n\" +\r\n            \"This power is a Psychic Bolt that deals 1d10+2 Impact\\n\" +\r\n            \"Damage, +2 per point of Psy Rating, with a Pen of 0. If the\\n\" +\r\n            \"psyker hits after scoring at least four Degrees of Success the\\n\" +\r\n            \"target is also thrown 1d5 metres away and knocked prone (certain especially large targets such as battle tanks, Greater\\n\" +\r\n            \"Daemons, and Titans are immune to this at the GMs discretion)\" } as ISpell,\r\n    \"Force Storm\" : { name: \"Force Storm\", category: EItemCategory.SPELL, count: 1, damage: \"1d10+(3xPsy Rating)\", pen: 0, type: EDamageType.IMPACT, exp: 350, prerequisites: \"Force Bolt, Mind over Matter\", action: \"Half\", focusPower: \"Difficult (-10) WP\", range: \"10m x Psy Rating\", sustained: false, subtype: [ESpellType.CONCENTRATION, ESpellType.ATTACK], description: \"The psykers will is extended out into a great\\n\" +\r\n            \"fl urry of bolts of invisible force, akin to a storm of fi re from\\n\" +\r\n            \"an automatic weapon. The scholars of the Imperium maintain\\n\" +\r\n            \"chain-bound grimoires of witch-lore that speak of barrages\\n\" +\r\n            \"of ghostly force, or onslaughts of telekinetic brutality, while\\n\" +\r\n            \"Eldar Warlocks sing songs of Lileath, the Maiden, whose ire\\n\" +\r\n            \"manifested as punishing blasts that shine like moonlight.\\n\" +\r\n            \"This power is a Psychic Storm that deals 1d10 Impact\\n\" +\r\n            \"Damage +3 per point of Psy Rating, with a Pen of 0.\" } as ISpell,\r\n    \"Mind over Matter\" : { name: \"Mind over Matter\", category: EItemCategory.SPELL, count: 1, damage: \"Move Objects\", pen: 0, type: EDamageType.IMPACT, exp: 100, prerequisites: \"None\", action: \"Half\", focusPower: \"See Description\", range: \"5m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION, ESpellType.ATTACK], description: \"The basic talent of telekinesis is a versatile\\n\" +\r\n            \"and immensely useful tool in any psykers arsenal, a valuable\\n\" +\r\n            \"means of exerting his will upon his immediate surroundings.\\n\" +\r\n            \"Human psykers, whether sanctioned by the Imperium or\\n\" +\r\n            \"lurking in the shadows beneath so-called civilisation, speak\\n\" +\r\n            \"of reaching out with hands of spectral presence, or imbuing\\n\" +\r\n            \"objects with motion or inertia that should otherwise not exist.\\n\" +\r\n            \"A psyker with this power may use it in one of three ways:\\n\" +\r\n            \"constant motion, rapid push or forceful throw. When using\\n\" +\r\n            \"constant motion, the Focus Power Test is Routine (+20),\\n\" +\r\n            \"and the psyker may move any object within range and\\n\" +\r\n            \"line of sight that weighs no more than 10kg x Psy Rating.\\n\" +\r\n            \"Objects moved in this way can only be moved too slowly to\\n\" +\r\n            \"be used to attack, and when released the object drifts slowly\\n\" +\r\n            \"to the ground.\\n\" +\r\n            \"When using a rapid push, the Focus Power Test is Ordinary\\n\" +\r\n            \"(+10), and Opposed by a Strength Test from a single target\\n\" +\r\n            \"within range and line of sight. If the target fails the test, he\\n\" +\r\n            \"is thrown backwards Psy Rating metres, plus an additional\\n\" +\r\n            \"metre for every Degree of Success on the Focus Power Test.\\n\" +\r\n            \"When using a forceful throw, the Focus Power Test is\\n\" +\r\n            \"Challenging (+0), and allows the psyker to lift an object\\n\" +\r\n            \"weighing no more than 5kg x Psy Rating and thrown at\\n\" +\r\n            \"an enemy within range, hitting them to deal 1d10 Impact\\n\" +\r\n            \"Damage +1 for every 5kg of the objects weight\" } as ISpell,\r\n    \"Precision Telekinesis\" : { name: \"Precision Telekinesis\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"0\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"0m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"\" } as ISpell,\r\n//     \"NAME\" : { name: \"NAME\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"0\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"0m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"\" } as ISpell,\r\n//     \"NAME\" : { name: \"NAME\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"0\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"0m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"\" } as ISpell,\r\n//     \"NAME\" : { name: \"NAME\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"0\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"0m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"\" } as ISpell,\r\n//     \"NAME\" : { name: \"NAME\", category: EItemCategory.SPELL, count: 1, damage: \"0\", pen: 0, type: EDamageType.ENERGY, exp: 300, prerequisites: \"0\", action: \"Half\", focusPower: \"Challenging (+0) WP\", range: \"0m x Psy Rating\", sustained: \"Half Action\", subtype: [ESpellType.CONCENTRATION], description: \"\" } as ISpell,\r\n}\r\n\r\n\r\n\r\nexport const allArmour: {[name: string]: IArmour} = {\r\n    \"Light Carapace\": {\r\n        name: \"Light Carapace\",\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        armL: 5,\r\n        legL: 5,\r\n        legR: 5,\r\n        armR: 5,\r\n        body: 5\r\n    },\r\n    \"Carapace Helm\": {\r\n        name: \"Carapace Helm\",\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        head: 4\r\n    },\r\n}\r\n\r\nexport const allItems: IInventory = {\r\n    'Medipack': {\r\n        name: \"Medipack\",\r\n        count: 3,\r\n        category: EItemCategory.MISC,\r\n        description: \"Basic Medi-Pack kits will usually contain drugs and bandages to treat a variety of injuries and illnesses, such as cataplasm patches and contraseptics. More advanced models might include a diagnostic Cogitator with bio-scanner and probes to determine the patient's ailments. The most advanced types, available to the elite of the Imperium, can include cast sprays, tox wands, synthskin applicators and more.\"\r\n    },\r\n    'Data Slate': {\r\n        name: 'Data Slate',\r\n        count: 1,\r\n        category: EItemCategory.MISC,\r\n        description: 'Data Slate which can contain various informations.'\r\n    },\r\n    ...allWeapons,\r\n    ...allArmour,\r\n}\r\n\r\n\r\n\r\n","export enum ETabNames {\r\n    CHARACTERISTICS,\r\n    SKILLS,\r\n    TALENTS,\r\n    ARMOURY,\r\n    INVENTORY,\r\n    SETTINGS,\r\n    EXPERIENCE,\r\n    SEARCH\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allItems } from \"../character/resources\";\r\nimport { EWeaponCategory, EDamageType, IArmour, IWeapon } from \"../armoury/armourySlice\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\n\r\nexport interface IItem {\r\n    name: string,\r\n    count: number,\r\n    category: EItemCategory\r\n    description?: string\r\n}\r\n\r\nexport type TItem = IItem | IWeapon | IArmour;\r\n\r\nexport interface IInventory {\r\n    [name: string]: TItem\r\n}\r\n\r\nexport const itemsInitialState = {\r\n    'Data Slate': {\r\n        name: 'Data Slate',\r\n        count: 1,\r\n        category: EItemCategory.MISC,\r\n        description: 'Data Slate which can contain various informations.'\r\n    },\r\n    'Autopistol': {\r\n        name: 'Autopistol',\r\n        category: EItemCategory.WEAPON,\r\n        count: 1,\r\n        weaponCategory: EWeaponCategory.PISTOL,\r\n        damage: '1d10+2',\r\n        range: 30,\r\n        rof: 's/-/6',\r\n        clip: 18,\r\n        rld: 'FULL',\r\n        type: EDamageType.IMPACT,\r\n        pen: 0,\r\n        weight: 1.5\r\n    },\r\n    [`Chaindagger`]: {\r\n        name: 'Chaindagger',\r\n        category: EItemCategory.WEAPON,\r\n        count: 1,\r\n        weaponCategory: EWeaponCategory.CHAIN,\r\n        damage: '1d10+1',\r\n        range: 0,\r\n        rof: '',\r\n        clip: 0,\r\n        rld: '',\r\n        type: EDamageType.RENDING,\r\n        pen: 0,\r\n        weight: 1.5\r\n    },\r\n    ['DummyArmour']: {\r\n        name: 'DummyArmour',\r\n        count: 1,\r\n        category: EItemCategory.ARMOUR,\r\n        body: 95\r\n\r\n    }\r\n} as IInventory\r\n\r\nexport const inventorySlice = createSlice({\r\n    name: 'items',\r\n    initialState: itemsInitialState,\r\n    reducers: {\r\n        addItem: (state, action: PayloadAction<IItem>) => {\r\n            const { name } = action.payload;\r\n            const oldCount = state[name]?.count\r\n            state[name] = { ...action.payload, count: oldCount ? oldCount + 1 : 1 };\r\n        },\r\n        addItemByName: (state, action: PayloadAction<string>) => {\r\n            const itemname = action.payload;\r\n            if (state[itemname]) {\r\n                state[itemname].count++;\r\n            } else {\r\n                const item = allItems[itemname];\r\n\r\n                item ? state[itemname] = item\r\n                    : state[itemname] = { name: itemname, count: 1, category: EItemCategory.NONE };\r\n            }\r\n        },\r\n        changeWeaponName: (state, action: PayloadAction<IWeapon & { oldName: string }>) => {\r\n            state[action.payload.name] = action.payload;\r\n            delete state[action.payload.oldName]\r\n        },\r\n        editWeapon: (state, action: PayloadAction<IWeapon>) => {\r\n            state[action.payload.name] = action.payload;\r\n        },\r\n        editArmour: (state, action: PayloadAction<IArmour>) => {\r\n            state[action.payload.name] = action.payload;\r\n        },\r\n        removeItem: (state, action: PayloadAction<TItem>) => {\r\n            const item = action.payload;\r\n            if (item.count === 1) {\r\n                delete state[item.name];\r\n            } else {\r\n                state[item.name].count--;\r\n            }\r\n        },\r\n        editDescription: (state, action: PayloadAction<IItem>) => {\r\n            const item = action.payload;\r\n            state[item.name].description = item.description\r\n        },\r\n        editCategory: (state, action: PayloadAction<IItem>) => {\r\n            const item = action.payload;\r\n            state[item.name].category = item.category\r\n        },\r\n        importInventory: (state, action) => {\r\n            const inventory = action.payload;\r\n            //clear existing\r\n            for(const item in state) {\r\n                delete state[item];\r\n            }\r\n            for (const name in inventory) {\r\n                state[name] = inventory[name];\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n    addItem,\r\n    addItemByName,\r\n    changeWeaponName,\r\n    editWeapon,\r\n    editArmour,\r\n    removeItem,\r\n    editDescription,\r\n    editCategory,\r\n    importInventory\r\n} = inventorySlice.actions\r\nexport default inventorySlice.reducer\r\n\r\n","import { Alert, Badge, Button, Card, Col, Dropdown, DropdownButton, FormControl, InputGroup, OverlayTrigger, Row, Tooltip } from \"react-bootstrap\";\r\nimport {\r\n    BiCrosshair,\r\n    BiQuestionMark,\r\n    FaDiceD20,\r\n    GiAncientSword,\r\n    GiArrowScope,\r\n    GiBulletImpacts,\r\n    GiChainsaw,\r\n    GiElectric,\r\n    GiLaserPrecision,\r\n    GiMachineGunMagazine,\r\n    GiPistolGun,\r\n    GiReloadGunBarrel,\r\n    GiShieldImpact,\r\n    GiWeight,\r\n    IoMdCheckmarkCircle\r\n} from \"react-icons/all\";\r\nimport React, { useState } from \"react\";\r\nimport './weaponCard.scss';\r\nimport { EDamageType, EWeaponCategory, IWeapon, removeWeapon } from \"./armourySlice\";\r\nimport { addItem, changeWeaponName, editWeapon } from \"../inventory/inventorySlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { IDamageRoll, IStatRoll, rollAimAndSendToDiscord, rollDamageAndSendToDiscord } from \"../character/Rolls\";\r\nimport { getHitLocation } from \"./armoury\";\r\n\r\n\r\nexport const WeaponCard = ({ weapon, editMode = false }: { weapon: IWeapon, editMode?: boolean }) => {\r\n    const [newName, setNewName] = useState(weapon.name);\r\n\r\n    const weaponEquipped = useAppSelector(state => state.armoury.weapons[weapon.name]);\r\n    const character = useAppSelector(state => state.character);\r\n    const characteristics = useAppSelector(state => state.characteristics);\r\n    const [testModifier, setTestModifier] = useState(10);\r\n    const [bonusRolls, setBonusRolls] = useState(0);\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [text, setText] = useState('');\r\n    const [variant, setVariant] = useState('success');\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n\r\n    function getJSXForWeaponCategory(cat: EWeaponCategory) {\r\n        switch (cat) {\r\n            case EWeaponCategory.SWORD:\r\n                return <GiAncientSword/>;\r\n            case EWeaponCategory.PISTOL:\r\n                return <GiPistolGun/>\r\n            case EWeaponCategory.CHAIN:\r\n                return <GiChainsaw/>\r\n        }\r\n        return <BiQuestionMark/>\r\n    }\r\n\r\n\r\n    function getJSXForWeaponType(weaponType: EDamageType) {\r\n        switch (weaponType) {\r\n            case EDamageType.IMPACT:\r\n                return <GiBulletImpacts/>\r\n            case EDamageType.RENDING:\r\n                return <GiChainsaw/>\r\n            case EDamageType.SCHOCK:\r\n                return <GiElectric/>\r\n            case EDamageType.LASER:\r\n                return <GiLaserPrecision/>\r\n\r\n        }\r\n\r\n        return <BiQuestionMark/>;\r\n    }\r\n\r\n    function getWeaponTypeDropdown() {\r\n        return <Dropdown>\r\n            <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                {getJSXForWeaponCategory(weapon.weaponCategory)}\r\n            </Dropdown.Toggle>\r\n\r\n            <Dropdown.Menu>\r\n                {Object.values(EWeaponCategory).map((value, index) => {\r\n                        // @ts-ignore\r\n                        const e = EWeaponCategory[index]\r\n                        return e ? <Dropdown.Item\r\n                            key={`category-dropdown-${e}`}\r\n                            onClick={() => {\r\n                                dispatch(editWeapon({ ...weapon, weaponCategory: index }))\r\n                            }}>{e}</Dropdown.Item> : null\r\n                    }\r\n                )}\r\n            </Dropdown.Menu>\r\n        </Dropdown>\r\n    }\r\n\r\n    function getWeightField(col = 2) {\r\n        return editMode ?\r\n            <Col md={col}> <GiWeight/> <FormControl size={\"sm\"}\r\n                                                    value={weapon.weight}\r\n                                                    placeholder={\"1\"}\r\n                                                    aria-label=\"Weight\"\r\n                                                    onChange={(event) => dispatch(editWeapon({\r\n                                                        ...weapon,\r\n                                                        weight: parseInt(event.target.value)\r\n                                                    }))}/> </Col>\r\n            : <Col md={col}> <GiWeight/> {weapon.weight} </Col>\r\n    }\r\n\r\n\r\n    function getDamageField() {\r\n        return editMode ?\r\n            <Col md={4}>\r\n                Damage\r\n                <FormControl size={\"sm\"}\r\n                             value={weapon.damage}\r\n                             placeholder={\"xd10+y\"}\r\n                             aria-label=\"Damage in Form xd10 + y\"\r\n                             onChange={(event) => dispatch(editWeapon({ ...weapon, damage: event.target.value }))}/>\r\n                <div>\r\n                    <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                           onClick={() => dispatch(editWeapon({\r\n                               ...weapon,\r\n                               pen: weapon.pen ? weapon.pen + 1 : 1\r\n                           }))}>+</Badge>\r\n                    <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {weapon.pen ? weapon.pen : 0} </Badge>\r\n                    <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                           onClick={() => dispatch(editWeapon({\r\n                               ...weapon,\r\n                               pen: weapon.pen ? Math.max(weapon.pen - 1, 0) : 0\r\n                           }))}>-</Badge>\r\n                </div>\r\n\r\n                <Dropdown>\r\n                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                        {getJSXForWeaponType(weapon.type)}\r\n                    </Dropdown.Toggle>\r\n\r\n                    <Dropdown.Menu>\r\n                        {Object.values(EDamageType).map((value, index) => {\r\n                                // @ts-ignore\r\n                                const e = EDamageType[index]\r\n                                return e ? <Dropdown.Item\r\n                                    key={`category-dropdown-${e}`}\r\n                                    onClick={() => {\r\n                                        dispatch(editWeapon({ ...weapon, type: index }))\r\n                                    }}\r\n                                >{e}</Dropdown.Item> : null\r\n                            }\r\n                        )}\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n\r\n            </Col>\r\n            : <Col md={4}>{weapon.damage} <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {weapon.pen}\r\n            </Badge> </Col>\r\n    }\r\n\r\n    function getRangeField() {\r\n        return editMode ?\r\n            <Col> <GiArrowScope/> Range<FormControl size={\"sm\"}\r\n                                                    placeholder={\"30\"}\r\n                                                    value={weapon.range}\r\n                                                    aria-label=\"Range in m\"\r\n                                                    onChange={(event) => dispatch(editWeapon({\r\n                                                        ...weapon,\r\n                                                        range: parseInt(event.target.value)\r\n                                                    }))}/>\r\n                Rate of Fire\r\n                <FormControl size={\"sm\"}\r\n                             value={weapon.rof}\r\n                             placeholder={\"s/-/6\"}\r\n                             aria-label=\"Rate of Fire\"\r\n                             onChange={(event) => dispatch(editWeapon({ ...weapon, rof: event.target.value }))}/>\r\n            </Col>\r\n            : <Col> <GiArrowScope/> {weapon.range}m - {weapon.rof} </Col>\r\n    }\r\n\r\n    function getMagazineField() {\r\n        return editMode ?\r\n            <Col> <GiMachineGunMagazine/> Magazine <FormControl size={\"sm\"}\r\n                                                                value={weapon.clip}\r\n                                                                placeholder={\"8\"}\r\n                                                                aria-label=\"Magazine\"\r\n                                                                onChange={(event) => dispatch(editWeapon({\r\n                                                                    ...weapon,\r\n                                                                    clip: parseInt(event.target.value)\r\n                                                                }))}/>\r\n                <GiReloadGunBarrel/> Reload <FormControl size={\"sm\"}\r\n                                                         value={weapon.rld}\r\n                                                         placeholder={\"FULL | HALF\"}\r\n                                                         aria-label=\"Magazine\"\r\n                                                         onChange={(event) => dispatch(editWeapon({\r\n                                                             ...weapon,\r\n                                                             rld: event.target.value\r\n                                                         }))}/>\r\n\r\n            </Col>\r\n            : <Col> <GiMachineGunMagazine/> {weapon.clip} <GiReloadGunBarrel/> {weapon.rld} </Col>\r\n    }\r\n\r\n    function getRemoveFromArmoury() {\r\n        return weaponEquipped ?\r\n            <Col md={1}>\r\n                <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                       onClick={() => {\r\n                           dispatch(removeWeapon(weapon));\r\n                           dispatch(addItem(weapon))\r\n                       }}>-\r\n                </Badge>\r\n            </Col> : <></>\r\n    }\r\n\r\n    function getNameField() {\r\n        return <Col>\r\n            <OverlayTrigger\r\n                key={`weaponCardTooltip-${weapon.name}`}\r\n                overlay={\r\n                    <Tooltip\r\n                        id={`tooltip-${weapon.name}`}>{weapon.description ? weapon.description : \"Add description\"}</Tooltip>\r\n                }>\r\n                {editMode ? <Row>\r\n                        {!isMeeleWeapon() ?\r\n                            <Col md={4}>\r\n                                {getWeaponTypeDropdown()}\r\n                            </Col>\r\n                            : <></>\r\n                        }\r\n                        <Col>\r\n                            {isMeeleWeapon() ? getWeaponTypeDropdown() : <></>}\r\n                            <InputGroup>\r\n                                <FormControl size={\"sm\"}\r\n                                             value={newName}\r\n                                             placeholder={\"Description\"}\r\n                                             aria-label=\"Description\"\r\n                                             onChange={(event) => setNewName(event.target.value)}/>\r\n                                <InputGroup.Append>\r\n                                    <Button size={\"sm\"}\r\n                                            placeholder={\"Name\"}\r\n                                            onClick={(event) => {\r\n                                                dispatch(changeWeaponName({\r\n                                                    ...weapon,\r\n                                                    name: newName,\r\n                                                    oldName: weapon.name\r\n                                                }))\r\n                                            }}>\r\n                                        <IoMdCheckmarkCircle cursor={\"pointer\"} color={\"white\"}/>\r\n                                    </Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </Row>\r\n                    :\r\n                    <div>{getJSXForWeaponCategory(weapon.weaponCategory)} {getJSXForWeaponType(weapon.type)} {weapon.name}</div>\r\n                }\r\n\r\n            </OverlayTrigger>\r\n        </Col>\r\n    }\r\n\r\n    function getRollDice() {\r\n        const characteristic = isMeeleWeapon() ? characteristics[\"WS\"] : characteristics[\"BS\"];\r\n        const bonusDrop = [<Dropdown.Header key={`aim-header-${weapon.name}`}>Aim Modifier</Dropdown.Header>];\r\n        const bonusRollDrop = [<Dropdown.Header key={`rolls-header-${weapon.name}`}>Bonus Rolls</Dropdown.Header>];\r\n\r\n        // dropItems.push();\r\n        for (let i = 60; i > -70; i -= 10) {\r\n            bonusDrop.push(<Dropdown.Item key={`${weapon.name}-modifier-${i}`} onClick={() => setTestModifier(i)}>{i}</Dropdown.Item>);\r\n        }\r\n        for (let i = 0; i < 10; i++) {\r\n            bonusRollDrop.push(<Dropdown.Item key={`${weapon.name}-rolls-${i}`} onClick={() => setBonusRolls(i)}>{i}</Dropdown.Item>);\r\n        }\r\n\r\n\r\n        return <Row>\r\n            <Col>\r\n                <DropdownButton size=\"sm\" title={testModifier} variant={'secondary'}>\r\n                    {bonusDrop}\r\n                </DropdownButton>\r\n            </Col>\r\n            <Col>\r\n                <DropdownButton size=\"sm\"  title={bonusRolls} variant={'secondary'}>\r\n                    {bonusRollDrop}\r\n                </DropdownButton>\r\n            </Col>\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => showAimAlert(rollAimAndSendToDiscord(character.discord[character.discord.active], character.characterName, characteristic, testModifier))}\r\n                >\r\n                    <BiCrosshair style={{ cursor: \"pointer\" }}\r\n                    /> Aim\r\n                </Button>\r\n            </Col>\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => showDamageAlert(rollDamageAndSendToDiscord(character.discord[character.discord.active], character.characterName, weapon, characteristics[\"S\"], bonusRolls))}\r\n                >\r\n                    <FaDiceD20 color={\"darkred\"}\r\n                               style={{ cursor: \"pointer\" }}\r\n                    /> Damage\r\n                </Button>\r\n            </Col>\r\n        </Row>;\r\n    }\r\n\r\n    function showAimAlert(rollResult: IStatRoll) {\r\n        setVariant(rollResult.result ? 'success' : 'danger');\r\n        setShow(true);\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`Stat ${rollResult.characteristics.value + rollResult.modifier} Rolled ${rollResult.rollSum} = Test ${rollResult.result ? 'success' : 'failed'} \r\n        ${getHitLocation(rollResult.rollSum)}`)\r\n    }\r\n\r\n    function showDamageAlert(rollResult: IDamageRoll) {\r\n        setShow(false);\r\n        setShow(true);\r\n        setVariant('info')\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`Damage: ${rollResult.rollSum + rollResult.damage} - Pen: ${rollResult.pen} - Rolls: ${JSON.stringify(rollResult.rolls)}`)\r\n    }\r\n\r\n    function isMeeleWeapon() {\r\n        return weapon.weaponCategory > EWeaponCategory._\r\n    }\r\n\r\n    function getWeaponCard() {\r\n        if (isMeeleWeapon()) {\r\n            return getWeaponCardMeele()\r\n        } else {\r\n            return getWeaponCardRange()\r\n        }\r\n    }\r\n\r\n    function getWeaponCardMeele() {\r\n        return <Card key={`weaponCard${weapon.name}`}>\r\n            <Card.Header>\r\n                <Row>\r\n                    {getNameField()}\r\n                    {getDamageField()}\r\n                    {getWeightField()}\r\n                    {getRemoveFromArmoury()}\r\n                </Row>\r\n            </Card.Header>\r\n            <Card.Body style={{ padding: 10 }}>\r\n                {getRollDice()}\r\n                <Alert onClose={() => setShow(false)} show={show} variant={variant}>\r\n                    {text}\r\n                </Alert>\r\n            </Card.Body>\r\n        </Card>;\r\n    }\r\n\r\n\r\n    function getWeaponCardRange() {\r\n        return <Card key={`weaponCard${weapon.name}`}>\r\n            <Card.Header>\r\n                <Row>\r\n                    {getNameField()}\r\n                    {getDamageField()}\r\n                    {getWeightField()}\r\n                    {getRemoveFromArmoury()}\r\n                </Row>\r\n            </Card.Header>\r\n            <Card.Body style={{ padding: 5 }}>\r\n                <Row>\r\n                    {getRangeField()}\r\n                    {getMagazineField()}\r\n                </Row>\r\n                {getRollDice()}\r\n                <Alert onClose={() => setShow(false)} show={show} variant={variant}>\r\n                    {text}\r\n                </Alert>\r\n            </Card.Body>\r\n        </Card>;\r\n    }\r\n\r\n    return getWeaponCard()\r\n\r\n}\r\n","import { ISkill } from \"../skills/skillSlice\";\r\nimport { EDamageType, EWeaponCategory, ISpell, IWeapon } from \"../armoury/armourySlice\";\r\nimport { ICharacteristics } from \"../characteristics/characteristicsSlice\";\r\nimport { getHitLocation } from \"../armoury/armoury\";\r\nimport { EItemCategory } from \"./EItemCategory\";\r\nimport { RootState } from \"../../general/store\";\r\n\r\nenum ERollType {\r\n    NONE,\r\n    TEST,\r\n    STAT,\r\n    INIT,\r\n    DAMAGE,\r\n    AIM\r\n}\r\n\r\nexport interface IRollResult {\r\n    rollType: ERollType,\r\n    rolls: number[],\r\n    rollSum: number,\r\n    amount: number,\r\n    limit: number,\r\n}\r\n\r\nexport interface IStatRoll extends IRollResult {\r\n    characteristics: ICharacteristics,\r\n    modifier: number,\r\n    result?: boolean,\r\n}\r\n\r\nexport interface ITestRoll extends IRollResult {\r\n    stat?: number,\r\n    level?: number,\r\n    sum?: number,\r\n    result?: boolean,\r\n}\r\n\r\nexport interface IDamageRoll extends IRollResult {\r\n    damage: number,\r\n    type: EDamageType,\r\n    pen: number,\r\n\r\n}\r\n\r\nexport interface IInitRoll extends IRollResult {\r\n    bonus: number,\r\n}\r\n\r\nexport function rollTestAndSendToDiscord(discordServer: string, username: string, characteristics: number, skill?: ISkill, amount: number = 1, limit: number = 100, bonus: number = 0): IRollResult {\r\n    const rollResult = rollTest(characteristics, amount, limit, bonus, skill);\r\n    let message = skill ? `tried ${skill.name} Test` : \"\"\r\n    if (rollResult.rollType === ERollType.TEST) {\r\n        const rollResultTest = rollResult as ITestRoll;\r\n        message += `${rollResultTest.result ? ' - **SUCCESS**' : ' - **FAILURE**'}`\r\n    }\r\n\r\n    sendMessage(discordServer, message, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollAndSendToDiscord(discordServer: string, username: string, amount: number = 1, limit: number = 100) {\r\n    const rollResult = roll(amount, limit);\r\n    sendMessage(discordServer, ` made custom roll`, getEmbedsForRollType(rollResult), username);\r\n    return rollResult;\r\n}\r\n\r\nexport function rollDamageAndSendToDiscord(discordServer: string, username: string, weapon: IWeapon | ISpell, strength?: ICharacteristics, bonusRolls: number = 0): IDamageRoll {\r\n\r\n\r\n    // Damage Calc - Syntax: XdY+Z\r\n    const d = weapon.damage.split(\"d\")\r\n    let amount = parseInt(d[0]);\r\n    const limit = parseInt(d[1].split(\"+\")[0]);\r\n    let damage = parseInt(d[1].split(\"+\")[1]);\r\n\r\n    if (weapon.category === EItemCategory.WEAPON) {\r\n        const w = weapon as IWeapon;\r\n        if (w.weaponCategory > EWeaponCategory._ && strength) {\r\n            damage += Math.floor(strength.value / 10) + strength.bonus;\r\n        }\r\n    }\r\n\r\n    // if (bonusRolls) {\r\n    //     const rollResult: IDamageRoll = { ...roll(amount + bonusRolls, limit), rollType: ERollType.DAMAGE, ...weapon, damage };\r\n    //     rollResult.rollSum = rollResult.rolls.sort((a, b) => a > b ? a : b).slice(0, amount - 1).reduce((a,b) => a+b);\r\n    //     sendMessage(discordServer, `attacks with ${weapon.name} `, getEmbedsForRollType(rollResult), username);\r\n    //     return rollResult\r\n    //\r\n    // }\r\n    const rollResult: IDamageRoll = { ...roll(amount + bonusRolls, limit), rollType: ERollType.DAMAGE, ...weapon, damage };\r\n    // console.log(rollResult.rolls)\r\n    // console.log(rollResult.rolls.sort((a, b) => b - a ))\r\n    // console.log(rollResult.rolls)\r\n    // console.log(rollResult.rolls.slice(0, amount))\r\n    rollResult.rollSum = rollResult.rolls.sort((a, b) => b - a).slice(0, amount).reduce((a, b) => a + b);\r\n    sendMessage(discordServer, `attacks with ${weapon.name} `, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollInitAndSendToDiscord(discordServer: string, username: string, bonus: number, amount: number = 1, limit: number = 100): IRollResult {\r\n    const rollResult: IInitRoll = { ...roll(amount, limit), rollType: ERollType.INIT, bonus };\r\n\r\n    sendMessage(discordServer, \"rolled Init\", getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollStatAndSendToDiscord(discordServer: string, username: string, characteristics: ICharacteristics, modifier: number = 0, amount: number = 1, limit: number = 100): IRollResult {\r\n    const rollResult: IStatRoll = { ...roll(amount, limit), rollType: ERollType.STAT, characteristics, modifier };\r\n    rollResult.result = rollResult.rollSum < characteristics.value + rollResult.modifier;\r\n\r\n    sendMessage(discordServer, `rolled for ${characteristics.name}`, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function rollAimAndSendToDiscord(discordServer: string, username: string, characteristics: ICharacteristics, modifier: number = 0, amount: number = 1, limit: number = 100): IStatRoll {\r\n    const rollResult: IStatRoll = { ...roll(amount, limit), rollType: ERollType.AIM, characteristics, modifier };\r\n    rollResult.result = rollResult.rollSum < characteristics.value + rollResult.modifier;\r\n\r\n    sendMessage(discordServer, `rolled for ${characteristics.name}`, getEmbedsForRollType(rollResult), username);\r\n\r\n    return rollResult\r\n}\r\n\r\nexport function saveCharToDiscord(completeState: RootState): void {\r\n    const discordServer = completeState.character.discord[completeState.character.discord.active]\r\n    const filename = completeState.character.characterName ? completeState.character.characterName + \".jsonSave\" : \"DnD-Character.jsonSave\"\r\n\r\n    const main = {\r\n        username: completeState.character.characterName,\r\n        content: \" saved File to Discord. Click on the arrow icon to download the file\",\r\n        attachments:[{ id: 0, description: \"Character Savefile\", filename }]\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"payload_json\", JSON.stringify(main));\r\n    formData.append(\"files[0]\", new Blob([JSON.stringify(completeState)]), filename);\r\n\r\n    fetch(discordServer,\r\n        {\r\n            method: 'POST',\r\n            body: formData\r\n\r\n        }\r\n    );\r\n}\r\n\r\n\r\n// PRIVATE FUNCTIONS\r\n\r\nfunction getRollResultText(rollResult: ITestRoll) {\r\n    const r = rollResult.result ? '>' : '<';\r\n    return `${rollResult.sum} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}`;\r\n}\r\n\r\nfunction getEmbedsForRollType(roll: IRollResult) {\r\n    const colorCodeRed = 14159922;\r\n    const colorCodeGreen = 4113681;\r\n\r\n    switch (roll.rollType) {\r\n        case ERollType.NONE: {\r\n            const rollResult = roll\r\n            return [{\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.INIT: {\r\n            const rollResult = roll as IInitRoll\r\n            return [{\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Roll\", value: `${rollResult.rolls}`, inline: true },\r\n                    {\r\n                        name: \"Sum\",\r\n                        value: `${rollResult.rollSum} ${rollResult.bonus < 0 ? rollResult.bonus : `+ ${rollResult.bonus}`} = **${rollResult.rollSum + rollResult.bonus}**`,\r\n                        inline: true\r\n                    },\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.TEST: {\r\n            const rollResult = roll as ITestRoll;\r\n            return [\r\n                {\r\n                    color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                    fields: [\r\n                        { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                        { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                        { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                        { name: \"Stat\", value: `${rollResult.stat}`, inline: true },\r\n                        { name: \"Level\", value: `${rollResult.level}`, inline: true },\r\n                        { name: \"Sum\", value: `${rollResult.sum}`, inline: true },\r\n                        { name: \"**Result**\", value: getRollResultText(rollResult) },\r\n\r\n                    ],\r\n                },\r\n            ]\r\n        }\r\n        case ERollType.DAMAGE: {\r\n            const rollResult = roll as IDamageRoll\r\n            return [\r\n                {\r\n                    fields: [\r\n                        { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                        { name: \"Results\", value: `${rollResult.rolls}`, inline: true },\r\n                        { name: \"Damage\", value: `${rollResult.damage}`, inline: true },\r\n                        { name: \"Sum\", value: `**${rollResult.rollSum + rollResult.damage}**`, inline: true },\r\n                        { name: \"Pen\", value: `${rollResult.pen}`, inline: true },\r\n                        { name: \"Type\", value: `${EDamageType[rollResult.type]}`, inline: true },\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n        case ERollType.STAT: {\r\n            const rollResult = roll as IStatRoll\r\n            const r = rollResult.result ? '>' : '<';\r\n            return [{\r\n                color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                    {\r\n                        name: \"Stat\",\r\n                        value: `${rollResult.characteristics.value} ${rollResult.modifier < 0 ? rollResult.modifier : `+${rollResult.modifier}`}`,\r\n                        inline: true\r\n                    },\r\n                    {\r\n                        name: \"**Result**\",\r\n                        value: `${rollResult.characteristics.value + rollResult.modifier} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}`\r\n                    },\r\n                ]\r\n            }]\r\n        }\r\n        case ERollType.AIM: {\r\n            const rollResult = roll as IStatRoll\r\n            const r = rollResult.result ? '>' : '<';\r\n            return [{\r\n                color: rollResult.result ? colorCodeGreen : colorCodeRed,\r\n                fields: [\r\n                    { name: \"Roll\", value: `${rollResult.amount}d${rollResult.limit}`, inline: true },\r\n                    { name: \"Sum\", value: `${rollResult.rollSum}`, inline: true },\r\n                    {\r\n                        name: \"Stat\",\r\n                        value: `${rollResult.characteristics.value} ${rollResult.modifier < 0 ? rollResult.modifier : `+${rollResult.modifier}`}`,\r\n                        inline: true\r\n                    },\r\n                    {\r\n                        name: \"**Result**\",\r\n                        value: `${rollResult.characteristics.value + rollResult.modifier} ${r} ${rollResult.rollSum} = ${rollResult.result ? '**SUCCESS**' : '**FAILURE**'}`\r\n                    },\r\n                    { name: \"Hit Location\", value: `${getHitLocation(rollResult.rollSum)}` },\r\n                ]\r\n            }]\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction sendMessage(discord: string, message: string, embeds?: any, username?: string) {\r\n    console.log(JSON.stringify({\r\n        username: username,\r\n        content: message,\r\n        embeds: embeds\r\n    }));\r\n    fetch(discord,\r\n        {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                username: username,\r\n                content: message,\r\n                embeds: embeds\r\n            })\r\n        });\r\n\r\n}\r\n\r\nexport function getRndInteger(min: number, max: number) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction roll(amount: number, limit: number): IRollResult {\r\n    const rollResult: ITestRoll = { rollType: ERollType.NONE, rolls: [], rollSum: 0, amount, limit };\r\n    for (let count = 0; count < rollResult.amount; count++) {\r\n        const roll = getRndInteger(1, rollResult.limit);\r\n        rollResult.rolls[count] = roll;\r\n        rollResult.rollSum += roll;\r\n    }\r\n    return rollResult\r\n}\r\n\r\n\r\nfunction rollTest(characteristics: number, amount: number, limit: number, bonus: number, skill?: ISkill): IRollResult {\r\n    const rollResult: ITestRoll = roll(amount, limit);\r\n    rollResult.rollType = ERollType.TEST\r\n\r\n    rollResult.stat = characteristics + bonus + (skill?.bonus ? skill?.bonus : 0);\r\n    rollResult.level = skill ? (skill.level === 0 ? -20 : (skill.level - 1) * 10) : 0\r\n    rollResult.sum = rollResult.level + rollResult.stat;\r\n    rollResult.result = rollResult.rollSum - rollResult.sum < 0\r\n\r\n    return rollResult\r\n}\r\n\r\n\r\n","import { Badge, Button, Card, Col, OverlayTrigger, Row, Tooltip } from \"react-bootstrap\";\r\nimport { ISpell, removeWeapon } from \"./armourySlice\";\r\nimport { FaDiceD20, FcElectricity, GiArrowScope, GiShieldImpact, RiFocus3Line } from \"react-icons/all\";\r\nimport React from \"react\";\r\nimport { rollDamageAndSendToDiscord } from \"../character/Rolls\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addItem } from \"../inventory/inventorySlice\";\r\n\r\n\r\nexport const SpellCard = ({ spell }: { spell: ISpell }) => {\r\n    const dispatch = useAppDispatch();\r\n\r\n    const character = useAppSelector(state => state.character);\r\n\r\n    const { name, damage} = spell\r\n\r\n    const equipped = useAppSelector(state => state.armoury.weapons[name]);\r\n\r\n\r\n    function getRemoveFromArmoury() {\r\n        return equipped ?\r\n            <Col md={1}>\r\n                <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                       onClick={() => {\r\n                           dispatch(removeWeapon(spell));\r\n                           dispatch(addItem(spell))\r\n                       }}>-\r\n                </Badge>\r\n            </Col> : <></>\r\n    }\r\n\r\n\r\n    function getNameField() {\r\n        return <OverlayTrigger\r\n            key={`spellCardTooltip-${spell.name}`}\r\n            overlay={\r\n                <Tooltip\r\n                    id={`tooltip-${spell.name}`}>{spell.description ? spell.description : \"Add description\"}</Tooltip>\r\n            }>\r\n            <div>\r\n                <FcElectricity/>{spell.name}\r\n            </div>\r\n        </OverlayTrigger>;\r\n    }\r\n\r\n    function getDamageField() {\r\n        return <Row>\r\n            <Col>{spell.damage} <Badge pill={true} variant={\"secondary\"}> <GiShieldImpact/> {spell.pen} </Badge> </Col>\r\n            <Col> <GiArrowScope/> {spell.range} </Col>\r\n        </Row>;\r\n    }\r\n\r\n    function getFocusPowerField() {\r\n        return <Row>\r\n            <Col><RiFocus3Line/> {spell.focusPower}</Col>\r\n            <Col>Sustained: {spell.sustained ? \"Yes\" : \"No\"}</Col>\r\n        </Row>;\r\n    }\r\n\r\n    return <Card>\r\n        <Card.Header>\r\n            {getNameField()}\r\n            {getDamageField()}\r\n            {getRemoveFromArmoury()}\r\n        </Card.Header>\r\n        <Card.Body>\r\n            {getFocusPowerField()}\r\n\r\n            <Col>\r\n                <Button size=\"sm\" variant=\"light\"\r\n                        onClick={() => rollDamageAndSendToDiscord(character.discord[character.discord.active], character.characterName, spell)}>\r\n                    <FaDiceD20 color={\"darkred\"}\r\n                               style={{ cursor: \"pointer\" }}\r\n                    /> Damage\r\n                </Button>\r\n            </Col>\r\n\r\n        </Card.Body>\r\n    </Card>\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods, godStringMap } from \"../talents/talentSlice\";\r\nimport { ETabNames } from \"./ETabNames\";\r\n\r\ninterface ICharacterState {\r\n    characterName: string,\r\n    devotion?: EGods,\r\n    discord: {\r\n        active: string,\r\n        prod: string,\r\n        debug: string,\r\n        [key: string]: string,\r\n    }\r\n    layout: {\r\n        left: number[],\r\n        main: number[],\r\n        right: number[],\r\n        [key: string]: number[]\r\n    },\r\n}\r\n\r\nexport const characterSlice = createSlice({\r\n    name: 'character',\r\n    initialState: {\r\n        characterName: 'Character Name',\r\n        discord: {\r\n            active: 'prod',\r\n            prod: '',\r\n            debug: '',\r\n\r\n        },\r\n        layout: {\r\n            left: [ETabNames.SEARCH],\r\n            main: [ETabNames.CHARACTERISTICS, 1, 2, 3, 4, 5],\r\n            right: [ETabNames.EXPERIENCE]\r\n        },\r\n    } as ICharacterState,\r\n    reducers: {\r\n        importCharacter: (state, action) => {\r\n            const { characterName, discord, layout, devotion } = action.payload\r\n            state.characterName = characterName;\r\n            state.discord = discord;\r\n            state.layout = layout;\r\n            state.devotion = devotion;\r\n        },\r\n        setCharacterName: (state, action) => {\r\n            state.characterName = action.payload;\r\n        },\r\n        setDiscordServer: (state, action) => {\r\n            state.discord.prod = action.payload\r\n        },\r\n        setDiscordServerDebug: (state, action) => {\r\n            state.discord.debug = action.payload\r\n        },\r\n        setDiscordActive: (state, action) => {\r\n            state.discord.active = action.payload\r\n        },\r\n        setDevotion: (state, action: PayloadAction<string>) => {\r\n            state.devotion = godStringMap[action.payload]\r\n        },\r\n        setLayout: (state, action) => {\r\n            console.log(action.payload)\r\n            state.layout = action.payload\r\n        },\r\n        changeLayout: (state, action: PayloadAction<{field: string, index: number}>) => {\r\n            const {field, index} = action.payload;\r\n\r\n            if (state.layout.left.indexOf(index) >= 0) { state.layout.left.splice(state.layout.left.indexOf(index), 1) }\r\n            if (state.layout.main.indexOf(index) >= 0) { state.layout.main.splice(state.layout.main.indexOf(index), 1) }\r\n            if (state.layout.right.indexOf(index) >= 0) { state.layout.right.splice(state.layout.right.indexOf(index), 1) }\r\n\r\n            state.layout[field].push(index);\r\n            state.layout[field].sort();\r\n\r\n        }\r\n    },\r\n});\r\n\r\nexport const { importCharacter, setCharacterName, setDiscordActive, setDiscordServer, setDiscordServerDebug, setDevotion, setLayout, changeLayout } = characterSlice.actions\r\nexport default characterSlice.reducer\r\n","import { Badge, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { useAppSelector } from \"../../general/hooks\";\r\nimport React from \"react\";\r\nimport { ITalent } from \"./talentSlice\";\r\n\r\n\r\nexport const TalentEntryFunction = ({\r\n                                        name = 'TALENTNAME',\r\n                                        setActiveTalent\r\n                                    }: { name: string, setActiveTalent: React.Dispatch<React.SetStateAction<ITalent>> }) => {\r\n    const talents = useAppSelector(state => state.talents);\r\n    // const dispatch = useAppDispatch()\r\n\r\n    const talent = talents[name];\r\n\r\n    function getTierDescription(tier: number) {\r\n        switch (tier) {\r\n            case -2: return \"Reward\";\r\n            case -1: return \"Gift\";\r\n            case 0: return \"Trait\";\r\n            default: return `T${tier}`;\r\n        }\r\n    }\r\n\r\n    return <OverlayTrigger\r\n        key={`talent-${talent.name}`}\r\n        placement={'bottom'}\r\n        overlay={\r\n            <Tooltip id={`tooltip-${talent.name}`}>\r\n                {talent.description}\r\n            </Tooltip>\r\n        }\r\n    >\r\n        <div onClick={() => setActiveTalent(talent)}>\r\n            <Badge>{`${getTierDescription(talent.tier)} ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>\r\n\r\n            {/*{talent.tier === 0*/}\r\n            {/*    ? <Badge>{`Trait ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*    : talent.tier === -1 ? <Badge>{`Gift ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*        : <Badge>{`T${talent.tier} ${talent.name}${talent.specialization ? ` (${talent.specialization})` : ''}`}</Badge>*/}\r\n            {/*}*/}\r\n        </div>\r\n    </OverlayTrigger>\r\n\r\n}\r\n","import { WeaponCard } from \"./weaponCard\";\r\nimport {\r\n    Badge,\r\n    Button,\r\n    Card,\r\n    Col,\r\n    Dropdown,\r\n    DropdownButton,\r\n    FormControl,\r\n    FormGroup,\r\n    FormLabel,\r\n    OverlayTrigger,\r\n    ProgressBar,\r\n    Row,\r\n    Tooltip\r\n} from \"react-bootstrap\";\r\nimport React, { useState } from \"react\";\r\nimport \"./armoury.scss\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addItem } from \"../inventory/inventorySlice\";\r\nimport { ISpell, IWeapon, removeGear, setMaxWounds, setWounds } from \"./armourySlice\";\r\nimport { SpellCard } from \"./spellCard\";\r\nimport { BiTargetLock, FaDiceD20, IoReloadCircle } from \"react-icons/all\";\r\nimport { rollInitAndSendToDiscord } from \"../character/Rolls\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\nimport { addTalent, removeTalent, EGods } from \"../talents/talentSlice\";\r\nimport { setDevotion } from \"../character/characterSlice\";\r\nimport { TalentEntryFunction } from \"../talents/talentEntry\";\r\nimport { allTalents } from \"../character/resources\";\r\nimport { ICharacteristics, incrementBonus } from \"../characteristics/characteristicsSlice\";\r\n\r\nexport const Armoury = () => {\r\n\r\n    const imageHead = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M257.375%2032.03C139.957%2087.197%2042.343%20247.886%2017.5%20367.75c71.742%200%20124.22%2022.845%20162.094%2063.03l10.47-11.436c-28.06-28.873-64.935-52.446-113.564-75.906%2026.142-65.033%2066.028-163.458%20116.72-169.188%2019.835-2.243%2041.05%209.735%2064.155%2043.438%2072.33-120.27%20141.014%2038.54%20180.875%20125.75-47.687%2025.854-84.5%2049.463-112.97%2078.718l9.25%2010.406c37.335-39.758%2089.657-64.812%20162.72-64.812C467.784%20249.384%20377.24%2090.37%20257.375%2032.03zm-79.72%20243.314c-15.3-.083-26.405%206.436-26.405%2016.656%200%2012.58%2016.834%2026.038%2037.594%2030.063%2020.76%204.024%2037.594-2.92%2037.594-15.5s-16.835-26.038-37.594-30.063c-3.893-.755-7.657-1.137-11.188-1.156zm156.345%200c-3.53.02-7.295.4-11.188%201.156-20.76%204.025-37.593%2017.483-37.593%2030.063%200%2012.58%2016.833%2019.524%2037.592%2015.5%2020.76-4.025%2037.594-17.484%2037.594-30.063%200-10.22-11.105-16.74-26.406-16.656z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageBody = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(-1%2C-7)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M208%2056.643l-16%2064-98.568%2014.082L256%20175.365l162.568-40.64L320%20120.643l-16-64-27.268%2018.18-12.002%2048.003h-17.46l-12.002-48.004zm-138.621%2090.62L16%20200.644l48%2064%2025.77-25.77%2026.619-79.857zm373.242%200l-47.01%2011.753%2026.62%2079.857L448%20264.643l48-64zm-308.717%2016.132l-20.123%2060.369%2013.81%2055.246L247%20345.348V191.67zm244.192%200L265%20191.67v153.678l119.408-66.338%2013.81-55.246zM144%20308.715v56.314l103%2030.627v-29.719zm224%200l-103%2057.223v29.718l103-30.627zm-224%2075.54v56.388l103%2014.714V414.88zm224%200L265%20414.88v40.478l103-14.714z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageArmL = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(-1%2C-7)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M256%2026C192%2058%20112%2080%2032%2080c0%2046.047%204.726%2089.503%2013.02%20129.69%2025.495-2.558%2053.13-2.433%2081.86-1.06l-7.61-30.446-2.022-8.086%2065.898-21.967%2010.866%2065.194c28.32%202.336%2056.907%204.82%2084.9%206.238%2014.357-4.67%2028.073-8.33%2040.43-14.36l7.78-46.682%201.732-10.39%2065.898%2021.968-9.578%2038.316c9.207%204.926%2020.403%2014.91%2023.97%2022.346%203.352%207.302%202.696%2015.333.256%2024.154%202.27%206.21%202.31%2012.947.43%2019.287-1.65%205.57-4.95%2010.974-9.844%2014.974.41%2010.106-5.414%2019.52-14.597%2023.353-5.045%2010.42-15.085%2022.05-25.146%2025.678a35.325%2035.325%200%200%201-7.943%201.7l-10.29%2041.16-47.98-23.99%207.107-42.647c-7.178-2.867-14.753-6.176-23.147-9.758-22.506%202.868-45.05%205.7-67.385%208.213l7.366%2044.193-47.98%2023.99-15.668-62.668c-25.372%202.034-50.16%203.29-73.943%203.288C126.423%20426.23%20197.21%20490%20256%20490c96%200%20224-170%20224-410-80%200-160-22-224-54zm-87.146%20145.87l-30.102%2010.034%2043.258%20173.028%2016.02-8.008-29.176-175.055zm174.292%200l-3.927%2023.562c9.757-4.082%2021.374-8.826%2031.514-3.473l2.514-10.058-30.102-10.033zm17.692%2035.696c-5.508.754-15.244%204.655-25.35%209.72-18.843%2011.052-35.297%2013.47-53.963%2020.448-29.314-1.518-59.264-3.89-84.43-5.912l10.538%2063.23c25.773-2.928%2050.59-5.99%2072.93-8.845%208.035%203.372%2016.415%207.06%2023.603%2010.05l5.156-30.943-.492-16.046c31.396-.965%2040.955-17.8%2046.625-26.14%202.25-3.306%204.94-9.64%205.424-13.554.162-1.32.03-1.567-.042-2.008zm14.598%2016.305c-2.703%205.724-5.283%209.687-7.97%2014.567%207.198%203.907%2015.487%205.786%2025.923%206.215.426-2.995.116-4.813-.605-6.382-1.195-2.604-5.27-6.648-13.826-12.715-1.51-.91-2.674-1.404-3.524-1.684zm-284.63%202.026c-22.55-.09-43.69%201.063-62.732%204.256-10.604%2021.43-9.975%2044.448%201.57%2071.08%2036.332%203.616%2077.178%202.643%20120.223-.662l-18.35-73.406c-13.955-.738-27.575-1.215-40.71-1.268zm263.41%2025.303a71.374%2071.374%200%200%201-5.972%204.34c2.293%209.34%2010.7%2011.83%2019.822%2013.91%207.76%201.73%2016.358%202.576%2023.13%202.802a14.133%2014.133%200%200%200%201.376-3.166c.653-2.202.702-4.555.38-6.48-14.655-.713-27.626-4.258-38.737-11.407zm-21.835%2012.025a73.26%2073.26%200%200%201-4.694%201.41l-2.053%2012.32a25.18%2025.18%200%200%201%208.056-10.383%2031.58%2031.58%200%200%201-1.31-3.347zm12.872%2017.345c-1.468.894-2.713%202.34-3.195%203.817-.638%201.953-1.09%203.368%201.755%205.533%203.645%202.138%209.51%204.437%2015.745%205.613%205.123.967%2010.54%201.276%2014.804%201.205l2.876-.467c1.974-.318%204.624-3.515%204.752-6.553-5.69-.506-11.804-1.355-17.836-2.7-6.592-1.47-13.14-3.327-18.9-6.447zm-21.23%206.04l-10.05%2060.314%2016.018%208.008%204.72-18.88c-9.425-5.795-14.6-14.962-14.468-23.888.085-5.812%202.58-11.444%206.653-15.617-1.686-3.174-2.65-6.586-2.872-9.936zm15.933%2021.91c-1.2.71-1.687%202-1.715%203.908-.04%202.678%201.262%206.588%208.574%209.61.664.133%203.335.59%207.618-.87%202.824-.963%206.072-2.797%209.226-6.81a108.078%20108.078%200%200%201-7.44-1.137c-5.542-1.045-11.13-2.444-16.263-4.7z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageArmR = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C-6)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M122.1%2017.52L186.6%20161l104.5-44.9-44.5-98.58h-51.1l35.8%2080.75-16.4%207.23-39-87.98zm265.2%2077.75L110.4%20215.2l12%2028.2%20278.1-119.8zm-69.7%2098.53l-23.9%2011.5c12.8%205.4%2026%2013.7%2038.3%2015.6%2018.1-13.1-4.9-30.5-14.4-27.1zm-60.7%2011.1l-36.2%2016.7c-11.9%2018.4-14.8%2046-18.2%2069.7%2020.6%2030.1%2030.5%2062.4%2039.5%2094%2017.9-3.7%2032.2-6.8%2048.7-11.5-24.4-38.7-42.2-78.4-53.6-118.9%200%200%205.6-10.5%208.4-15.8%2011.9%207.3%2024.9%2012.4%2036.6%209.9%2010-4.1%2021.5-7.9%2027.7-16.6-17.6-6.9-37.1-17.5-52.9-27.5zm92.6%2026.6c-10.8%205.8-23%2011.2-31.9%2018.9-5.3%204.7-12.1%208.8-20.5%2012.3%201.1%207.3-.1%2019.6%208.1%2018.8%2020.5-6.2%2040.5-15%2059.7-28.4-.1-9.2-8-24.1-15.4-21.6zm-90.2%2034.2c11.3%2034.8%2027.6%2069%2049.3%20102.6%204.7-1.6%209.3-3.3%2013.5-5-7.3-6.2-11.7-15.9-12-25.3-16.6-4.1-20.8-29.4-17.2-41.6-9.5-7-13.6-18.1-14.2-28.7-7.2.7-13.6-.1-19.4-2zm103.3%2010.4c-13.6%208.1-27.6%2014.3-41.6%2019.2l-9%204.4c-4.4%204.6-4.5%2015.6%201%2020.3%209.7%203.5%2050.1-21.2%2057.7-27.9%201.3-5.8-3.5-14.9-8.1-16zm-178.1%2021.2L19.1%20335.8V495c95.7-25.3%20146.9-47.1%20209.7-90.2-10.8-38-20.5-74.8-44.3-107.5zm187.8%2016.9c-13.6%2010.2-27.2%2016.2-42.9%2021.4-.4%206.7%202.5%2018.1%2012.1%2016%2019.9-4.3%2036.3-17.5%2036.6-24.6.2-3.7-2-10.5-5.8-12.8zm-7.5%2048.6c-14.3%208.2-31.5%2015.9-46.7%2021.4l18.7%2031.8%2039.3-18.8zm22.2%2049.1L342.9%20433l3.1%2021.9c15.1.5%2046.6-11.3%2055.4-26.1v-.1z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%20transform%3D%22translate(512%2C%200)%20scale(-1%2C%201)%20rotate(0%2C%20256%2C%20256)%20skewX(0)%20skewY(0)%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageLegR = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M269%2023.95l-87.7.1c1.1%2061.4-2.4%20116.05-14%20159.45-9%2034-23.6%2061.6-45.2%2079-.1%209.5-.8%2019-2.1%2028.6-3.1%2022.9-13.5%2043.2-22.75%2065%2023.55-1.3%2043.55-11.6%2065.35-24.8%2020.6-12.5%2042.4-27.5%2068.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2%204.1-83.2C243%20147.6%20257.9%2081.05%20269%2023.95zm-105.7.1H80.65c-1.6%2036.5%2010.1%2076.15%2021.65%20119.15%208.3%2030.4%2016.5%2062.3%2019%2095.7%2012.6-14.3%2021.8-34.4%2028.6-60%2010.8-40.6%2014.4-94.15%2013.4-154.85zm41.8%2014.9a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-2.4%2052.5a9%209%200%200%201%20.1%200%209%209%200%200%201%209%208.95%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-8.95zm-5.9%2056.25a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-16%2060.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-32%2048.1a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm85.7%2055.3c-22.6%209.6-42.3%2022.9-62.6%2035-24.6%2014.9-50.5%2027.9-81.85%2027.5-8.2%2022.7-13.8%2048-10%2079.9h82.35c13.2-41.4%2042.9-78%2095.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2%2046.7c-52.1%2026.2-80.4%2058.5-93.6%2095.7h127.4c0-14.3.6-29%203.9-43.6%202.6-11.5%207-22.9%2014-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8%2021.8c-8.2%2010.9-12.8%2022.3-15.5%2034.3-2.8%2012.5-3.5%2025.8-3.5%2039.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3%2010.5a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zm-254.05%2035a9%209%200%200%201%20.1%200%209%209%200%200%201%208.95%209%209%209%200%200%201-8.95%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm44.85.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm201.5.1a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zM72.05%20470v18.1H440V470z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%20transform%3D%22translate(512%2C%200)%20scale(-1%2C%201)%20rotate(0%2C%20256%2C%20256)%20skewX(0)%20skewY(0)%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n    const imageLegL = 'data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20style%3D%22height%3A%20512px%3B%20width%3A%20512px%3B%22%3E%3Cpath%20d%3D%22M0%200h512v512H0z%22%20fill%3D%22%23000%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3Cg%20class%3D%22%22%20transform%3D%22translate(0%2C0)%22%20style%3D%22%22%3E%3Cpath%20d%3D%22M269%2023.95l-87.7.1c1.1%2061.4-2.4%20116.05-14%20159.45-9%2034-23.6%2061.6-45.2%2079-.1%209.5-.8%2019-2.1%2028.6-3.1%2022.9-13.5%2043.2-22.75%2065%2023.55-1.3%2043.55-11.6%2065.35-24.8%2020.6-12.5%2042.4-27.5%2068.9-37.8-.2-1.4-.4-2.9-.4-4.2-1.9-23.7.1-52.2%204.1-83.2C243%20147.6%20257.9%2081.05%20269%2023.95zm-105.7.1H80.65c-1.6%2036.5%2010.1%2076.15%2021.65%20119.15%208.3%2030.4%2016.5%2062.3%2019%2095.7%2012.6-14.3%2021.8-34.4%2028.6-60%2010.8-40.6%2014.4-94.15%2013.4-154.85zm41.8%2014.9a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-2.4%2052.5a9%209%200%200%201%20.1%200%209%209%200%200%201%209%208.95%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-8.95zm-5.9%2056.25a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-16%2060.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm-32%2048.1a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm85.7%2055.3c-22.6%209.6-42.3%2022.9-62.6%2035-24.6%2014.9-50.5%2027.9-81.85%2027.5-8.2%2022.7-13.8%2048-10%2079.9h82.35c13.2-41.4%2042.9-78%2095.1-106.8-1.4-1-2.9-2.1-4.3-3.2-9.6-7.6-15.3-18.8-18.7-32.4zm40.2%2046.7c-52.1%2026.2-80.4%2058.5-93.6%2095.7h127.4c0-14.3.6-29%203.9-43.6%202.6-11.5%207-22.9%2014-33.9-16.1-3.3-33.5-8.1-51.7-18.2zm70.8%2021.8c-8.2%2010.9-12.8%2022.3-15.5%2034.3-2.8%2012.5-3.5%2025.8-3.5%2039.6h104c-2-17.8-12.5-39.8-28.1-52.1-17.8-13.9-36-17.9-56.9-21.8zm8.3%2010.5a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zm-254.05%2035a9%209%200%200%201%20.1%200%209%209%200%200%201%208.95%209%209%209%200%200%201-8.95%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm44.85.6a9%209%200%200%201%20.1%200%209%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%208.9-9zm201.5.1a9%209%200%200%201%209%209%209%209%200%200%201-9%209%209%209%200%200%201-9-9%209%209%200%200%201%209-9zM72.05%20470v18.1H440V470z%22%20fill%3D%22%23fff%22%20fill-opacity%3D%221%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E';\r\n\r\n    const stats = useAppSelector(state => state.characteristics);\r\n    const infamyStat = stats['INF'];\r\n    const toughnessStat = stats[\"T\"];\r\n    const agilityStat = stats[\"AG\"];\r\n    const armouryState = useAppSelector(state => state.armoury);\r\n    const character = useAppSelector(state => state.character);\r\n    const talents = useAppSelector(state => state.talents)\r\n    const experience = useAppSelector(state => state.experience)\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [agilityBonus, setAgilityBonus] = useState(2);\r\n\r\n    const agility = Math.floor(agilityStat.value / 10 + agilityStat.bonus + agilityBonus);\r\n    const armour = armouryState.armour;\r\n    const maxHealth = armouryState.character.maxWounds;\r\n    const maxInfamy: number = Math.floor(infamyStat.value / 10 + infamyStat.bonus);\r\n    const maxFatigue: number = Math.floor(toughnessStat.value / 10 + toughnessStat.bonus);\r\n\r\n    const [infamy, setInfamy] = useState(maxInfamy);\r\n    const [fatigue, setFatigue] = useState(0);\r\n    const [showTarget, setShowTarget] = useState(true);\r\n    const [maxWoundsEditable, setMaxWoundsEditable] = useState(false)\r\n\r\n    const health = armouryState.character.currentWounds;\r\n\r\n    function calcWoundLabel() {\r\n        const heavilyWounded = (health > (toughnessStat.value / 10 + toughnessStat.bonus) * 2) ? \"Heavy Wounded - \" : \"\";\r\n        return `${heavilyWounded}${health > maxHealth ? `CRIT: ${health - maxHealth}` : `${health}/${maxHealth}`}`;\r\n    }\r\n\r\n    const dropItems = [<Dropdown.Header key={`init-modifier-header`}>Init Modifier</Dropdown.Header>];\r\n    for (let i = 10; i > -10; i -= 1) {\r\n        dropItems.push(<Dropdown.Item key={`init-modifier-${i}`} onClick={() => setAgilityBonus(i)}>{i}</Dropdown.Item>);\r\n    }\r\n\r\n    function resetDevotion() {\r\n        const h = Object.entries(calcDevotion())\r\n            .filter(value => value[0] !== \"Unaligned\")\r\n            .sort((a, b) => b[1] - a[1])\r\n        ;\r\n\r\n\r\n// If the highest devotion is 5 greater than the second the character is aligned\r\n        if (h[0][1] - h[1][1] >= 5) {\r\n            const newDevotion = h[0][0];\r\n            if (newDevotion !== character.devotion) {\r\n                // Remove old Mark\r\n                dispatch(removeTalent(talents[`Mark of ${character.devotion}`]))\r\n                dispatch(setDevotion(newDevotion))\r\n            }\r\n            if (h[0][1] >= 20) {\r\n                if (!talents[`Mark of ${newDevotion}`]) { // Only grant once\r\n                    grantAdditionalBenefits(newDevotion);\r\n                    dispatch(addTalent(allTalents[`Mark of ${newDevotion}`]));\r\n                }\r\n            }\r\n        } else {\r\n            dispatch(setDevotion(\"Unaligned\"));\r\n            dispatch(removeTalent(talents[`Mark of ${character.devotion}`]))\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Additional Benefits:\r\n     * Khorne: The character gains the Resistance (Psychic Powers), Talent, the Brutal Charge Trait, and Unnatural Strength (+2)\r\n     * Nurgle: The character gains the Stuff of Nightmares and Unnatural Toughness (+1) Traits\r\n     * Slaanesh: The character gains the Heightened Senses (All) Talent and the Unnatural Fellowship (+2) Trait\r\n     * Tzeentch: The character gains the Unnatural Willpower (+1) Trait and the Psy Rating (+1) Talent\r\n     */\r\n    function grantAdditionalBenefits(devotion: string) {\r\n        switch (devotion) {\r\n            case EGods.NURGLE:\r\n                dispatch(addTalent(allTalents[\"The Stuff of Nightmares\"]));\r\n                grantUnnaturalStat(toughnessStat)\r\n                break;\r\n            case EGods.KHORNE:\r\n                dispatch(addTalent(allTalents[\"Brutal Charge\"]));\r\n                const name = \"Resistance\"\r\n                const t = talents[name] || allTalents[name]\r\n                dispatch(addTalent({...t, specialization: [\"Psychic Powers\" + t.specialization].join()}));\r\n                grantUnnaturalStat(stats[\"S\"], 2)\r\n                break;\r\n            case EGods.SLAANESH:\r\n                const ts = allTalents[\"Heightened Senses\"]\r\n                dispatch(addTalent({...ts, specialization: \"all\"}));\r\n                grantUnnaturalStat(stats[\"FEL\"], 2)\r\n                break;\r\n            case EGods.TZEENTCH:\r\n                const namet = \"Psy Rating\";\r\n                const tt = talents[namet] || allTalents[namet]\r\n                dispatch(addTalent({...tt, specialization: increaseSpecialization(tt.specialization)}));\r\n                grantUnnaturalStat(stats[\"WP\"])\r\n                break;\r\n            default: return\r\n        }\r\n\r\n    }\r\n\r\n    function grantUnnaturalStat(stat: ICharacteristics, amount: number = 1) {\r\n        const name = `Unnatural ${stat.name}`\r\n        let talent = talents[name];\r\n        if (talent) {\r\n            // Stat already present increase by one\r\n            talent = {...talent, specialization: increaseSpecialization(talent.specialization)}\r\n        } else {\r\n            talent = allTalents[\"Unnatural Characteristic\"];\r\n            talent = {...talent, name, specialization: \"1\"}\r\n        }\r\n        dispatch(addTalent(talent));\r\n        for (let i = 0; i < amount; i++) {\r\n            dispatch(incrementBonus(stat.short));\r\n        }\r\n    }\r\n\r\n    function increaseSpecialization(spec: string | undefined): string {\r\n        return \"\" + (parseInt(spec || \"0\") + 1);\r\n    }\r\n\r\n    function calcDevotion() {\r\n        const counts = {\r\n            [EGods.UNALIGNED]: 0,\r\n            [EGods.SPECIAL]: 0,\r\n            [EGods.KHORNE]: 0,\r\n            [EGods.SLAANESH]: 0,\r\n            [EGods.TZEENTCH]: 0,\r\n            [EGods.NURGLE]: 0,\r\n        }\r\n        Object.values(talents).flatMap(t => t.devotion)\r\n            .filter((v => v))\r\n            .forEach(value => counts[value]++);\r\n        // Only aligned Talent which can be taken multiple times\r\n        const t = talents[\"Sound Constitution\"]\r\n        if (t) {\r\n            for (let i = 1; i < parseInt(t.specialization || \"1\"); i++) {\r\n                counts[\"Nurgle\"]++\r\n            }\r\n        }\r\n        experience.entries.filter(v => v.devotion).forEach(e => {\r\n            if (e.type === \"CHAR\" || e.type === \"SPELL\" || e.type === \"SKILL\") {\r\n                counts[e.devotion]++\r\n            }\r\n        });\r\n        return counts;\r\n    }\r\n\r\n    return <div>\r\n        <Row>\r\n            <Col>\r\n                <h3>Armoury</h3>\r\n            </Col>\r\n        </Row>\r\n        <Row>\r\n            <Col>\r\n                {/* BEGIN WEAPONS*/}\r\n                <Row>\r\n                    <Col>\r\n                        {Object.values(armouryState.weapons).map(((weapon) =>\r\n                                <div key={`wp-${weapon.name}`}>\r\n                                    {weapon.category === EItemCategory.WEAPON ? <WeaponCard weapon={weapon as IWeapon}/>\r\n                                        : weapon.category === EItemCategory.SPELL ?\r\n                                            <SpellCard spell={weapon as ISpell}/> : <></>\r\n                                    }\r\n                                </div>\r\n                        ))}\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n            <Col>\r\n                <Row>\r\n                    <Col md={5}>\r\n                        {Object.values(armouryState.gear).map(gear => (\r\n                            <Row key={`gear-${gear.name}`}>\r\n                                <Col md={10}>{gear.name}</Col>\r\n                                <Col md={2}> <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                                    onClick={() => {\r\n                                                        dispatch(removeGear(gear));\r\n                                                        dispatch(addItem(gear))\r\n                                                    }}>-</Badge>\r\n                                </Col>\r\n                            </Row>\r\n                        ))}\r\n                    </Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageHead}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.head}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(1-10)</Badge> : undefined}\r\n                        </Card.ImgOverlay></Card>\r\n                    </Col>\r\n                    <Col>\r\n                        <Row>\r\n                            <Col>\r\n                                <Row>\r\n                                    <Button variant={showTarget ? \"primary\" : \"secondary\"} onClick={() => setShowTarget(!showTarget)}><BiTargetLock/>\r\n                                    </Button>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Button\r\n                                        onClick={() => rollInitAndSendToDiscord(character.discord[character.discord.active], character.characterName, agility, 1, 10)}\r\n                                        variant={\"light\"}><FaDiceD20 color={\"darkred\"} style={{ cursor: \"pointer\" }}/> Init\r\n                                    </Button>\r\n                                    <DropdownButton size=\"sm\" title={agilityBonus} variant={'secondary'}>\r\n                                        {dropItems}\r\n                                    </DropdownButton>\r\n                                </Row>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={{ offset: 2, span: 3 }}><Card> <Card.Img src={imageArmR}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"badge-armoury badge-secondary\"} pill>{armour.armR} </Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(11-20)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageBody}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.body}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(31-70)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ span: 3 }}><Card> <Card.Img src={imageArmL}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.armL}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(21-30)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={{ offset: 3, span: 3 }}><Card> <Card.Img src={imageLegR}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.legR}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(71-85)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                    <Col md={{ offset: 1, span: 3 }}><Card> <Card.Img src={imageLegL}/>\r\n                        <Card.ImgOverlay>\r\n                            <Badge className={\"armoury-badge\"} variant={\"secondary\"} pill>{armour.legL}</Badge>\r\n                            {showTarget ? <Badge variant={\"dark\"}>(86-100)</Badge> : undefined}\r\n                        </Card.ImgOverlay>\r\n                    </Card></Col>\r\n                </Row>\r\n\r\n                {/* WOUNDS */}\r\n                <Row>\r\n                    <Col md={2}>Wounds:</Col>\r\n                    <Col md={8}>\r\n                        {maxWoundsEditable ?\r\n                            <FormGroup as={Row}>\r\n                                <FormLabel column sm={5}>Max Wounds:</FormLabel>\r\n                                <Col sm={7}>\r\n\r\n                                    <FormControl value={maxHealth}\r\n                                                 onChange={(event) => dispatch(setMaxWounds(event.target.value))}\r\n                                                 onMouseLeave={() => setMaxWoundsEditable(false)}\r\n                                                 autoFocus/>\r\n                                </Col>\r\n                            </FormGroup>\r\n                            :\r\n                            <ProgressBar>\r\n                                <ProgressBar variant={\"danger\"} animated={health > maxHealth} now={health}\r\n                                             max={maxHealth}\r\n                                             label={health >= maxHealth / 2 ? calcWoundLabel() : undefined}\r\n                                             onClick={() => setMaxWoundsEditable(true)}/>\r\n                                <ProgressBar variant={\"secondary\"}\r\n                                             label={health < maxHealth / 2 ? calcWoundLabel() : undefined}\r\n                                             now={maxHealth + 10 - health} max={maxHealth + 10}\r\n                                             onClick={() => setMaxWoundsEditable(true)}/>\r\n                            </ProgressBar>\r\n                        }\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(setWounds(Math.max(health - 1, 0)))}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(setWounds(Math.min(health + 1, maxHealth + 10)))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* INFAMY */}\r\n                <Row>\r\n                    <Col md={2}>Infamy: </Col>\r\n                    <Col md={8}>\r\n                        <ProgressBar>\r\n                            <ProgressBar variant={\"success\"} now={infamy} max={maxInfamy}\r\n                                         label={`${infamy}/${maxInfamy}`}/>\r\n                            <ProgressBar variant={\"secondary\"} now={maxInfamy - infamy} max={maxInfamy}/>\r\n                        </ProgressBar>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setInfamy(infamy - 1)}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setInfamy(Math.min(infamy + 1, maxInfamy))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* FATIGUE */}\r\n                <Row>\r\n                    <Col md={2}>Fatigue: </Col>\r\n                    <Col md={8}>\r\n                        <ProgressBar>\r\n                            <ProgressBar variant={\"warning\"} now={fatigue} max={maxFatigue}\r\n                                         label={`${fatigue}/${maxFatigue}`}/>\r\n                            <ProgressBar variant={\"secondary\"} now={maxFatigue - fatigue} max={maxFatigue}/>\r\n                        </ProgressBar>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                        <div>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setFatigue(fatigue - 1)}>-</Badge>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => setFatigue(Math.min(fatigue + 1, maxFatigue))}>+</Badge>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* DEVOTION */}\r\n                <Row>\r\n                    <Col md={2}>Devotion:</Col>\r\n                    <Col md={2}>\r\n                        <OverlayTrigger\r\n                            overlay={\r\n                                <Tooltip id={`remove`}>\r\n                                    {JSON.stringify(Object.entries(calcDevotion()))}\r\n                                </Tooltip>\r\n                            }>\r\n                            <Badge pill style={{\r\n                                backgroundColor: 'brown',\r\n                                color: 'white'\r\n                            }}>{character.devotion ? character.devotion : EGods.UNALIGNED}</Badge>\r\n                        </OverlayTrigger>\r\n                    </Col>\r\n                    <Col md={2}><IoReloadCircle style={{ cursor: 'pointer' }} color={'green'} onClick={() => resetDevotion()}/> </Col>\r\n                </Row>\r\n\r\n                {/* MOVEMENT */}\r\n                <Row>\r\n                    <Col md={2}>Movement:</Col>\r\n                    <Col md={5}>\r\n                        <Row>\r\n                            <Col>HALF ({agilityStat.value / 10 + agilityStat.bonus}) </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>FULL ({(agilityStat.value / 10 + agilityStat.bonus) * 2}) </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col md={5}>\r\n                        <Row>\r\n                            <Col>CHARGE ({(agilityStat.value / 10 + agilityStat.bonus) * 3}) </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>RUN ({(agilityStat.value / 10 + agilityStat.bonus) * 4}) </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/* Gift of the Gods */}\r\n                <Row>\r\n                    <Col>\r\n                        Gift of the Gods\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {Object.values(talents).filter(value => value.tier < 0)\r\n                        .map(value => <TalentEntryFunction key={`armoury-talent-entry-${value.name}`} {...value} setActiveTalent={() => null}/>)\r\n                    }\r\n                </Row>\r\n\r\n            </Col>\r\n\r\n        </Row>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport function reverseNumber(value: number) {\r\n    const s = value.toString().length === 1 ? '0' + value.toString() : value.toString()\r\n\r\n    return parseInt(s.split(\"\").reverse().join(\"\"));\r\n}\r\n\r\nexport function getHitLocation(rollValue: number) {\r\n    const reverse = reverseNumber(rollValue);\r\n\r\n    if (reverse < 11) {\r\n        return \"Head\";\r\n    } else if (reverse < 21) {\r\n        return \"Right Hand\";\r\n    } else if (reverse < 31) {\r\n        return \"Left Hand\";\r\n    } else if (reverse < 71) {\r\n        return \"Body\";\r\n    } else if (reverse < 86) {\r\n        return \"Right Leg\";\r\n    } else {\r\n        return \"Left Leg\"\r\n    }\r\n\r\n\r\n}\r\n\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport interface IExpEntry {\r\n    description: string,\r\n    amount: number,\r\n    devotion: EGods,\r\n    type: string, // SKILL, ADV, SPELL, CHAR\r\n}\r\n\r\ninterface IExpState {\r\n    entries: IExpEntry[],\r\n    expSum: number\r\n}\r\n\r\nexport const experienceSlice = createSlice({\r\n    name: 'experience',\r\n    initialState: {\r\n        entries: [\r\n            {description: \"Adventure1\", amount: 1500, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill1\", amount: -150, devotion: EGods.NURGLE, type: \"ADV\"},\r\n            {description: \"Skill2\", amount: -300, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill3\", amount: -200, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Adventure2\", amount: 150, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n            {description: \"Skill4\", amount: -1000, devotion: EGods.UNALIGNED, type: \"ADV\"},\r\n        ],\r\n        expSum: 0\r\n    } as IExpState,\r\n    reducers : {\r\n        importExperience: (state, action: PayloadAction<IExpState>) => {\r\n            const { entries, expSum } = action.payload\r\n            state.entries = entries;\r\n            state.expSum = expSum;\r\n        },\r\n        addEntry: (state, action: PayloadAction<IExpEntry>) => {\r\n            state.expSum += action.payload.amount;\r\n            state.entries.push(action.payload);\r\n        },\r\n        removeEntry: (state, action: PayloadAction<number>) => {\r\n            state.expSum -= state.entries.splice(action.payload, 1)[0]?.amount\r\n        },\r\n    }\r\n})\r\n\r\nexport const { importExperience, addEntry, removeEntry } = experienceSlice.actions\r\nexport default experienceSlice.reducer\r\n","import { Badge, Col, Container, Row } from \"react-bootstrap\";\r\nimport React from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { decrement, decrementBonus, expMapCharacteristics, increment, incrementBonus, incrementFive } from './characteristicsSlice'\r\nimport { rollStatAndSendToDiscord } from \"../character/Rolls\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { devotionMap, EGods } from \"../talents/talentSlice\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\n\r\nexport const CharacteristicsCounter = ({ short = '' }) => {\r\n    const [hideBtns, toggleBtns] = React.useState(true);\r\n\r\n    const characteristic = useAppSelector(state => state.characteristics[short]);\r\n    const experience = useAppSelector(state => state.experience);\r\n    const character = useAppSelector(state => state.character);\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    function learnCharacteristics(short: string) {\r\n        dispatch(incrementFive(short));\r\n\r\n        const characterDevotion = character.devotion ? character.devotion : EGods.UNALIGNED;\r\n        const characteristicsDevotion = characteristic.devotion ? characteristic.devotion : EGods.UNALIGNED;\r\n\r\n        const lv = experience.entries.reduce((sum, {\r\n            type,\r\n            description\r\n        }) => description.includes(characteristic.name) && type === \"CHAR\" ? sum + 1 : sum, 0);\r\n\r\n        const exp = expMapCharacteristics[devotionMap[characteristicsDevotion][characterDevotion]][Math.min(lv, 3)];\r\n        dispatch(addEntry({ description: `${characteristic.name} Level ${lv}`, amount: -exp, type: \"CHAR\", devotion: characteristicsDevotion }))\r\n\r\n\r\n    }\r\n\r\n    return <Container id={`stat-${characteristic.name}`} style={{ backgroundColor: \"lightgrey\", padding: 0 }}>\r\n        <Row onClick={() => toggleBtns(!hideBtns)}>\r\n            <Col>\r\n                <Badge variant=\"secondary\" pill style={{ cursor: 'pointer' }}>\r\n                    {characteristic.name}\r\n                </Badge>\r\n            </Col>\r\n        </Row>\r\n        <Row style={{ alignItems: 'stretch' }}>\r\n            <Col>\r\n                {!hideBtns\r\n                    ? <>\r\n                        <div>\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(incrementBonus(characteristic.short))}>+</Badge>\r\n                            <Badge variant={'secondary'}>\r\n                                {characteristic.bonus ? characteristic.bonus : 0}\r\n                            </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(decrementBonus(characteristic.short))}>-</Badge>\r\n                        </div>\r\n                        <div>\r\n                            <Badge pill variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(increment(characteristic.short))}>+</Badge>\r\n                            <Badge\r\n                                variant={\"dark\"}\r\n                                pill\r\n                                onClick={() => toggleBtns(!hideBtns)}>\r\n                                {characteristic.value}\r\n                            </Badge>\r\n                            <Badge pill variant={'danger'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(decrement(characteristic.short))}>-</Badge>\r\n\r\n                        </div>\r\n                        <div>\r\n                            <Badge pill variant={\"primary\"} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => learnCharacteristics(characteristic.short)}\r\n                            >Learn +5</Badge>\r\n                        </div>\r\n                    </>\r\n                    : <>\r\n                        <FaDiceD20\r\n                            onClick={() => rollStatAndSendToDiscord(character.discord[character.discord.active], character.characterName, characteristic)}\r\n                            color={\"darkred\"} style={{ cursor: \"pointer\" }}/>\r\n\r\n                        {characteristic.bonus ?\r\n                            <Badge variant={'secondary'}>\r\n                                {characteristic.bonus}\r\n                            </Badge>\r\n                            : <></>}\r\n                        <Badge\r\n                            variant={\"dark\"}\r\n                            pill\r\n                            onClick={() => toggleBtns(!hideBtns)}>\r\n                            {characteristic.value}\r\n                        </Badge>\r\n                    </>\r\n                }\r\n\r\n            </Col>\r\n        </Row>\r\n    </Container>;\r\n}\r\n","import { Badge, Card, Col, Row } from \"react-bootstrap\";\r\nimport { editArmour } from \"../inventory/inventorySlice\";\r\nimport React from \"react\";\r\nimport { IArmour } from \"./armourySlice\";\r\nimport { useAppDispatch } from \"../../general/hooks\";\r\n\r\n\r\nexport const ArmourCard = ({ armour }: { armour: IArmour }) => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    return <Card>\r\n        <Card.Header>\r\n            {armour.name}\r\n        </Card.Header>\r\n        <Card.Body>\r\n\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Head:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       head: armour.head ? armour.head + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.head ? armour.head : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, head: armour.head ? Math.max(armour.head - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}/>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Body:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       body: armour.body ? armour.body + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.body ? armour.body : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, body: armour.body ? Math.max(armour.body - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Left:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       armL: armour.armL ? armour.armL + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.armL ? armour.armL : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, armL: armour.armL ? Math.max(armour.armL - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}>Arm</Col>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Right:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       armR: armour.armR ? armour.armR + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.armR ? armour.armR : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, armR: armour.armR ? Math.max(armour.armR - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col>\r\n                    <Row>\r\n                        <Col>\r\n                            Left:\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       legL: armour.legL ? armour.legL + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.legL ? armour.legL : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, legL: armour.legL ? Math.max(armour.legL - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n                <Col md={2}>Leg</Col>\r\n                <Col>\r\n\r\n                    <Row>\r\n                        <Col>\r\n                            Right:\r\n\r\n                            <Badge variant={'success'} style={{ cursor: 'pointer' }}\r\n                                   onClick={() => dispatch(editArmour({\r\n                                       ...armour,\r\n                                       legR: armour.legR ? armour.legR + 1 : 1\r\n                                   }))}>+</Badge>\r\n                            <Badge pill={true} variant={\"secondary\"}>  {armour.legR ? armour.legR : 0} </Badge>\r\n                            <Badge variant={'danger'} style={{ cursor: 'pointer' }} onClick={() => dispatch(editArmour({\r\n                                ...armour, legR: armour.legR ? Math.max(armour.legR - 1, 0) : 0\r\n                            }))}>-</Badge>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n        </Card.Body>\r\n    </Card>;\r\n}\r\n","import {\r\n    Button,\r\n    ButtonGroup,\r\n    ButtonToolbar,\r\n    Col,\r\n    Dropdown,\r\n    FormControl,\r\n    InputGroup,\r\n    ListGroup,\r\n    Row,\r\n    Tab\r\n} from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport React, { useState } from \"react\";\r\nimport { GearFill, Pencil, PlusCircle, ShieldFill } from \"react-bootstrap-icons\";\r\nimport {\r\n    addItemByName,\r\n    editCategory,\r\n    editDescription,\r\n    IInventory,\r\n    IItem,\r\n    importInventory,\r\n    removeItem,\r\n    TItem\r\n} from \"./inventorySlice\";\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport { allItems } from \"../character/resources\";\r\nimport { IArmour, ISpell, IWeapon, setGear, setWeapon } from \"../armoury/armourySlice\";\r\nimport { AiOutlineSortAscending, GiCrossedSwords, GiOrbWand } from \"react-icons/all\";\r\nimport { WeaponCard } from \"../armoury/weaponCard\";\r\nimport { ArmourCard } from \"../armoury/armourCard\";\r\nimport { SpellCard } from \"../armoury/spellCard\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\n\r\nexport const InventoryFunction = () => {\r\n    const [readonly, toggleReadonly] = useState(true);\r\n    const [newItem, setNewItem] = useState('');\r\n    const [activeFilter, setFilter] = useState('-');\r\n\r\n\r\n    const items = useAppSelector(state => state.inventory);\r\n    const armoury = useAppSelector(state => state.armoury)\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    const itemOptions = [];\r\n    for (const item in allItems) {\r\n        itemOptions.push(item);\r\n    }\r\n\r\n\r\n    function createListItems() {\r\n        const result: JSX.Element[] = [];\r\n        for (const name in items) {\r\n            if (EItemCategory.NONE === activeFilter || items[name].category === activeFilter)\r\n                result.push(<ListGroup.Item action href={`#link${name}`} key={`listitem-${name}`}>\r\n                    {name}\r\n                </ListGroup.Item>)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function createTabPanes() {\r\n        const result: JSX.Element[] = [];\r\n\r\n        function getItemButton(item: TItem) {\r\n            switch (item.category) {\r\n                case EItemCategory.WEAPON:\r\n                    const weapon = item as IWeapon;\r\n                    return <Button\r\n                        disabled={!!armoury.weapons[weapon.name]}\r\n                        onClick={() => {\r\n                            dispatch(setWeapon(weapon))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.ARMOUR:\r\n                    const armour = item as IArmour;\r\n                    return <Button\r\n                        disabled={!!armoury.gear[armour.name]}\r\n                        onClick={() => {\r\n                            dispatch(setGear(armour))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.SPELL:\r\n                    const spell = item as ISpell;\r\n\r\n                    return <Button\r\n                        disabled={!!armoury.weapons[spell.name]}\r\n                        onClick={() => {\r\n                            dispatch(setWeapon(spell))\r\n                            dispatch(removeItem(item))\r\n                        }}>Equip</Button>\r\n\r\n                case EItemCategory.MISC:\r\n                case EItemCategory.NONE:\r\n                    return <Button onClick={() => dispatch(removeItem(item))}>USE</Button>\r\n            }\r\n\r\n\r\n            return undefined;\r\n        }\r\n\r\n\r\n        function getTypeCard(item: IItem) {\r\n            switch (item.category) {\r\n                case EItemCategory.WEAPON:\r\n                    return <Col><WeaponCard weapon={item as IWeapon} editMode={!readonly}/></Col>\r\n                case EItemCategory.ARMOUR:\r\n                    return <Col><ArmourCard armour={item as IArmour}/></Col>\r\n                case EItemCategory.SPELL:\r\n                    return <Col><SpellCard spell={item as ISpell}/></Col>\r\n            }\r\n        }\r\n\r\n        for (const name in items) {\r\n            const item: IItem = items[name];\r\n            result.push(<Tab.Pane eventKey={`#link${name}`} key={`tabpane-${name}`}>\r\n                <Row>\r\n                    <Col>\r\n                        {item.name} - Count: {item.count}\r\n                    </Col>\r\n                    <Col>\r\n                        <ButtonGroup>\r\n                            {readonly ? <Button disabled>{item.category}</Button>\r\n                                : <Dropdown>\r\n                                    <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                                        {item.category}\r\n                                    </Dropdown.Toggle>\r\n\r\n                                    <Dropdown.Menu>\r\n                                        {Object.values(EItemCategory).map((value, index) =>\r\n                                            // <Dropdown.Item href={`#/action-${index}`}>{value}</Dropdown.Item>)}\r\n                                            <Dropdown.Item\r\n                                                key={`category-dropdown-${value}`}\r\n                                                onClick={() => {\r\n                                                    dispatch(editCategory({ ...item, category: value }))\r\n                                                }}>{value}</Dropdown.Item>)}\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                            }\r\n                            <Button variant={\"outline-secondary\"}\r\n                                    onClick={() => toggleReadonly(!readonly)}><Pencil/></Button>\r\n                        </ButtonGroup>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n\r\n\r\n                    <Col md={item.category === EItemCategory.NONE || item.category === EItemCategory.MISC ? 12 : 5}>\r\n\r\n                        <InputGroup>\r\n                            <FormControl as=\"textarea\" readOnly={readonly} size={\"sm\"} rows={10}\r\n                                         value={item.description}\r\n                                         aria-label=\"Description\"\r\n                                         onChange={(event) => {\r\n                                             dispatch(editDescription({ ...item, description: event.target.value }))\r\n                                         }}/>\r\n                        </InputGroup>\r\n                    </Col>\r\n                    {getTypeCard(item)}\r\n                </Row>\r\n                {getItemButton(item)}\r\n            </Tab.Pane>)\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function getJSXForItemCategory(value: string) {\r\n        switch (value) {\r\n            case EItemCategory.NONE:\r\n                return 'ALL';\r\n            case EItemCategory.MISC:\r\n                return <GearFill/>\r\n            case EItemCategory.ARMOUR:\r\n                return <ShieldFill/>\r\n            case EItemCategory.WEAPON:\r\n                return <GiCrossedSwords/>\r\n            case EItemCategory.SPELL:\r\n                return <GiOrbWand/>\r\n        }\r\n        return <Pencil/>;\r\n    }\r\n\r\n    function sortInventory() {\r\n        const itemsSorted: IInventory = {};\r\n        Object.keys(items).sort((a, b) => a.localeCompare(b)).map(key => itemsSorted[key] = items[key])\r\n\r\n        console.log(items)\r\n        console.log(itemsSorted)\r\n\r\n        dispatch(importInventory(itemsSorted))\r\n\r\n    }\r\n\r\n    return <Tab.Container id=\"list-group-tabs-example\" defaultActiveKey=\"#link1\">\r\n        <Row>\r\n            <Col sm={3}>\r\n                <ListGroup variant=\"flush\">\r\n\r\n                    <ListGroup.Item>\r\n                        <ButtonToolbar>\r\n\r\n                            <ButtonGroup size={\"sm\"}\r\n                                         className={\"mr-2\"}\r\n                            >\r\n\r\n                                <Button onClick={() => sortInventory()}><AiOutlineSortAscending/></Button>\r\n                            </ButtonGroup>\r\n                            <ButtonGroup size=\"sm\">\r\n                                {Object.values(EItemCategory).map((value: string) =>\r\n                                    <Button key={`filter-btn-${value}`}\r\n                                            variant={activeFilter === value ? \"primary\" : \"secondary\"}\r\n                                            onClick={() => {\r\n                                                setFilter(value);\r\n                                            }}>{getJSXForItemCategory(value)}</Button>)}\r\n                            </ButtonGroup>\r\n                        </ButtonToolbar>\r\n                    </ListGroup.Item>\r\n\r\n                    {createListItems()}\r\n                    {/* Add Button */}\r\n                    <ListGroup.Item>\r\n                        <InputGroup className=\"mb-3\">\r\n                            <InputGroup.Prepend>\r\n                                <Button onClick={() => dispatch(addItemByName(newItem))}\r\n                                        variant=\"outline-primary\">\r\n                                    {items[newItem] ? <Pencil/> : <PlusCircle/>}\r\n                                </Button>\r\n                            </InputGroup.Prepend>\r\n\r\n                            {/*<FormControl aria-describedby=\"basic-addon1\"*/}\r\n                            {/*             onChange={(event => setNewItem(event.target.value))}/>*/}\r\n\r\n                            <div style={{ width: '9.87em' }}>\r\n                                <Typeahead\r\n                                    id=\"basic-typeahead-single\"\r\n                                    // options={['John', 'Paul', 'George', 'Ringo']}\r\n                                    options={itemOptions}\r\n                                    onInputChange={(name) => setNewItem(name)}\r\n                                    // onChange={(value: string) => console.log(value, 'Simple typeahead')}\r\n                                    onChange={(selection) => setNewItem(selection[0]?.toString())}\r\n                                />\r\n                            </div>\r\n                        </InputGroup>\r\n                    </ListGroup.Item>\r\n                </ListGroup>\r\n            </Col>\r\n            <Col sm={9}>\r\n                <Tab.Content>\r\n                    {createTabPanes()}\r\n                </Tab.Content>\r\n            </Col>\r\n        </Row>\r\n    </Tab.Container>\r\n\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { allSkills } from \"../character/resources\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\nimport { stat } from \"fs\";\r\n\r\nexport interface ISkill {\r\n    name: string,\r\n    level: number,\r\n    type: string,\r\n    bonus: number,\r\n    parent?: ISkill\r\n    devotion: EGods;\r\n}\r\n\r\nexport interface ISkillState {\r\n    [name: string]: ISkill\r\n}\r\n\r\n/**\r\n * Devotion -> Level Map\r\n */\r\nexport const expMapSkills = [\r\n    [100, 200, 400, 600],\r\n    [200, 350, 500, 750],\r\n    [250, 500, 750, 1000]\r\n];\r\n\r\nexport const skillSlice = createSlice({\r\n    name: 'skills',\r\n    initialState: allSkills,\r\n    reducers: {\r\n        setLevel: (state, action: PayloadAction<ISkill>) => {\r\n            const { name, parent } = action.payload;\r\n            const key = parent ? `${parent.name} - ${name}` : name;\r\n            if (state[key].level === action.payload.level) {\r\n                state[key].level = 0;\r\n            } else {\r\n                state[key].level = action.payload.level;\r\n            }\r\n        },\r\n        setBonus: (state, action: PayloadAction<ISkill>) => {\r\n            const {name, bonus, parent} = action.payload;\r\n            const key = parent ? `${parent.name} - ${name}` : name;\r\n            state[key].bonus = bonus;\r\n        },\r\n        importSkills: (state, action) => {\r\n            const skills = action.payload;\r\n            for (const name in skills) {\r\n                state[name] = skills[name];\r\n                // Migration\r\n                if (!state[name].bonus) {\r\n                    state[name].bonus = 0\r\n                }\r\n            }\r\n        },\r\n        addSkill: (state, action: PayloadAction<ISkill>) => {\r\n            const {name, parent} = action.payload;\r\n            if (parent) {\r\n                state[`${parent.name} - ${name}`] = action.payload\r\n            } else {\r\n                state[name] = action.payload;\r\n            }\r\n        },\r\n        removeSkill: (state, action: PayloadAction<ISkill>) => {\r\n            const {name, parent} = action.payload;\r\n            delete state[`${parent?.name} - ${name}`];\r\n        }\r\n    }\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setLevel, setBonus, importSkills, addSkill, removeSkill } = skillSlice.actions\r\nexport default skillSlice.reducer\r\n\r\n","import { Button, FormControl, InputGroup, OverlayTrigger, Row, Table, Tooltip } from \"react-bootstrap\";\r\nimport React, { CSSProperties, useState } from \"react\";\r\nimport { GiCrossMark } from \"react-icons/all\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addEntry, IExpEntry, removeEntry } from \"./experienceSlice\";\r\nimport { PlusCircle } from \"react-bootstrap-icons\";\r\nimport { EGods } from \"../talents/talentSlice\";\r\n\r\n\r\nexport const ExperienceView = () => {\r\n    const experience = useAppSelector(state => state.experience);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [newEntry, setNewEntry] = useState({} as IExpEntry);\r\n\r\n    function calcExpSum(index: number, array: IExpEntry[]) {\r\n        return array.slice(0, index + 1).reduce((sum, { amount }) => sum + amount, 0);\r\n    }\r\n\r\n\r\n    return <Row>\r\n        <Table striped borderless hover size={\"sm\"}>\r\n            <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Comment</th>\r\n                <th>Amount</th>\r\n                <th>Sum</th>\r\n                <th>-</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n            {experience.entries.map((value, index, array) =>\r\n                <tr key={`tr-${index}-${value.description}`}>\r\n                    <td style={getStyleForDevotion(value.devotion)}>{index}</td>\r\n                    <td>{value.description}</td>\r\n                    <td>{value.amount}</td>\r\n                    <td>{calcExpSum(index, array)}</td>\r\n                    <td style={{ cursor: 'pointer' }}>\r\n                        <OverlayTrigger\r\n                            overlay={\r\n                                <Tooltip id={`remove`}>\r\n                                    Remove entry\r\n                                </Tooltip>\r\n                            }>\r\n                            <GiCrossMark onClick={() => dispatch(removeEntry(index))} color={\"red\"}/>\r\n                        </OverlayTrigger>\r\n                    </td>\r\n                </tr>\r\n            )}\r\n            <tr>\r\n                <td colSpan={2}><b>Remaining</b></td>\r\n                <td colSpan={2}><b>{experience.expSum}</b></td>\r\n            </tr>\r\n\r\n            </tbody>\r\n        </Table>\r\n        <InputGroup>\r\n            <FormControl\r\n                placeholder={\"Comment\"}\r\n                value={newEntry.description ? newEntry.description : \"\"}\r\n                size={\"lg\"}\r\n                onChange={(event => setNewEntry({\r\n                    ...newEntry,\r\n                    description: event.target.value\r\n                }))}\r\n            />\r\n            <FormControl\r\n                placeholder={\"Amount\"}\r\n                value={newEntry.amount ? newEntry.amount : \"\"}\r\n                size={\"lg\"}\r\n                onChange={(event => setNewEntry({\r\n                    ...newEntry,\r\n                    amount: Number(event.target.value)\r\n                }))}\r\n            />\r\n            <Button\r\n                onClick={() => dispatch(addEntry(newEntry))}\r\n                variant=\"outline-primary\">\r\n                <PlusCircle/>\r\n            </Button>\r\n        </InputGroup>\r\n    </Row>;\r\n\r\n\r\n\r\n}\r\n\r\n    export function getStyleForDevotion(devotion: EGods): CSSProperties {\r\n        switch (devotion) {\r\n            case EGods.NURGLE: return {backgroundColor: \"brown\", color: \"white\"}\r\n            case EGods.KHORNE: return {backgroundColor: \"red\"}\r\n            case EGods.SLAANESH: return {backgroundColor: \"pink\"}\r\n            case EGods.TZEENTCH: return {backgroundColor: \"lightskyblue\"}\r\n            default: return {backgroundColor: \"lightgrey\"}\r\n        }\r\n    }\r\n\r\n","import { Badge, Button, Col, Container, Dropdown, DropdownButton, FormControl, InputGroup, ListGroup, Row } from \"react-bootstrap\";\r\nimport { addTalent, devotionMap, EGods, expMapTalents, ITalent, ITalentState, removeTalent } from \"./talentSlice\";\r\nimport { Pencil, PlusCircle, Trash } from \"react-bootstrap-icons\";\r\nimport React, { useState } from \"react\";\r\nimport { TalentEntryFunction } from \"./talentEntry\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { allTalents } from \"../character/resources\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\nimport { getStyleForDevotion } from \"../character/experienceView\";\r\n\r\n\r\nexport const TalentView = ({ sidebar = false }) => {\r\n    const talents = useAppSelector(state => state.talents);\r\n    const devotion = useAppSelector(state => state.character.devotion)\r\n    const remainingExp = useAppSelector(state => state.experience.expSum)\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [activeTalent, setActiveTalent] = useState({ name: '', description: '', tier: 0 } as ITalent);\r\n\r\n    const talentOptions: any[] = [];\r\n\r\n    Object.keys(allTalents).forEach(value => talentOptions.push(value));\r\n\r\n\r\n    function getEditFields() {\r\n        function hasPrerequisite(prerequisit: string) {\r\n            return !!talents[prerequisit];\r\n        }\r\n\r\n        return (<div>\r\n            <Row>\r\n                {createTalentObject(talents, setActiveTalent)}\r\n            </Row>\r\n            <Row>\r\n                {/*<Col md={12}>*/}\r\n                    <InputGroup size={\"lg\"} className=\"mb-3 col-md-12\" >\r\n                        <InputGroup.Prepend>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    dispatch(addTalent(activeTalent));\r\n                                    if (activeTalent.tier > 0) {\r\n                                        dispatch(addEntry({\r\n                                            devotion: activeTalent.devotion,\r\n                                            type: \"TALENT\",\r\n                                            amount: -calcNeededExp(activeTalent, devotion),\r\n                                            description: activeTalent.name\r\n                                        }));\r\n                                    }\r\n                                }}\r\n                                variant=\"outline-primary\">\r\n                                {talents[activeTalent.name] ? <Pencil/> : <PlusCircle/>}\r\n                            </Button>\r\n                        </InputGroup.Prepend>\r\n                        <Row>\r\n\r\n\r\n                            <Col md={5} style={{ paddingRight: 0 }}>\r\n                                <Typeahead\r\n                                    flip\r\n                                    placeholder={'Talentname'}\r\n                                    id=\"basic-typeahead-talents\"\r\n                                    options={Object.values(allTalents)}\r\n                                    labelKey=\"name\"\r\n                                    paginationText={\"More...\"}\r\n                                    size={\"large\"}\r\n                                    onInputChange={(name) => setActiveTalent({ ...activeTalent, name: name })}\r\n                                    onChange={(selection) => setActiveTalent({\r\n                                        // ...activeTalent,\r\n                                        ...allTalents[selection[0]?.name],\r\n                                        name: selection[0]?.name,\r\n                                    })\r\n                                    }\r\n                                    selected={allTalents[activeTalent.name] ? [activeTalent] : []}\r\n                                    renderMenuItemChildren={(option, props, index) => {\r\n                                        return <Row>\r\n                                            <Col md={1}>\r\n                                                <Badge style={{ ...getStyleForDevotion(option.devotion) }} pill>{option.tier}</Badge>\r\n                                            </Col>\r\n                                            <Col md={10}>{option.name}</Col>\r\n                                        </Row>\r\n                                    }}\r\n                                />\r\n                            </Col>\r\n                            <Col md={3} style={{ padding: 0 }}>\r\n                                <FormControl placeholder={\"Specialization or count\"}\r\n                                             value={activeTalent.specialization ? activeTalent.specialization : \"\"}\r\n                                             size={\"lg\"}\r\n                                             onChange={(event => setActiveTalent({\r\n                                                 ...activeTalent,\r\n                                                 specialization: event.target.value\r\n                                             }))}\r\n                                />\r\n                            </Col>\r\n                            <Col md={2} style={{ paddingLeft: 0 }}>\r\n                                <DropdownButton size={\"lg\"} variant=\"success\" title={`Tier: ${activeTalent.tier || \"-\"}`}>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 1 })}>1</Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 2 })}>2</Dropdown.Item>\r\n                                    <Dropdown.Item\r\n                                        onClick={() => setActiveTalent({ ...activeTalent, tier: 3 })}>3</Dropdown.Item>\r\n                                </DropdownButton>\r\n                            </Col>\r\n                        </Row>\r\n                        <InputGroup.Append>\r\n                            <Button\r\n                                onClick={() => dispatch(removeTalent(activeTalent))}\r\n                                variant=\"outline-primary\"><Trash/></Button>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>\r\n                {/*</Col>*/}\r\n            </Row>\r\n            <Row>\r\n                <Col md={8}>\r\n\r\n                    <FormControl placeholder={'Description'} aria-describedby=\"basic-addon1\"\r\n                                 as=\"textarea\" size={\"sm\"} rows={10}\r\n                                 value={activeTalent.description}\r\n                                 onChange={(event => setActiveTalent({\r\n                                     ...activeTalent,\r\n                                     description: event.target.value\r\n                                 }))}/>\r\n                </Col>\r\n                <Col>\r\n                    Prerequisites to Skill\r\n                    <ListGroup>\r\n                        {activeTalent.prerequisites?.split(\",\").map((prerequisit: string) =>\r\n                            <ListGroup.Item style={{ backgroundColor: hasPrerequisite(prerequisit) ? \"white\" : \"orangered\" }}\r\n                                            key={`prerequisit-${prerequisit}`}>{prerequisit}</ListGroup.Item>\r\n                        )}\r\n                        {activeTalent.tier > 0 ? <ListGroup.Item\r\n                                style={{ backgroundColor: remainingExp > calcNeededExp(activeTalent, devotion) ? \"white\" : \"orangered\" }}> Needed\r\n                                Exp: {calcNeededExp(activeTalent, devotion)} </ListGroup.Item>\r\n                            : <></> // => Traits and Gifts do not have exp\r\n                        }\r\n                    </ListGroup>\r\n                    Alignment: {activeTalent.devotion}\r\n                </Col>\r\n            </Row>\r\n        </div>);\r\n    }\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col>\r\n                    <h3>Talents & Traits</h3>\r\n                </Col>\r\n            </Row>\r\n            {sidebar ? createSimpleTalent(talents, setActiveTalent) : getEditFields()}\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nfunction calcNeededExp(activeTalent: ITalent, devotion?: EGods): number {\r\n    const characterDevotion = devotion ? devotion : EGods.UNALIGNED;\r\n    const talentDevotion = activeTalent.devotion ? activeTalent.devotion : EGods.UNALIGNED;\r\n\r\n    return expMapTalents[activeTalent.tier - 1][devotionMap[talentDevotion][characterDevotion]];\r\n}\r\n\r\nfunction createSimpleTalent(talents: ITalentState, setNewTalent: React.Dispatch<React.SetStateAction<ITalent>>) {\r\n    return <Row>{Object.keys(talents).map(value => <TalentEntryFunction key={`talent-entry-${value}`} {...talents[value]}\r\n                                                                        setActiveTalent={setNewTalent}/>)}</Row>\r\n}\r\n\r\nfunction createTalentObject(talents: ITalentState, setNewTalent: React.Dispatch<React.SetStateAction<ITalent>>) {\r\n    const result: JSX.Element[] = [];\r\n    for (const name in talents) {\r\n        result.push(\r\n            <Col key={`talent-${name}`} style={{ padding: \"5px\" }}>\r\n                <TalentEntryFunction {...talents[name]} setActiveTalent={setNewTalent}/>\r\n            </Col>\r\n        )\r\n    }\r\n    return result;\r\n}\r\n","import { Alert, Badge, Button, Col, Container, FormControl, InputGroup, Row } from \"react-bootstrap\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { addSkill, expMapSkills, removeSkill, setBonus, setLevel } from \"./skillSlice\";\r\nimport React, { useState } from \"react\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { devotionMap, EGods } from \"../talents/talentSlice\";\r\nimport { allSkills } from \"../character/resources\";\r\nimport { addEntry } from \"../character/experienceSlice\";\r\n\r\n\r\nexport const SkillEntryFunction = ({\r\n                                       skillName = 'SKILLNAME',\r\n                                       showType = true,\r\n                                       showSkilled = false,\r\n                                       callbackRoll\r\n                                   }: { skillName: string, showType: boolean, showSkilled: boolean, callbackRoll: any }) => {\r\n    const skills = useAppSelector(state => state.skills);\r\n    const characteristics = useAppSelector(state => state.characteristics);\r\n    const characterName = useAppSelector(state => state.character.characterName);\r\n    const devotion = useAppSelector(state => state.character.devotion);\r\n    const discordServer = useAppSelector(state => state.character.discord[state.character.discord.active]);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [text, setText] = useState('');\r\n    const [variant, setVariant] = useState('success');\r\n    const [newLore, setNewLore] = useState('');\r\n\r\n    const skill = skills[skillName];\r\n    if (!skill) {\r\n        console.error(`No skill for name '${skillName}' found`);\r\n        return <></>;\r\n    }\r\n    const { name, level, type, bonus, parent } = skill;\r\n\r\n    const description = showType ? `${parent ? `-> ${name}` : name} (${type})` : `${parent ? `-> ${name}` : name}`\r\n\r\n    if (showSkilled && level === 0) {\r\n        return <></>\r\n    }\r\n\r\n    function roll() {\r\n        const rollResult = callbackRoll(discordServer, characterName, characteristics[type.toUpperCase()]?.value, skill)\r\n\r\n        setVariant(rollResult.result ? 'success' : 'danger');\r\n        setShow(true);\r\n        setTimeout(() => setShow(false), 15000)\r\n        setText(`${name} Test: rolled ${rollResult.rolls} your level: ${rollResult.sum} = Test ${rollResult.result ? 'success' : 'failed'}`)\r\n\r\n\r\n    }\r\n\r\n    function getDiceCol() {\r\n        return <Col md={1}><FaDiceD20 onClick={() => roll()} color={\"darkred\"} style={{ cursor: \"pointer\" }}/></Col>\r\n    }\r\n\r\n    function getNameCol() {\r\n        return <Col md={5}>\r\n            {description} </Col>;\r\n    }\r\n\r\n    function getEditRow() {\r\n\r\n        if (name.endsWith(\"Lore\") || name === \"Trade\" ) {\r\n            return <>\r\n                {getElement()}\r\n                <Row style={{ padding: 0 }}>\r\n                    <Col>\r\n                        <Button size={\"sm\"} onClick={() => dispatch(addSkill({ name: newLore, level: 1, type, bonus: 0, parent: skill, devotion: EGods.UNALIGNED}))}>+</Button>\r\n                    </Col>\r\n                    <Col md={10} style={{ padding: 0 }}>\r\n                        <FormControl size={'sm'} placeholder=\"New Lore\"\r\n                                     onChange={(event => setNewLore(event.target.value))}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        }\r\n\r\n\r\n        function getElement() {\r\n            function changeLevel(level: number) {\r\n                dispatch(setLevel({ ...skill, level }));\r\n\r\n                // calcNeededExp\r\n                const characterDevotion = devotion ? devotion : EGods.UNALIGNED;\r\n                const skillDevotion = skill.devotion ? skill.devotion : allSkills[skill.name].devotion;\r\n\r\n                for (let lv = skill.level; lv < level; lv++) {\r\n                    const exp = expMapSkills[devotionMap[skillDevotion][characterDevotion]][lv];\r\n                    dispatch(addEntry({description: `${skill.name} Level ${lv}`, amount: -exp, type: \"SKILL\", devotion: skillDevotion}))\r\n                }\r\n            }\r\n\r\n            return <Row style={{ padding: 0 }}>\r\n                {getNameCol()}\r\n                <Col md={4} style={{ padding: 0 }}>\r\n                    <InputGroup>\r\n                        <InputGroup.Checkbox checked={level > 0} onChange={() => changeLevel(1)}/>\r\n                        <InputGroup.Checkbox checked={level > 1} onChange={() => changeLevel(2)}/>\r\n                        <InputGroup.Checkbox checked={level > 2} onChange={() => changeLevel(3)}/>\r\n                        <InputGroup.Checkbox checked={level > 3} onChange={() => changeLevel(4)}/>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Col md={2} style={{ padding: 0 }}>\r\n                    <FormControl size={'sm'} value={bonus}\r\n                                 onChange={(event => dispatch(setBonus({ ...skill, bonus: parseInt(event.target.value) })))}\r\n                    />\r\n                </Col>\r\n                {parent ?\r\n                <Col md={1}>\r\n                    <Badge variant={'danger'} style={{ cursor: 'pointer' }}\r\n                           onClick={() => {\r\n                               dispatch(removeSkill(skill))\r\n                           }}>-\r\n                    </Badge>\r\n                </Col> : <></>}\r\n            </Row>;\r\n        }\r\n\r\n        return getElement();\r\n    }\r\n\r\n    function getSkilledRow() {\r\n        return <Row>\r\n            {getDiceCol()}\r\n            {getNameCol()}\r\n            <Col>{(level - 1) * 10}</Col>\r\n            <Col>{characteristics[type.toUpperCase()]?.value}</Col>\r\n            <Col>{bonus}</Col>\r\n            <Col><b>{(level - 1) * 10 + characteristics[type.toUpperCase()]?.value + bonus}</b></Col>\r\n        </Row>;\r\n    }\r\n\r\n    return <Container style={{ padding: 0 }}>\r\n        {showSkilled ? getSkilledRow() : getEditRow()}\r\n        <Alert dismissible onClose={() => setShow(false)} show={show} variant={variant}>\r\n            {text}\r\n        </Alert>\r\n    </Container>\r\n\r\n}\r\n","import { SkillEntryFunction } from \"./skillEntry\";\r\nimport { Button, Col, Container, Jumbotron, Row } from \"react-bootstrap\";\r\nimport { rollTestAndSendToDiscord } from \"../character/Rolls\";\r\nimport React, { useState } from \"react\";\r\nimport { mapElements } from \"../character/character\";\r\nimport { useAppSelector } from \"../../general/hooks\";\r\n\r\nexport const SkillView = ({ cols = 2, showTypeDef = true, showSkilledDef = false, showSettings = true }) => {\r\n\r\n    const [skillCols, setSkillCols] = useState(cols);\r\n    const [showType, toggleShowType] = useState(showTypeDef);\r\n    const [showSkilled, toggleShowSkilled] = useState(showSkilledDef);\r\n    const skills = useAppSelector(state => state.skills)\r\n\r\n\r\n    function createSkillMatrix(colCount: number = 2, showType: boolean, showSkilled: boolean, callbackRoll: any) {\r\n        const skillObjects: JSX.Element[] = [];\r\n        const skillNames: string[] = showSkilled ? Object.values(skills).filter(value => value.level > 0).map(skill => skill.parent ? `${skill.parent.name} - ${skill.name}` : skill.name) : Object.keys(skills);\r\n        skillNames.sort((a, b) => a.localeCompare(b))\r\n\r\n        skillNames.forEach(skillName => {\r\n            skillObjects.push(\r\n                <SkillEntryFunction key={`skill-${skillName}`}  {...{\r\n                    skillName,\r\n                    showType,\r\n                    showSkilled,\r\n                    callbackRoll\r\n                }} />\r\n            )\r\n        });\r\n        return mapElements(skillObjects, colCount);\r\n    }\r\n\r\n\r\n    return <Jumbotron key={\"jumbo-skills\"}>\r\n        <Row>\r\n            <Col>\r\n                <h3>Skills</h3>\r\n            </Col>\r\n        </Row>\r\n        {showSettings ? <Row>Col: {skillCols}\r\n            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\" size=\"sm\"\r\n                    onClick={() => setSkillCols(skillCols - 1)}>-</Button>\r\n            <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\" size=\"sm\"\r\n                    onClick={() => setSkillCols(skillCols + 1)}>+</Button>\r\n            <Button size={\"sm\"} style={{ padding: 0, height: '25px' }}\r\n                    onClick={() => toggleShowType(!showType)}>Type</Button>\r\n            <Button size={\"sm\"} style={{ padding: 0, height: '25px' }}\r\n                    onClick={() => toggleShowSkilled(!showSkilled)}>Skilled</Button>\r\n        </Row> : <></>}\r\n        <Container fluid>\r\n            <Row>\r\n                {createSkillMatrix(skillCols, showType, showSkilled, rollTestAndSendToDiscord).map((skillCols, index) => (\r\n                    <Col key={`skillcol-${index}`}>\r\n                        <Col>\r\n                            {showSkilled ? <Row>\r\n                                    <Col md={1}>{/* EMPTY */}</Col>\r\n                                    <Col md={5}><b>Skillname</b></Col>\r\n                                    <Col>T</Col>\r\n                                    <Col>C</Col>\r\n                                    <Col>B</Col>\r\n                                    <Col><b>Sum</b></Col>\r\n                                </Row>\r\n                                : <Row>\r\n                                    <Col md={5}><b>Skillname</b></Col>\r\n                                    <Col md={4} style={{ padding: 0 }}>\r\n                                        <span style={{ paddingLeft: 0, paddingRight: 12 }}><b>T</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+10</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+20</b></span>\r\n                                        <span style={{ paddingLeft: 5, paddingRight: 5 }}><b>+30</b></span>\r\n                                    </Col>\r\n                                    <Col md={2}>Bonus</Col>\r\n                                </Row>\r\n                            }\r\n                        </Col>\r\n                        {skillCols}\r\n                    </Col>\r\n                ))}\r\n            </Row>\r\n        </Container>\r\n    </Jumbotron>\r\n}\r\n","import { Col, Container, FormControl, InputGroup, Row } from \"react-bootstrap\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { allItems, allTalents } from \"../character/resources\";\r\nimport React, { createRef, useState } from \"react\";\r\nimport { IItem } from \"../inventory/inventorySlice\";\r\nimport { ITalent } from \"../talents/talentSlice\";\r\n\r\n\r\nexport type ISearchable = IItem | ITalent\r\n\r\nexport const SearchView = () => {\r\n    const emptyTalent = {} as ITalent\r\n\r\n    const testRef = createRef<HTMLTextAreaElement>()\r\n\r\n    const [activeSearch, setActiveSearch] = useState({ name: '', description: '' } as ISearchable);\r\n\r\n    const searchOptions: string[] = [];\r\n\r\n    // Object.keys(allTalents).forEach(value => searchOptions.push(value));\r\n    // Object.keys(allItems).forEach(value => searchOptions.push(value));\r\n    Object.keys({ ...allTalents, ...allItems }).forEach(value => searchOptions.push(value));\r\n\r\n    return <Container>\r\n        <Row>\r\n            <Col>\r\n                <Typeahead\r\n                    placeholder={'Search'}\r\n                    id=\"basic-typeahead-search\"\r\n                    options={searchOptions}\r\n                    paginationText={\"More...\"}\r\n                    size={\"large\"}\r\n                    onInputChange={(name) => setActiveSearch({ ...emptyTalent, name: name })}\r\n                    onChange={(selection) => setActiveSearch({\r\n                        ...activeSearch, ...allTalents[selection[0]?.toString()], ...allItems[selection[0]?.toString()],\r\n                        name: selection[0]?.toString()\r\n                    })\r\n                    }\r\n                    selected={{ ...allTalents, ...allItems }[activeSearch.name] ? [activeSearch.name] : []}\r\n                />\r\n            </Col>\r\n        </Row>\r\n        {{ ...allTalents, ...allItems }[activeSearch.name] ?\r\n            <Row>\r\n                <Col>\r\n                    <FormControl placeholder={'Description'} aria-describedby=\"basic-addon1\"\r\n                                 as=\"textarea\" size={\"sm\"} rows={10}\r\n                                 value={JSON.stringify(activeSearch, null, \"\\t\")\r\n                                     .replaceAll('\\\\n', \"\\n\")\r\n                                     .replaceAll('\"', '')\r\n                                 }\r\n                                 autoFocus\r\n                                 plaintext={true}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n            : undefined\r\n        }\r\n    </Container>\r\n}\r\n","import React, { useCallback, useMemo } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { FormControl, InputGroup } from \"react-bootstrap\";\r\n\r\nconst baseStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderWidth: 2,\r\n    borderRadius: 2,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#bdbdbd',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n\r\nconst activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n\r\nconst acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n\r\nconst rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\n\r\nexport const FileUploadDrop = ({ importState, setImportState }\r\n                                   : { importState: string, setImportState: React.Dispatch<React.SetStateAction<string>> }) => {\r\n\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        acceptedFiles.forEach((file: any) => {\r\n            const reader = new FileReader()\r\n\r\n            reader.onabort = () => console.log('file reading was aborted')\r\n            reader.onerror = () => console.log('file reading has failed')\r\n            reader.onload = () => {\r\n                // Do whatever you want with the file contents\r\n                const binaryStr = reader.result;\r\n                const result: string = binaryStr as string\r\n                setImportState(result)\r\n            }\r\n            reader.readAsText(file)\r\n        })\r\n\r\n    }, [])\r\n    const {\r\n        getRootProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject\r\n    } = useDropzone({ onDrop, accept: 'application/json' })\r\n\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n    }), [\r\n        isDragActive,\r\n        isDragReject,\r\n        isDragAccept\r\n    ]);\r\n\r\n    return (\r\n        <div {...getRootProps()} style={style}>\r\n\r\n            <InputGroup>\r\n                {/*<input {...getInputProps()} />*/}\r\n                <FormControl as=\"textarea\" size={\"sm\"} rows={10}\r\n                             placeholder={\"Drag 'n' drop some files here and click on load\"}\r\n                             aria-label=\"Importfield\"\r\n                             value={importState}\r\n                             onChange={(event) => {\r\n                                 setImportState(event.target.value)\r\n                             }}/>\r\n            </InputGroup>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n","import { IInventory, IItem } from \"../inventory/inventorySlice\";\r\nimport { IArmour, IWeapon, IWeaponState } from \"../armoury/armourySlice\";\r\nimport { allArmour, allItems, allWeapons } from \"../character/resources\";\r\nimport { EItemCategory } from \"../character/EItemCategory\";\r\nimport { Button, Col, Container, Form, FormControl, Row } from \"react-bootstrap\";\r\nimport { ETabNames } from \"../character/ETabNames\";\r\nimport { FileUploadDrop } from \"../character/fileUploadDrop\";\r\nimport { changeLayout, setDiscordActive, setDiscordServer, setDiscordServerDebug } from \"../character/characterSlice\";\r\nimport React, { useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { saveCharToDiscord } from \"../character/Rolls\";\r\n\r\nexport const Settings = ({importStateFromJson, getNameForTabKey} : {\r\n    importStateFromJson: (importState: string) => void,\r\n    getNameForTabKey: (key: ETabNames) => string\r\n}) => {\r\n\r\n    const [importState, setImportState] = useState('');\r\n    const [editDiscord, setEditDiscord] = useState(false);\r\n    const [editDiscordDebug, setEditDiscordDebug] = useState(false);\r\n\r\n    const completeState = useAppSelector(state => state);\r\n    const dispatch = useAppDispatch()\r\n\r\n\r\n    function calcNewItems() {\r\n        const result = {\r\n            items: {},\r\n            weapons: {},\r\n            armour: {}\r\n        }\r\n\r\n        const items: IInventory = {};\r\n        const weapons: IWeaponState = {};\r\n        const armour: { [name: string]: IArmour } = {};\r\n\r\n        const inventory = completeState.inventory;\r\n        for (const itemName in inventory) {\r\n            if (!(itemName in allItems || itemName in allWeapons || itemName in allArmour)) {\r\n                const item: IItem = inventory[itemName];\r\n                if (item.category === EItemCategory.WEAPON) {\r\n                    weapons[itemName] = item as IWeapon;\r\n                } else if (item.category === EItemCategory.ARMOUR) {\r\n                    armour[itemName] = item as IArmour;\r\n                } else {\r\n                    items[itemName] = item;\r\n                }\r\n            }\r\n        }\r\n        result.items = items;\r\n        result.weapons = weapons;\r\n        result.armour = armour;\r\n        return result\r\n    }\r\n\r\n    return <Container>\r\n            <Row>\r\n                <Col sm={2}>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button size={\"sm\"}\r\n                                    onClick={() => {\r\n                                        setImportState(JSON.stringify(completeState));\r\n                                    }}>Export</Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Button size={\"sm\"} onClick={() => importStateFromJson(importState)}>Load</Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <a href={`data:text/json;charset=utf-8,${encodeURIComponent(\r\n                                JSON.stringify(completeState)\r\n                            )}`}\r\n                               download={completeState.character.characterName ? completeState.character.characterName + \".json\" : \"DnD-Character.json\"}>\r\n                                <Button>Download</Button>\r\n                            </a>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button onClick={() => saveCharToDiscord(completeState)}>\r\n                                Save to Discord\r\n                            </Button>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Button onClick={() => setImportState(JSON.stringify(calcNewItems()))}>Export New\r\n                                Items</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n\r\n                <Col sm={10}>\r\n                    <FileUploadDrop {...{ importState, setImportState }} />\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col md={3}>\r\n                    <Row>\r\n                        <Col>\r\n\r\n                            <Form.Check label=\"Prod\" name=\"group1\" type={'radio'} id={`discord-inline-radio-1`}\r\n                                        checked={completeState.character.discord.active === 'prod'}\r\n                                        onChange={() => dispatch(setDiscordActive('prod'))}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col>\r\n                            <Form.Check label=\"Debug\" name=\"group1\" type={'radio'} id={`discord-inline-radio-2`}\r\n                                        checked={completeState.character.discord.active === 'debug'}\r\n                                        onChange={() => dispatch(setDiscordActive('debug'))}\r\n                            />\r\n\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n                <Col md={9}>\r\n                    <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n                        {editDiscord ?\r\n                            <FormControl\r\n                                onMouseLeave={() => setEditDiscord(false)}\r\n                                value={completeState.character.discord.prod}\r\n                                onChange={(event => dispatch(setDiscordServer(event.target.value)))}\r\n                                autoFocus={true}/>\r\n                            :\r\n                            <h4\r\n                                onClick={() => setEditDiscord(true)}\r\n                            >{completeState.character.discord.prod ? completeState.character.discord.prod : 'Click to set Discord'}</h4>\r\n                        }\r\n                    </Row>\r\n\r\n                    <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n                        {editDiscordDebug ?\r\n                            <FormControl\r\n                                onMouseLeave={() => setEditDiscordDebug(false)}\r\n                                value={completeState.character.discord.debug}\r\n                                onChange={(event => dispatch(setDiscordServerDebug(event.target.value)))}\r\n                                autoFocus={true}/>\r\n                            :\r\n                            <h4\r\n                                onClick={() => setEditDiscordDebug(true)}\r\n                            >{completeState.character.discord.debug ? completeState.character.discord.debug : 'Click to set Discord - debug'}</h4>\r\n                        }\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            {Object.keys(ETabNames)\r\n                .flatMap((value, index) => {\r\n                        if (isNaN(Number(value))) {\r\n                            return [];\r\n                        }\r\n\r\n                        return <Row key={`layout-${value}`}>\r\n                            <Col xs={3}>{getNameForTabKey(index)}</Col>\r\n                            <Col xs={9} style={{ padding: 0 }}>\r\n                                <Form>\r\n                                    <div key={`inline-radio`} className=\"mb-3\">\r\n                                        <Form.Check inline label=\"Left Sidebar\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-1`}\r\n                                                    checked={completeState.character.layout.left.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'left', index }))}\r\n                                        />\r\n                                        <Form.Check inline label=\"Main\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-2`}\r\n                                                    checked={completeState.character.layout.main.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'main', index }))}\r\n                                        />\r\n                                        <Form.Check inline label=\"Right Sidebar\" type={'radio'} id={`${value}-inline-radio-3`}\r\n                                                    checked={completeState.character.layout.right.includes(index)}\r\n                                                    onChange={() => dispatch(changeLayout({ field: 'right', index }))}\r\n                                        />\r\n                                    </div>\r\n                                </Form>\r\n                            </Col>\r\n                        </Row>\r\n                    }\r\n                )}\r\n        </Container>\r\n\r\n\r\n\r\n}\r\n\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Col, Container, Form, FormControl, FormGroup, FormLabel, Jumbotron, Row } from \"react-bootstrap\";\r\nimport { CharacteristicsCounter } from \"../characteristics/characteristicsCounter\";\r\nimport './character.scss';\r\nimport { characteristicsInitialState, ICharacteristicsState, importCharacteristics } from \"../characteristics/characteristicsSlice\";\r\nimport { importTalents } from \"../talents/talentSlice\";\r\nimport { InventoryFunction } from \"../inventory/inventory\";\r\nimport { useAppDispatch, useAppSelector } from \"../../general/hooks\";\r\nimport { RootState } from \"../../general/store\";\r\nimport { importSkills } from \"../skills/skillSlice\";\r\nimport { importInventory } from \"../inventory/inventorySlice\";\r\nimport { TalentView } from \"../talents/talentView\";\r\nimport { Armoury } from \"../armoury/armoury\";\r\nimport { importArmoury } from \"../armoury/armourySlice\";\r\nimport { importCharacter, setCharacterName } from \"./characterSlice\";\r\nimport { rollAndSendToDiscord } from \"./Rolls\";\r\nimport { FaDiceD20 } from \"react-icons/all\";\r\nimport { SkillView } from \"../skills/skillView\";\r\nimport { ETabNames } from \"./ETabNames\";\r\nimport { ExperienceView } from \"./experienceView\";\r\nimport { SearchView } from \"../search/searchView\";\r\nimport { importExperience } from \"./experienceSlice\";\r\nimport { Settings } from \"../settings/settings\";\r\n\r\n\r\nexport const CharacterFunction = ({ isMobile }: { isMobile: boolean }) => {\r\n    const [mainCols, setMainCols] = useState(1);\r\n    const [editCharacterName, setEditCharacterName] = useState(false);\r\n    const [customAmount, setCustomAmount] = useState(1)\r\n    const [customLimit, setCustomLimit] = useState(100)\r\n    const [lastSafe, setLastSafe] = useState(new Date(0))\r\n\r\n    const completeState = useAppSelector(state => state);\r\n    const dispatch = useAppDispatch()\r\n\r\n    function importStateFromJson(importState: string) {\r\n        if (!importState) {\r\n            return;\r\n        }\r\n        const state = JSON.parse(importState) as RootState;\r\n\r\n        dispatch(importCharacter(state.character))\r\n\r\n        dispatch(importCharacteristics(state.characteristics))\r\n        dispatch(importInventory(state.inventory))\r\n        dispatch(importSkills(state.skills))\r\n        dispatch(importTalents(state.talents))\r\n        dispatch(importArmoury(state.armoury))\r\n        dispatch(importExperience(state.experience))\r\n\r\n        saveCharToLocalStorage()\r\n    }\r\n\r\n    function getDiscordServer() {\r\n        return completeState.character.discord[completeState.character.discord.active];\r\n    }\r\n\r\n    function getCharacteristicsPane() {\r\n        return <Jumbotron key={\"jumbo-characteristics\"}>\r\n            <Container style={{ padding: 0 }}>\r\n                <Row>\r\n                    <Col>\r\n                        {editCharacterName ?\r\n                            <FormControl\r\n                                onMouseLeave={() => setEditCharacterName(false)}\r\n                                value={completeState.character.characterName}\r\n                                onChange={(event => dispatch(setCharacterName(event.target.value)))}\r\n                                autoFocus={true}/>\r\n                            :\r\n                            <h1 style={{ fontFamily: 'CloisterBlack', fontSize: \"xxx-large\" }}\r\n                                onClick={() => setEditCharacterName(true)}\r\n                            >{completeState.character.characterName}</h1>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {createCharacteristicsObjects(characteristicsInitialState)}\r\n                </Row>\r\n                <Row>\r\n\r\n                    <Form>\r\n                        <Form.Row>\r\n\r\n                            <Col md={3}>\r\n                                <h3>Custom Roll:</h3>\r\n                            </Col>\r\n\r\n                            <Col md={3}>\r\n\r\n                                <FormGroup as={Row}>\r\n                                    <FormLabel column md={4}>Amount</FormLabel>\r\n                                    <Col md={8}>\r\n                                        <FormControl size={\"sm\"} value={customAmount}\r\n                                                     onChange={event => setCustomAmount(parseInt(event.target.value))}/>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col>d</Col>\r\n                            <Col md={3}>\r\n\r\n                                <FormGroup as={Row}>\r\n                                    <FormLabel column md={4}>Limit</FormLabel>\r\n                                    <Col md={8}>\r\n                                        <FormControl size={\"sm\"} value={customLimit}\r\n                                                     onChange={event => setCustomLimit(parseInt(event.target.value))}/>\r\n                                    </Col>\r\n                                </FormGroup>\r\n                            </Col>\r\n                            <Col>\r\n                                <Button\r\n                                    onClick={() => rollAndSendToDiscord(getDiscordServer(), completeState.character.characterName, customAmount, customLimit)}\r\n                                    variant={\"light\"}> Roll <FaDiceD20 color={\"darkred\"} style={{ cursor: \"pointer\" }}/>\r\n                                </Button>\r\n                            </Col>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Row>\r\n            </Container>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getSkillsPane(layout: string) {\r\n        const sidebarSettings = { cols: 1, showSkilledDef: true, showSettings: false }\r\n        return layout === 'main' ? <SkillView key={'skillView'}/> : <SkillView key={'skillView'} {...sidebarSettings} />\r\n    }\r\n\r\n    function getTalentsPane(layout: string) {\r\n        return <Jumbotron key={\"jumbo-talents\"}>\r\n            <TalentView sidebar={layout !== 'main'}/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getInventoryPane() {\r\n        return <Jumbotron key={\"jumbo-inventory\"}>\r\n            <Row>\r\n                <Col>\r\n                    <h3>{getNameForTabKey(ETabNames.INVENTORY)}</h3>\r\n                </Col>\r\n            </Row>\r\n            <InventoryFunction/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getArmouryPane() {\r\n        return <Jumbotron key={\"jumbo-armoury\"}>\r\n            <Armoury/>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getSettingsPane() {\r\n\r\n        return <Jumbotron key={\"jumbo-settings\"}>\r\n            <Row>\r\n                <Col>\r\n                    <h3>{getNameForTabKey(ETabNames.SETTINGS)}</h3>\r\n                </Col>\r\n            </Row>\r\n            <Row><Col>{`Last safe - ${lastSafe}`}</Col></Row>\r\n            <Settings importStateFromJson={importStateFromJson} getNameForTabKey={getNameForTabKey} />\r\n            <Row>\r\n                Cols: {mainCols}\r\n                <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => setMainCols(Math.max(mainCols - 1, 1))}>-</Button>\r\n                <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => setMainCols(mainCols + 1)}>+</Button>\r\n            </Row>\r\n        </Jumbotron>\r\n\r\n        // function calcNewItems() {\r\n        //     const result = {\r\n        //         items: {},\r\n        //         weapons: {},\r\n        //         armour: {}\r\n        //     }\r\n        //\r\n        //     const items: IInventory = {};\r\n        //     const weapons: IWeaponState = {};\r\n        //     const armour: { [name: string]: IArmour } = {};\r\n        //\r\n        //     const inventory = completeState.inventory;\r\n        //     for (const itemName in inventory) {\r\n        //         if (!(itemName in allItems || itemName in allWeapons || itemName in allArmour)) {\r\n        //             const item: IItem = inventory[itemName];\r\n        //             if (item.category === EItemCategory.WEAPON) {\r\n        //                 weapons[itemName] = item as IWeapon;\r\n        //             } else if (item.category === EItemCategory.ARMOUR) {\r\n        //                 armour[itemName] = item as IArmour;\r\n        //             } else {\r\n        //                 items[itemName] = item;\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     result.items = items;\r\n        //     result.weapons = weapons;\r\n        //     result.armour = armour;\r\n        //     return result\r\n        // }\r\n        //\r\n        // return <Jumbotron key={\"jumbo-settings\"}>\r\n        //     <Container>\r\n        //         <Row>\r\n        //             <Col>\r\n        //                 <h3>{getNameForTabKey(ETabNames.SETTINGS)}</h3>\r\n        //             </Col>\r\n        //         </Row>\r\n        //         <Row><Col>{`Last safe - ${lastSafe}`}</Col></Row>\r\n        //         <Row>\r\n        //             <Col sm={2}>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //                         <Button size={\"sm\"}\r\n        //                                 onClick={() => {\r\n        //                                     setImportState(JSON.stringify(completeState));\r\n        //                                 }}>Export</Button>\r\n        //                     </Col>\r\n        //                     <Col>\r\n        //                         <Button size={\"sm\"} onClick={() => importStateFromJson(importState)}>Load</Button>\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //                         <a href={`data:text/json;charset=utf-8,${encodeURIComponent(\r\n        //                             JSON.stringify(completeState)\r\n        //                         )}`}\r\n        //                            download={completeState.character.characterName ? completeState.character.characterName + \".json\" : \"DnD-Character.json\"}>\r\n        //                             <Button>Download</Button>\r\n        //                         </a>\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //                         <Button>\r\n        //                             Save to Discord\r\n        //                         </Button>\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //                 <Row>\r\n        //                     Cols: {mainCols}\r\n        //                     <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n        //                             size=\"sm\"\r\n        //                             onClick={() => setMainCols(Math.max(mainCols - 1, 1))}>-</Button>\r\n        //                     <Button style={{ padding: 0, width: '10px', height: '25px' }} variant=\"outline-secondary\"\r\n        //                             size=\"sm\"\r\n        //                             onClick={() => setMainCols(mainCols + 1)}>+</Button>\r\n        //                 </Row>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //                         <Button onClick={() => setImportState(JSON.stringify(calcNewItems()))}>Export New\r\n        //                             Items</Button>\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //             </Col>\r\n        //\r\n        //             <Col sm={10}>\r\n        //                 <FileUploadDrop {...{ importState, setImportState }} />\r\n        //             </Col>\r\n        //         </Row>\r\n        //\r\n        //         <Row>\r\n        //             <Col md={3}>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //\r\n        //                         <Form.Check label=\"Prod\" name=\"group1\" type={'radio'} id={`discord-inline-radio-1`}\r\n        //                                     checked={completeState.character.discord.active === 'prod'}\r\n        //                                     onChange={() => dispatch(setDiscordActive('prod'))}\r\n        //                         />\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //                 <Row>\r\n        //                     <Col>\r\n        //                         <Form.Check label=\"Debug\" name=\"group1\" type={'radio'} id={`discord-inline-radio-2`}\r\n        //                                     checked={completeState.character.discord.active === 'debug'}\r\n        //                                     onChange={() => dispatch(setDiscordActive('debug'))}\r\n        //                         />\r\n        //\r\n        //                     </Col>\r\n        //                 </Row>\r\n        //             </Col>\r\n        //             <Col md={9}>\r\n        //                 <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n        //                     {editDiscord ?\r\n        //                         <FormControl\r\n        //                             onMouseLeave={() => setEditDiscord(false)}\r\n        //                             value={completeState.character.discord.prod}\r\n        //                             onChange={(event => dispatch(setDiscordServer(event.target.value)))}\r\n        //                             autoFocus={true}/>\r\n        //                         :\r\n        //                         <h4\r\n        //                             onClick={() => setEditDiscord(true)}\r\n        //                         >{completeState.character.discord.prod ? completeState.character.discord.prod : 'Click to set Discord'}</h4>\r\n        //                     }\r\n        //                 </Row>\r\n        //\r\n        //                 <Row style={{ border: 2, borderColor: 'black', borderStyle: 'solid', margin: 3 }}>\r\n        //                     {editDiscordDebug ?\r\n        //                         <FormControl\r\n        //                             onMouseLeave={() => setEditDiscordDebug(false)}\r\n        //                             value={completeState.character.discord.debug}\r\n        //                             onChange={(event => dispatch(setDiscordServerDebug(event.target.value)))}\r\n        //                             autoFocus={true}/>\r\n        //                         :\r\n        //                         <h4\r\n        //                             onClick={() => setEditDiscordDebug(true)}\r\n        //                         >{completeState.character.discord.debug ? completeState.character.discord.debug : 'Click to set Discord - debug'}</h4>\r\n        //                     }\r\n        //                 </Row>\r\n        //             </Col>\r\n        //         </Row>\r\n        //\r\n        //         {Object.keys(ETabNames)\r\n        //             .flatMap((value, index) => {\r\n        //                     if (isNaN(Number(value))) {\r\n        //                         return [];\r\n        //                     }\r\n        //\r\n        //                     return <Row key={`layout-${value}`}>\r\n        //                         <Col xs={3}>{getNameForTabKey(index)}</Col>\r\n        //                         <Col xs={9} style={{ padding: 0 }}>\r\n        //                             <Form>\r\n        //                                 <div key={`inline-radio`} className=\"mb-3\">\r\n        //                                     <Form.Check inline label=\"Left Sidebar\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-1`}\r\n        //                                                 checked={completeState.character.layout.left.includes(index)}\r\n        //                                                 onChange={() => dispatch(changeLayout({ field: 'left', index }))}\r\n        //                                     />\r\n        //                                     <Form.Check inline label=\"Main\" name=\"group1\" type={'radio'} id={`${value}-inline-radio-2`}\r\n        //                                                 checked={completeState.character.layout.main.includes(index)}\r\n        //                                                 onChange={() => dispatch(changeLayout({ field: 'main', index }))}\r\n        //                                     />\r\n        //                                     <Form.Check inline label=\"Right Sidebar\" type={'radio'} id={`${value}-inline-radio-3`}\r\n        //                                                 checked={completeState.character.layout.right.includes(index)}\r\n        //                                                 onChange={() => dispatch(changeLayout({ field: 'right', index }))}\r\n        //                                     />\r\n        //                                 </div>\r\n        //                             </Form>\r\n        //                         </Col>\r\n        //                     </Row>\r\n        //                 }\r\n        //             )}\r\n        //     </Container>\r\n        // </Jumbotron>\r\n    }\r\n\r\n\r\n    const MINUTE_MS = 60000;\r\n\r\n    function saveCharToLocalStorage() {\r\n        localStorage.setItem(\"char\", JSON.stringify(completeState));\r\n        setLastSafe(new Date());\r\n        console.log(`Saved char - ${lastSafe}`);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const storedChar = localStorage.getItem(\"char\")\r\n        if (storedChar) {\r\n            importStateFromJson(storedChar)\r\n        }\r\n\r\n        const interval = setInterval(() => {\r\n            saveCharToLocalStorage()\r\n        }, MINUTE_MS);\r\n\r\n        return () => clearInterval(interval);\r\n\r\n    }, []);\r\n\r\n    function getExperiencePane() {\r\n        return <Jumbotron key={\"jumbo-experience\"}>\r\n            <Row>\r\n                <Col>\r\n                    <h3>{getNameForTabKey(ETabNames.EXPERIENCE)}</h3>\r\n                </Col>\r\n            </Row>\r\n            <ExperienceView/>\r\n        </Jumbotron>;\r\n    }\r\n\r\n    function getSearchPane() {\r\n        return <Jumbotron key={\"jumbo-search\"}>\r\n            <Row>\r\n                <Col>\r\n                    <SearchView/>\r\n                </Col>\r\n            </Row>\r\n        </Jumbotron>\r\n    }\r\n\r\n    function getNameForTabKey(key: ETabNames) {\r\n        switch (key) {\r\n            case ETabNames.CHARACTERISTICS:\r\n                return 'Characteristics';\r\n            case ETabNames.SKILLS:\r\n                return 'Skills';\r\n            case ETabNames.TALENTS:\r\n                return 'Talents';\r\n            case ETabNames.ARMOURY:\r\n                return 'Armoury';\r\n            case ETabNames.INVENTORY:\r\n                return 'Inventory';\r\n            case ETabNames.SETTINGS:\r\n                return 'Settings';\r\n            case ETabNames.EXPERIENCE:\r\n                return \"Experience\"\r\n            case ETabNames.SEARCH:\r\n                return \"Search\"\r\n            default:\r\n                return `No name for no. ${key}`\r\n        }\r\n    }\r\n\r\n    function getTabForKey(key: ETabNames, layout: string) {\r\n        switch (key) {\r\n            case ETabNames.CHARACTERISTICS:\r\n                return getCharacteristicsPane();\r\n            case ETabNames.SKILLS:\r\n                return getSkillsPane(layout);\r\n            case ETabNames.TALENTS:\r\n                return getTalentsPane(layout);\r\n            case ETabNames.ARMOURY:\r\n                return getArmouryPane();\r\n            case ETabNames.INVENTORY:\r\n                return getInventoryPane();\r\n            case ETabNames.SETTINGS:\r\n                return getSettingsPane();\r\n            case ETabNames.EXPERIENCE:\r\n                return getExperiencePane();\r\n            case ETabNames.SEARCH:\r\n                return getSearchPane();\r\n            default:\r\n                return <Jumbotron>{`No tab for no. ${key}`}</Jumbotron>\r\n        }\r\n    }\r\n\r\n    function getTabs(layout = 'main') {\r\n        const panes = completeState.character.layout[layout].map(name => getTabForKey(name, layout))\r\n        return <>\r\n            {mainCols === 1\r\n                ? <div>{mapElements(panes, mainCols)}</div>\r\n                : <Row>\r\n                    {mapElements(panes, mainCols).map((elementCol, index) => (\r\n                        <Col key={`skillcol-${index}`} md={6}>\r\n                            {elementCol}\r\n                        </Col>\r\n                    ))}\r\n                </Row>\r\n            }</>\r\n    }\r\n\r\n    return isMobile ? (\r\n        <Row>\r\n            <Col id=\"page-content-wrapper-mobile\">\r\n                <div>\r\n                    {getTabs('left')}\r\n                    {getTabs()}\r\n                    {getTabs('right')}\r\n                </div>\r\n            </Col>\r\n        </Row>\r\n    ) : <Row>\r\n        <Col md={3} id=\"sidebar-wrapper\">\r\n            {getTabs('left')}\r\n        </Col>\r\n        <Col md={6} id=\"page-content-wrapper\">\r\n            <div>\r\n                {getTabs()}\r\n            </div>\r\n        </Col>\r\n        <Col md={3} id=\"sidebar-wrapper\">\r\n            {getTabs('right')}\r\n        </Col>\r\n    </Row>\r\n\r\n} // END OF FUNCTION\r\n\r\n\r\nfunction createCharacteristicsObjects(characteristics: ICharacteristicsState): JSX.Element[] {\r\n    const result: JSX.Element[] = [];\r\n    for (const short in characteristics) {\r\n        result.push(\r\n            <Col key={`stat-${short}`} style={{ padding: \"5px\" }}>\r\n                <CharacteristicsCounter short={short}/>\r\n            </Col>\r\n        )\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nexport function mapElements(objects: JSX.Element[], colCount: number) {\r\n    const matrix: any[] = [];\r\n    for (let j = 0; j < colCount; j++) {\r\n        const part = ((objects.length - 1) / colCount + 1 | 0);\r\n        matrix[j] = new Array(part);\r\n        for (let i = part * j; i < part * (j + 1); i++) {\r\n            matrix[j].push(objects[i]);\r\n        }\r\n    }\r\n    return matrix;\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport { CharacterFunction } from \"./components/character/character\";\nimport { Container } from \"react-bootstrap\";\n\n\nfunction App() {\n\n    const [width, setWidth] = useState<number>(window.innerWidth);\n\n    function handleWindowSizeChange() {\n        setWidth(window.innerWidth);\n    }\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n\n    return <Container fluid className=\"App\" style={{ backgroundColor: \"black\" }}>\n            <CharacterFunction isMobile={width <= 1024} />\n        </Container>\n}\n\n\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { characteristicsSlice } from \"../components/characteristics/characteristicsSlice\";\r\nimport { skillSlice } from \"../components/skills/skillSlice\";\r\nimport { talentSlice } from \"../components/talents/talentSlice\";\r\nimport { inventorySlice } from \"../components/inventory/inventorySlice\";\r\nimport { characterSlice } from \"../components/character/characterSlice\";\r\nimport { armourySlice } from \"../components/armoury/armourySlice\";\r\nimport { experienceSlice } from \"../components/character/experienceSlice\";\r\n\r\n/**\r\n * Creates the Redux store and adds the default middlewares from redux toolkit as well as the router middleware\r\n */\r\nconst store = configureStore({\r\n    reducer: {\r\n        character: characterSlice.reducer,\r\n        characteristics: characteristicsSlice.reducer,\r\n        skills: skillSlice.reducer,\r\n        talents: talentSlice.reducer,\r\n        inventory: inventorySlice.reducer,\r\n        armoury: armourySlice.reducer,\r\n        experience: experienceSlice.reducer,\r\n    },\r\n    middleware: [...getDefaultMiddleware()],\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type RootState = ReturnType<typeof store.getState>\r\n\r\nexport default store\r\n","export default __webpack_public_path__ + \"static/media/CloisterBlack.0a8dea1a.ttf\";","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./general/store\";\nimport '../src/fonts/CloisterBlack.ttf'\n\nReactDOM.render(\n    <React.Fragment>\n        <Provider store={store}>\n            <link\n                rel=\"stylesheet\"\n                href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css\"\n                integrity=\"sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l\"\n                crossOrigin=\"anonymous\"\n            />\n            <App/>\n        </Provider>\n    </React.Fragment>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}